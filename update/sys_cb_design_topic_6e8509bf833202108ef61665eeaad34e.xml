<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="Submit a Request">d28509bf833202108ef61665eeaad34b</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"6a04d705c30949bd98cee9512d7bdf26","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":"true"},"id":"6a04d705c30949bd98cee9512d7bdf26"}],"goals":[{"name":"primary","trigger_id":"6a04d705c30949bd98cee9512d7bdf26","nodes":[{"type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","mode":"string","value":""},"id":"50e42592e1a246b58aadc7e397a1d70f","name":"Start","expert_mode":false},{"type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","mode":"string","value":""},"id":"997cc47e253a4f4486536c1b7b7ae200","name":"End","expert_mode":false},{"type":"ScriptedAction","script":"(function execute() {\n    var itemId = vaInputs.catalog_item_id.getValue();\n    var itemJSON = new sn_sc.CatalogConversationHelper().getItem(itemId);\n    vaVars.itemJSON = JSON.stringify(itemJSON);\n    vaVars.itemName = itemJSON.name;\n})()\n","id":"322bff24665f4c2e8ef607c616d6a2d1","name":"Set Selected Item","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false},{"type":"TextOutputPrompt","value":[{"type":"String","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var response = gs.getMessage(\"Here are some more details about {0}\", vaVars.itemName);\n    if (itemJson.description) \n        return response + itemJson.description;\n\n    return gs.getMessage(\"Selected {0}\", vaVars.itemName);\n})()\n"}],"request_feedback":true,"id":"74e9eb47d964487f8b45da62b9f27b26","name":"Item Description","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"secure":false},{"type":"InputPrompt","variable_id":"73b26d123eba4bc1a43a500b190f91a4","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Should I proceed with this?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"request_feedback":false,"skippable":{"type":"Applicability","mode":"script","value":"false"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"id":"6175385c4ab04062981531421fa16d0c","name":"Proceed","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"formatType":"Text","validationScript":"","description":""},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"query","value":"proceed=false"},"id":"a9e30b88c171415f9ec1f8f0aef883ea","name":"No","expert_mode":false},{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"query","value":"proceed=true"},"id":"aceb4cf8b68c43bdb1a94afd3dc27385","name":"Yes","expert_mode":false}],"id":"3f20bcd9ba1d4bb580e636c9c096f15d","goal_id":"primary","expert_mode":false},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Has VA Support","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n   return JSON.parse(vaVars.itemJSON).va_support;\n})()"},"id":"7f8269a161b249f8bd2c111a4ef9aa28","name":"Has VA Support","expert_mode":false},{"type":"Branch","label":"No VA Support","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return !JSON.parse(vaVars.itemJSON).va_support;\n})()"},"id":"dda04c2298a2448eb0573bec8df2d85f","name":"No VA Support","expert_mode":false}],"id":"1e8fe727712f4590b1b1baec08782bdf","goal_id":"primary","expert_mode":false},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Item with no variables","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n    do{\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n       //There are variables that we can show\n        return false;\n    }\n    //No variables that we can show\n    return true;\n})()\n"},"id":"165afdb977cf4585a899c4dcf8b04d0c","name":"Item with no variables","expert_mode":false},{"type":"Branch","label":"Item with variables","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n\n    do{\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n       //There are variables that we can show\n        return true;\n    }\n    //No variables  that we can show\n    return false;\n})()\n"},"id":"39b0c760712346b995addbdd5dc19e25","name":"Item with variables","expert_mode":false}],"id":"4e5bfad100634740b1757ec7e858ba88","goal_id":"primary","expert_mode":false},{"type":"TextOutputPrompt","value":[{"type":"String","mode":"string","value":"gs.getMessageLang(\"va:topic:703285f7833202108ef61665eeaad3b8:node:5e10b9530d174953ab2d672e4de21207:field:0\", vaContext.getRequesterLang())"}],"request_feedback":true,"id":"5e10b9530d174953ab2d672e4de21207","name":"Start Questions","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"secure":false},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Questions Done","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n    do{\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n       //There are variables that we can show\n        return false;\n    }\n    //No variables that we can show\n    return true;\n})()"},"id":"b9891d7f901e4f03ad288848b12b1cc0","name":"Questions Done","expert_mode":false},{"type":"Branch","label":"Questions Left","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n     var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n\n    do {\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n        vaVars.qIndex = qIndex;\n        return true;\n    }\n    return false;\n})()"},"id":"616f8d2b1ce74631a640d7d903cca8fa","name":"Questions Left","expert_mode":false}],"id":"e02c40e82f31494582d1de28b922bcbd","goal_id":"primary","expert_mode":false},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Catalog Item","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (itemJson.sys_class_name !== 'sc_cat_item_producer')\n        return true;\nreturn false;\n})()\n"},"id":"f655fd1cb3c84e9abdfd902589f6929c","name":"Catalog Item","expert_mode":false},{"type":"Branch","label":"Record Producer","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (itemJson.sys_class_name === 'sc_cat_item_producer')\n        return true;\nreturn false;\n})()\n"},"id":"bd9e6fad3f0943b08ac534b31de67533","name":"Record Producer","expert_mode":false}],"id":"b91f4def20ee42ddb221a9dda66e1dbe","goal_id":"primary","expert_mode":false},{"type":"InputPrompt","variable_id":"eb5c2cf603fb4beca65e553c72bac076","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"va:topic:703285f7833202108ef61665eeaad3b8:node:ee857ec53ca84690b0bb2d81d29330f0:field:Message\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"request_feedback":false,"skippable":{"type":"Applicability","mode":"script","value":"false"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"id":"ee857ec53ca84690b0bb2d81d29330f0","name":"Submit Producer","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"formatType":"Text","validationScript":"","description":""},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Don't Submit","expression":{"type":"Applicability","mode":"query","value":"submit_producer="},"id":"c38592267a954b798edc304c74ca622f","name":"Don't Submit","expert_mode":false},{"type":"Branch","label":"Submit Now","expression":{"type":"Applicability","mode":"query","value":"submit_producer=true"},"id":"0adb88ca91224c9ab46fc897230af24a","name":"Submit Now","expert_mode":false}],"id":"b53efdd9451440579e975565d39f5018","goal_id":"primary","expert_mode":false},{"type":"ScriptedAction","script":"(function execute() {\n   var itemJson = JSON.parse(vaVars.itemJSON);\n    var variablesObj = {};\n    var attachmentIds = [];\n    for (i = 0; i &lt; itemJson.variables.length; i++) {\n        variablesObj[itemJson.variables[i].name] = itemJson.variables[i].value;\n        if (itemJson.variables[i].type === 33)\n           attachmentIds.push(itemJson.variables[i].value);\n    }\n   var reqObject = {\n       \"sysparm_id\" : itemJson.sys_id,\n       \"sysparm_action\" : 'execute_producer',\n        \"variables\" : variablesObj,\n        \"engagement_channel\" : 'va'\n   }\n   var response = new sn_sc.CatItem(itemJson.sys_id).submitProducer(reqObject);\n   if (response) {\n       vaVars.record_id = response.sys_id;\n       vaVars.record_table = response.table;\n       // add attachment to record\n       var mediaLinksFormAttachment = vaVars.media_links_form_attachment.split(',');\n       for (var i in mediaLinksFormAttachment)\n           vaSystem.attachToRecord(mediaLinksFormAttachment[i], response.table, response.sys_id);\n\n       // move attachment variable to record\n       var gr = new GlideRecord('sys_attachment');\n       gr.addQuery('sys_id', 'IN' , attachmentIds);\n       gr.query();\n       while (gr.next()) {\n           gr.setValue('table_name', 'ZZ_YY' + response.table);\n           gr.setValue('table_sys_id', response.sys_id);\n           gr.update();\n       }\n   }\n})()\n","id":"98d250bc8d2f4c86bcf34951524cae39","name":"Insert the Record","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false},{"type":"InputPrompt","variable_id":"7d058ae428f541349c085b1b06fcb8bc","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"va:topic:703285f7833202108ef61665eeaad3b8:node:6f701cdee3bd497397529b0e876ce2eb:field:Message\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"request_feedback":false,"skippable":{"type":"Applicability","mode":"script","value":"false"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"id":"6f701cdee3bd497397529b0e876ce2eb","name":"Order Item","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"formatType":"Text","validationScript":"","description":""},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Don't Order","expression":{"type":"Applicability","mode":"query","value":"order_item="},"id":"847d9ef9476644f68d442470eca528e4","name":"Don't Order","expert_mode":false},{"type":"Branch","label":"Order Now","expression":{"type":"Applicability","mode":"query","value":"order_item=true"},"id":"cdb683d6b53349db9df84b86bd84050e","name":"Order Now","expert_mode":false}],"id":"800242434ca744e4a2133a32a0c96fa2","goal_id":"primary","expert_mode":false},{"type":"ScriptedAction","script":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var cartname = \"vacart_\" + gs.generateGUID();\n    var cartObj = new sn_sc.CartJS(cartname);\n    cartObj.setRequestedFor(vaVars.request_for);\n    cartObj.setEngagementChannel('va');\n\n    var variablesObj = {};\n    var attachmentIds = [];\n    for (i = 0; i &lt; itemJson.variables.length; i++) {\n        variablesObj[itemJson.variables[i].name] = itemJson.variables[i].value;\n        if (itemJson.variables[i].type === 33)\n           attachmentIds.push(itemJson.variables[i].value);\n    }\n        \n\n    var reqObj = {\n        \"sysparm_id\" : itemJson.sys_id,\n        \"variables\" : variablesObj\n    };\n    cartObj.addToCart(reqObj);\n    var requestResponse = cartObj.checkoutCart(true);\n    var requestGr = new GlideRecord('sc_request');\n    if (requestGr.get(requestResponse.request_id)) {\n        var reqItemGr = new GlideRecord('sc_req_item');\n        reqItemGr.addQuery(\"request\", requestResponse.request_id);\n        reqItemGr.query();\n        if (reqItemGr.next()) {\n            vaVars.record_id = reqItemGr.getUniqueValue();\n            vaVars.record_table = 'sc_req_item';\n            // add attachment to record\n            var mediaLinksFormAttachment = vaVars.media_links_form_attachment.split(',');\n            for (var i in mediaLinksFormAttachment)\n                vaSystem.attachToRecord(mediaLinksFormAttachment[i], vaVars.record_table, vaVars.record_id);\n\n        }\n        // move attachment variable to record\n        var gr = new GlideRecord('sys_attachment');\n        gr.addQuery('sys_id', 'IN' , attachmentIds);\n        gr.query();\n        while (gr.next()) {\n            gr.setValue('table_name', 'ZZ_YY' + vaVars.record_table);\n            gr.setValue('table_sys_id', vaVars.record_id);\n            gr.update();\n        }\n    }\n})()","id":"b38026bb69284918b8d2ada7c08f8838","name":"Checkout Cart","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Question Requested For","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    if (JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 31)\n        return true;\n})()\n"},"id":"8a92e27746cb4063bfc16ec4bcf3fc05","name":"Question Requested For","expert_mode":false},{"type":"Branch","label":"Date Question","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 9;\n})()\n"},"id":"38624bbb17b64ec09be899292aa56094","name":"Date Question","expert_mode":false},{"type":"Branch","label":"Text Type Question","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    return type === 2 || type === 6 || type === 16;\n})()"},"id":"ae0669403d5c46f893f6fa0bf22ac874","name":"Text Type Question","expert_mode":false},{"type":"Branch","label":"Date-Time Question","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 10;\n})()\n"},"id":"4c849f1f2acc4b569195dc3bdd3fc5c3","name":"Date-Time Question","expert_mode":false},{"type":"Branch","label":"Question Label","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var question = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return question.type === 11 || (question.type === 0 &amp;&amp; question._internal_type === \"checkbox_container\");\n})()\n"},"id":"648ce41dc43a4cddb85b149e51e3f1b5","name":"Question Label","expert_mode":false},{"type":"Branch","label":"Container Or Break Questions","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    if (type === 0 || type === 12 || type === 19 || type === 20 || type === 24)\n        return true;\n})()\n"},"id":"70624ec92e384b13b3cd595c0f84f720","name":"Container Or Break Questions","expert_mode":false},{"type":"Branch","label":"Unsupported  Variable  Types","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var unSupportedTypes = vaVars.unsupportedVarTypes.split(',');\n   return unSupportedTypes.indexOf(String(JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type)) !== -1;\n})()\n"},"id":"b3eebf7421194366ab8ca04810804a7a","name":"Unsupported  Variable  Types","expert_mode":false},{"type":"Branch","label":"Email Question","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 26;\n})()\n"},"id":"9d33a5cb741a45918a85d5af7da31242","name":"Email Question","expert_mode":false},{"type":"Branch","label":"Ip Address Question","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 28;\n})()\n"},"id":"837318170f68433fab4a54e15e11daf3","name":"Ip Address Question","expert_mode":false},{"type":"Branch","label":"URL Question","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 27;\n})()\n"},"id":"b79605f9ea174e5c8ea6abbf2cac2a36","name":"URL Question","expert_mode":false},{"type":"Branch","label":"Question Attachment","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 33;\n})()\n"},"id":"12dad05b827046a8a876d50cd0a17944","name":"Question Attachment","expert_mode":false},{"type":"Branch","label":"Rich Text Label Question","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 32;\n})()\n"},"id":"1a9b6bdc480f42bebb8b4e3b672583ac","name":"Rich Text Label Question","expert_mode":false},{"type":"Branch","label":"Choice or Checkbox Question","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    return type === 1 || type === 3 || type === 4 || type === 5 || type === 7 || type === 18 || type === 22;\n})()\n"},"id":"5de81028c4584599933a4d8e71288de8","name":"Choice or Checkbox Question","expert_mode":false},{"type":"Branch","label":"Reference Question","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n   return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 8;\n})()"},"id":"c285118b0cc34f04845e6d24588eb041","name":"Reference Question","expert_mode":false}],"id":"32baf6b2e23041f6b95954f25dc8ecc6","goal_id":"primary","expert_mode":false},{"type":"InputPrompt","variable_id":"2f89c2ff51584aed90c0267ca838dd87","message":{"type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"request_feedback":false,"skippable":{"type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"id":"a3dedd563bc74fdf9b23f3fe46812347","name":"Question Date","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"formatType":"Text","validationScript":"","description":""},{"type":"ScriptedAction","script":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    vaVars.validation_message = \"\";\n    var quesJson = itemJson.variables[vaVars.qIndex];\n    var type = quesJson.type;\n    var vaFieldValidator = new global.VAFieldValidator();\n    // If user doesn't want to proceed with the selected value and skips the question, the variable would be set to \"\"\n    var proceedWithDefaultValue = vaInputs.proceed_with_default.getValue();\n    switch (type) {\n        case 2:\n        case 6:\n        case 16:\n            var ans = vaInputs.question_text.getValue() || (proceedWithDefaultValue ? quesJson.display_value : \"\");\n            if (ans.trim().length === 0 &amp;&amp; itemJson.variables[vaVars.qIndex].mandatory) {\n                vaVars.validation_message = gs.getMessage('You must answer this question');\n                break;\n            }\n            if (type === 2) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_text = \"\";\n                break;\n            }\n            var q = GlideappQuestion.getQuestion(itemJson.variables[vaVars.qIndex].sys_id);\n            var validresponse = q.validateRegex(ans);\n            if (validresponse) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_text = \"\";\n            } else if (!validresponse)\n                vaVars.validation_message = q.getValidationMessage();\n            break;\n        case 7:\n            var ans = (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_choice.getValue()) {\n                switch (vaInputs.question_choice.getValue()) {\n                    case \"yes\":\n                        ans = \"true\";\n                        break;\n                    case \"no\":\n                    case \"no_data\":\n                    case \"\":\n                        ans = \"false\";\n                        break;\n                    default:\n                        ans = \"false\";\n                        break;\n                }\n            }\n            if (itemJson.variables[vaVars.qIndex].mandatory &amp;&amp; ans == \"false\")\n                vaVars.validation_message = gs.getMessage(\"It's a required question. You must select Yes to continue\");\n            else\n                itemJson.variables[vaVars.qIndex].value = ans;\n            vaInputs.question_choice = \"\";\n            break;\n        case 9:\n            itemJson.variables[vaVars.qIndex].value = vaInputs.question_date.getDisplayValue() || (proceedWithDefaultValue ? quesJson.display_value : \"\");\n            vaInputs.question_date = \"\";\n            break;\n        case 10:\n            itemJson.variables[vaVars.qIndex].value = vaInputs.question_date_time.getDisplayValue() || (proceedWithDefaultValue ? quesJson.display_value : \"\");\n            vaInputs.question_date_time = \"\";\n            break;\n        case 8:\n            var ans = (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_reference)\n                ans = vaInputs.question_reference.getValue();\n\n            itemJson.variables[vaVars.qIndex].value = ans;\n            vaInputs.question_reference = \"\";\n            break;\n        case 1:\n        case 3:\n        case 4:\n        case 5:\n        case 18:\n        case 22:\n            var ans = (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_choice) {\n                ans = vaInputs.question_choice.getValue();\n                ans = ans == 'no_data' ? '' : ans;\n            }\n            itemJson.variables[vaVars.qIndex].value = ans;\n            vaInputs.question_choice = \"\";\n            break;\n        case 26:\n            var ans = vaInputs.question_email.getValue() || (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_email.getValue() || ans == \"\" || vaFieldValidator.validateEmailAddress(ans)) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_email = \"\";\n            } else\n                vaVars.validation_message = gs.getMessage(\"This isn't a valid email address\");\n            break;\n        case 27:\n            var ans = vaInputs.question_url.getValue() || (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_url.getValue() || ans == \"\" || vaFieldValidator.validateURL(ans)) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_url = \"\";\n            } else\n                vaVars.validation_message = gs.getMessage(\"This isn't a valid URL\");\n            break;\n        case 28:\n            var ans = vaInputs.question_ip_address.getValue() || (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_ip_address.getValue() || ans == \"\" || vaFieldValidator.validateIPAddress(ans)) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_ip_address = \"\";\n            } else\n                vaVars.validation_message = gs.getMessage(\"This isn't a valid IP Address\");\n            break;\n        case 31:\n            var ans = quesJson.default_value + '';\n            if (quesJson.default_value &amp;&amp; proceedWithDefaultValue)\n                vaVars.request_for = ans;\n            else if (vaVars.request_for)\n                ans = vaVars.request_for;\n            itemJson.variables[vaVars.qIndex].value = ans;\n    }\n    itemJson.variables[vaVars.qIndex].field_info_messages = {};\n    itemJson.variables[vaVars.qIndex].field_warn_messages = {};\n    itemJson.variables[vaVars.qIndex].field_error_messages = {};\n\n    if (!vaVars.request_for)\n        vaVars.request_for = gs.getUserID() + '';\n    var executeDataLookup = false;\n    var executeDynamicValue = false;\n    if (quesJson.data_lookup_ids &amp;&amp; quesJson.data_lookup_ids.length != 0)\n        executeDataLookup = true;\n    if (itemJson.dynamic_value_variable_config &amp;&amp; itemJson.dynamic_value_variable_config[quesJson.sys_id] &amp;&amp; itemJson.dynamic_value_variable_config[quesJson.sys_id].length != 0)\n        executeDynamicValue = true;\n    if (executeDataLookup || executeDynamicValue) {\n        var helper = new sn_sc.CatalogConversationHelper();\n        vaVars.itemJSON = JSON.stringify(helper.executeVariableChangeHandlers(itemJson, quesJson.sys_id, executeDataLookup, executeDynamicValue));\n    } else\n        vaVars.itemJSON = JSON.stringify(itemJson);\n\n// resetting the value of proceed with default incase validation fails\n   if (vaVars.validation_message.length !== 0)\n       vaInputs.proceed_with_default = false;\n\n})()\n","id":"54883add9d0e45d59fa0aac1a13d6c53","name":"Post Response","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Repeat Question","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.validation_message.length !== 0;\n})()\n"},"id":"332d207fee2a42c1adafa395a6aa9d80","name":"Repeat Question","expert_mode":false},{"type":"Branch","label":"Next Question","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.validation_message.length === 0;\n})()\n"},"id":"c3e6df0cf4cc481aad840a2694c6d832","name":"Next Question","expert_mode":false}],"id":"a6d0be5ae89a4c56bfb95267af429043","goal_id":"primary","expert_mode":false},{"type":"ScriptOutputPrompt","output_type":"single_part","id":"3f1546895fe94ebeaf4b2e4b70fc68ca","name":"Validation Message","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"value":{"type":"String","mode":"string","value":"(function execute() {\n      var singleOutMsg = new sn_cs.SinglePartOutMsg();\n       singleOutMsg.setTextPart(gs.getMessage('{0}. Answer the question again', vaVars.validation_message));\n       return singleOutMsg;\n})()"},"secure":false},{"type":"InputPrompt","variable_id":"1a8b038937e842ba8ae56a4827e23e4f","message":{"type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"request_feedback":true,"skippable":{"type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"id":"d5947bdd60f74556bf36d4e036a97f39","name":"Question Text","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"formatType":"Text","validationScript":"","description":""},{"type":"ReferenceChoiceInputPrompt","mode":"external","id":"421768830f3f46cba1080632bfdd550b","name":"Question Reference","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"variable_id":"33e1ef9d7af34db5975acb9bef3aa29d","message":{"type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()"},"request_feedback":false,"skippable":{"type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"expression_mode":"script","script":"(function execute() {\n    var options = [];\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n\n    var gr = new GlideRecordSecure(variable.reference);\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(gr.getDisplayName());\n    \n    gr.query();\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n    \n    return options;    \n})()","metadataScript":"","cardName":"","cardFields":[],"no_options_found_message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"No records found\", vaContext.getRequesterLang())"},"condition":{"type":"Condition","mode":"external_script","value":"(function execute() {\n    var options = [];\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n\n    var gr = new GlideRecordSecure(variable.reference);\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(gr.getDisplayName());\n    \n    gr.query();\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n    \n    return options;    \n})()"},"description":""},{"type":"ScriptedAction","script":"(function execute() {\n    vaVars.record_id = \"-1\";\n})()\n","id":"a702ef3286cc42208859ba03a9b32a52","name":"Set Record ID to -1","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false},{"type":"ReferenceChoiceInputPrompt","mode":"external","id":"728be06bc82a496883a17da67c386db4","name":"Question Choice","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"variable_id":"c4c3d591228e4ddaa35dc2f8d6736384","message":{"type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()"},"request_feedback":false,"skippable":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var question = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (question.mandatory)\n        return false;\n    if (question.type === 3 &amp;&amp; question.value === '' &amp;&amp; question.options[0].value !== '') \n        return true;\n    if (question.type === 4 &amp;&amp; question.value === '')\n        return true;\n    return false;\n})();\n"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"expression_mode":"script","script":"(function execute() {\n    var options = choices = [];\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (quesJson.type == 7)\n        choices = [{ \"label\": \"Yes\", \"value\": \"yes\" }, { \"label\": \"No\", \"value\": \"no\" }];\n    else\n        choices = quesJson.options;\n\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n\n    options = choices;\n    return options;\n})()","metadataScript":"","cardName":"","cardFields":[],"no_options_found_message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"No records found\", vaContext.getRequesterLang())"},"condition":{"type":"Condition","mode":"external_script","value":"(function execute() {\n    var options = choices = [];\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (quesJson.type == 7)\n        choices = [{ \"label\": \"Yes\", \"value\": \"yes\" }, { \"label\": \"No\", \"value\": \"no\" }];\n    else\n        choices = quesJson.options;\n\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n\n    options = choices;\n    return options;\n})()"},"description":""},{"type":"InputPrompt","variable_id":"be0812314a6542989daddbb4da2f041b","message":{"type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"request_feedback":false,"skippable":{"type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"id":"95a610ed2d114a0884802fb3f396913e","name":"Question Date Time","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"formatType":"Text","validationScript":"","description":""},{"type":"TextOutputPrompt","value":[{"type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()"}],"request_feedback":true,"id":"37a49d9fefee4a1b891d958a2e2ddfa3","name":"Question Label","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var question = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (question._internal_type == \"checkbox_container\" &amp;&amp; question.label.toUpperCase() == \"OPTIONS\"\n        &amp;&amp; Array.isArray(question._children) &amp;&amp; question._children.length == 1)\n        return false;\n    return true;\n})()\n"},"expert_mode":false,"secure":false},{"type":"TextOutputPrompt","value":[{"type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()"}],"request_feedback":true,"id":"64fbcbdf44bc4073b12f7e29573cebcf","name":"Container Start Question","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (quesJson.display_title)\n        return true;\n})()\n"},"expert_mode":false,"secure":false},{"type":"ReferenceChoiceInputPrompt","mode":"external","id":"e3d5f7d6137e4acf8a039f47631df484","name":"Question Requested For","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"variable_id":"992997eb5c1d4cd59e3d6e23bd4d3020","message":{"type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()"},"request_feedback":false,"skippable":{"type":"Applicability","mode":"script","value":"false"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"expression_mode":"script","script":"(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n    var gr = new GlideRecordSecure('sys_user');\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    gr.addEncodedQuery('nameLIKE'+ vaInputs.search_requested_for);\n    gr.addQuery(quesJson.qualifier);\n    gr.orderBy(gr.getDisplayName());\n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    if (count &gt; 0) {\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Someone else')\n        });\n    }\n    return options;    \n})()\n","metadataScript":"","cardName":"","cardFields":[],"no_options_found_message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"va:topic:703285f7833202108ef61665eeaad3b8:node:e3d5f7d6137e4acf8a039f47631df484:field:NoOptionsFoundMessage\", vaContext.getRequesterLang())"},"condition":{"type":"Condition","mode":"external_script","value":"(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n    var gr = new GlideRecordSecure('sys_user');\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    gr.addEncodedQuery('nameLIKE'+ vaInputs.search_requested_for);\n    gr.addQuery(quesJson.qualifier);\n    gr.orderBy(gr.getDisplayName());\n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    if (count &gt; 0) {\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Someone else')\n        });\n    }\n    return options;    \n})()\n"},"description":""},{"type":"InputPrompt","variable_id":"bb68d9bb32184d9f859806561e155ddb","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Who should I set it to?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"request_feedback":true,"skippable":{"type":"Applicability","mode":"script","value":"false"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"id":"2c8e4750e1a24e889f11df275160dee8","name":"Search Requested For","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"formatType":"Text","validationScript":"","description":""},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Requested For Next","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.question_requested_for.getValue() === 'next';\n})()\n"},"id":"7ea3d7339285442887602f5ff3d2cbc8","name":"Requested For Next","expert_mode":false},{"type":"Branch","label":"Search Requested For","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return !vaInputs.question_requested_for.getValue() || vaInputs.question_requested_for.getValue() === 'search';\n})()\n"},"id":"3f7bc24dea944a0ca4d39677c74d4a17","name":"Search Requested For","expert_mode":false},{"type":"Branch","label":"Requested For Chosen","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var valuePicked = vaInputs.question_requested_for.getValue();\n    var condition = valuePicked !== 'next' &amp;&amp; valuePicked !== 'prev';\n    if (condition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    return condition;\n})();"},"id":"6cc3721cc9454d3e8e32a8d48e45cbe9","name":"Requested For Chosen","expert_mode":false},{"type":"Branch","label":"Requested For Prev","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.question_requested_for.getValue() === 'prev';\n})()\n"},"id":"b79af33712884369ad5777cec8b54e50","name":"Requested For Prev","expert_mode":false}],"id":"0a72e759fed441ef8b3a0f83f64896f5","goal_id":"primary","expert_mode":false},{"type":"ScriptedAction","script":"(function execute() {\n    var count = parseInt(vaVars.count);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if ( index + limit &gt; count )\n        vaVars.index = 0;\n    else\n        vaVars.index = index + limit;\n})();","id":"7794298485d54886ab5178e3d89abf23","name":"Requested For Next Page","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false},{"type":"ScriptedAction","script":"(function execute() {\n    var item = new sn_sc.CatItem(JSON.parse(vaVars.itemJSON).sys_id);\n    vaVars.request_for = vaInputs.question_requested_for.getValue() + '';\n    vaVars.canView = item.isDelegationAllowed(vaVars.request_for);\n})()\n","id":"98cfe9bc35bf48c8888b9d2fbfbdeda8","name":"Is Delegation Allowed","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Can View","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.canView;\n})()\n"},"id":"aeb810154abd4699922bcdcadf0f2cae","name":"Can View","expert_mode":false},{"type":"Branch","label":"Cannot View","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return !vaVars.canView\n})()\n"},"id":"c478fe22ee3c45db968498a54ac8d916","name":"Cannot View","expert_mode":false}],"id":"f4a868d817454288b0ac62aaa8b77ca4","goal_id":"primary","expert_mode":false},{"type":"ScriptedAction","script":"(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var c = index - limit;\n    if ( c &lt; 0 ) c = 0;\n    vaVars.index = c;\n})();","id":"94b6b34923614613b9c2f2eb43705e45","name":"Requested For Previous Page","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false},{"type":"InputPrompt","variable_id":"4c9006a0a896498e98663cb99854584c","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"The selected user does not have access to this item. Do you want to request for  someone else?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"request_feedback":false,"skippable":{"type":"Applicability","mode":"script","value":"false"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"id":"2ea3c522c84245088207f8293e7a8750","name":"Request For Another User","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"formatType":"Text","validationScript":"","description":""},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Request for Another User","expression":{"type":"Applicability","mode":"query","value":"request_for_another_user=true"},"id":"196bd1eb9b314c58ab9cf91a596b0f07","name":"Request for Another User","expert_mode":false},{"type":"Branch","label":"End Conversation","expression":{"type":"Applicability","mode":"query","value":"request_for_another_user="},"id":"24e76987c6cf432197971fd3027236b2","name":"End Conversation","expert_mode":false}],"id":"9a69bffaffbb4d6ea7a0cdc211ff6907","goal_id":"primary","expert_mode":false},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"No onChange Policies","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).has_on_change_policies;\n})()\n"},"id":"e39a87eb518c49fcb02d3c01f498ffc6","name":"No onChange Policies","expert_mode":false},{"type":"Branch","label":"Has onChange Policies","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n   return JSON.parse(vaVars.itemJSON).has_on_change_policies;\n})()\n"},"id":"5f57b04932a14852a6e4d4803c9abe76","name":"Has onChange Policies","expert_mode":false}],"id":"fabedeb0fdef4f3f8ab56c866f7604b2","goal_id":"primary","expert_mode":false},{"type":"ScriptedAction","script":"(function execute() {\n   vaVars.itemJSON = JSON.stringify(new sn_sc.CatalogConversationHelper().runChangePolicies(JSON.parse(vaVars.itemJSON)))\n})()\n","id":"16fe3345a4e943f1abb49380cd8e9fd3","name":"Run OnChange Policies","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false},{"type":"InputPrompt","variable_id":"b93d7f37309c480aae9442cb7ed84a60","message":{"type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"request_feedback":true,"skippable":{"type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"id":"9deefd69cdd3444a9b84225868e296c4","name":"Question Email","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"formatType":"33513d135b1200101f254d3ba881c7d5","validationScript":"","description":""},{"type":"InputPrompt","variable_id":"7474c734e05c48e9ad1160295933b22f","message":{"type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"request_feedback":true,"skippable":{"type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"id":"619194839eb14119a4294056244dbe08","name":"Question IP Address","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"formatType":"a860c5945b2200101f254d3ba881c7df","validationScript":"","description":""},{"type":"InputPrompt","variable_id":"167cd0ae112241e8b87e01fb1285725a","message":{"type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"request_feedback":true,"skippable":{"type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"id":"57608a46d8384da681d5b22721357f2c","name":"Question URL","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"formatType":"77d8b2935b9200101f254d3ba881c7b9","validationScript":"","description":""},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Has  No Attachment","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return item.no_attachments === true;\n})()\n"},"id":"0f8225393fd645468ade20b7944d1597","name":"Has  No Attachment","expert_mode":false},{"type":"Branch","label":"Has Attachment","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return item.no_attachments === false;\n})()\n"},"id":"90c7e999e0d843df895deb370844459c","name":"Has Attachment","expert_mode":false}],"id":"9fde3924a8b340e4938886cf6d2e677a","goal_id":"primary","expert_mode":false},{"type":"InputPrompt","variable_id":"033f59a3c0234d16b376865219ad93bd","message":{"type":"String","mode":"script","value":"(function execute() {\n    return gs.getMessage('Add attachment?');\n})()\n"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"request_feedback":false,"skippable":{"type":"Applicability","mode":"script","value":"false"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"id":"98508029b44349ef9b4a4789f4271411","name":"Add Attachment","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return !item.mandatory_attachment;\n})()\n"},"expert_mode":false,"description":""},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return !item.mandatory_attachment &amp;&amp; !vaInputs.add_attachment.getValue();\n})()\n"},"id":"dca07a5c682d4425804cd9cbadfea27a","name":"No","expert_mode":false},{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return item.mandatory_attachment || vaInputs.add_attachment.getValue();\n})()\n"},"id":"37cbf7d88d0749338b0b00cfb960d9ad","name":"Yes","expert_mode":false}],"id":"5dfaf9f068a84cb49646effcc4130f41","goal_id":"primary","expert_mode":false},{"type":"InputPrompt","variable_id":"b41fd59845bf4371b81d933a99bc0b58","message":{"type":"String","mode":"script","value":"(function execute() {\n    return gs.getMessage('Upload attachment');\n})()\n"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"request_feedback":false,"skippable":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var addMore = false;\n    //when attachment is mandatory, to provide an option to skip add more \n    if (vaInputs.add_more &amp;&amp; vaInputs.add_more.getValue())\n        addMore = true;\n        \n    return !JSON.parse(vaVars.itemJSON).mandatory_attachment || addMore;\n})()"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"id":"12a255fe3c1444e8a767d553811fffeb","name":"Upload Attachment","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"description":""},{"type":"ScriptedAction","script":"(function execute() {\n    if (!!vaVars.media_links_form_attachment)\n        vaVars.media_links_form_attachment = vaVars.media_links_form_attachment + ',' + vaInputs.upload_attachment.getValue();\n    else\n        vaVars.media_links_form_attachment = vaInputs.upload_attachment.getValue();\n})()\n","id":"50c8a5c9f4c44ee38ab60632b3e39c05","name":"Add Media Links for Form Attachment","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false},{"type":"InputPrompt","variable_id":"105c1aad186e4ee8b6a78c42061cdc96","message":{"type":"String","mode":"script","value":"(function execute() {\n    return gs.getMessage('Add more?');\n})()\n"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"request_feedback":false,"skippable":{"type":"Applicability","mode":"script","value":"false"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"id":"9664cf4809a049038b363de93e7255a2","name":"Add More","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"description":""},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"query","value":"add_more=true"},"id":"2c50a8aa5b6b4e559def3ccc791c0342","name":"Yes","expert_mode":false},{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"query","value":"add_more="},"id":"dad4e959205a4dbe9869ffd640cbd05c","name":"No","expert_mode":false}],"id":"9334d9c47dd64f08916cc3f4541612f2","goal_id":"primary","expert_mode":false},{"type":"InputPrompt","variable_id":"bab053bff273440bad56992e39b06f09","message":{"type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"request_feedback":false,"skippable":{"type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"id":"d3c8c56e727a4ede82e57ac0ba7f1807","name":"Question Attachment","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"description":""},{"type":"ScriptedAction","script":"(function execute() {\n    vaVars.validation_message = \"\";\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var quesJson = itemJson.variables[vaVars.qIndex];\n    var vaUtils = new global.VAUtils();\n    var arr = vaInputs.question_attachment.getValue().split('/');\n    var mediaId = arr[arr.length - 1];\n    var gr = new GlideRecord('sys_cs_media');\n    gr.addQuery('media_id', mediaId);\n    gr.query();\n    if (gr.next()) {\n        var attachmentId = gr.getValue('sys_attachment_id');\n        var attachRef = new GlideRecord('sys_attachment');\n        if (attachRef.get(attachmentId)) {\n            var file = {\n                name: attachRef.getValue('file_name'),\n                size: attachRef.getValue('size_bytes')\n            };\n            var allowedExtensions = new Array();\n            if (quesJson.allow_extension)\n               allowedExtensions = quesJson.allow_extension.split(';');\n            var field = {\n                allowedExtensions: allowedExtensions,\n                allowedFileSize: quesJson.max_file_size\n            };\n            var result = vaUtils.validateAttachment(file, field);\n            if (result.type == 'success') {\n                quesJson.value = attachmentId;\n                vaVars.itemJSON = JSON.stringify(itemJson);\n                vaInputs.question_attachment.setValue('');\n            } else\n                vaVars.validation_message = result.message;\n        } else \n            vaVars.validation_message = gs.getMessage('Failed to upload the attachment');\n    } else \n        vaVars.validation_message = gs.getMessage('Failed to upload the attachment');\n})()\n","id":"b1978baa02fa4f48baf8f0addc4614b7","name":"Validate Attachment","goal_id":"primary","applicability":{"type":"Applicability","mode":"query","value":"question_attachmentISNOTEMPTY"},"expert_mode":false},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Next Question","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.validation_message.length === 0;\n})()\n"},"id":"1d3a94f134af471e9cc02a708d7a6c9b","name":"Next Question","expert_mode":false},{"type":"Branch","label":"Repeat Question","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.validation_message.length !== 0;\n})()\n"},"id":"3e204173b43946ff8fe23dfe084511b8","name":"Repeat Question","expert_mode":false}],"id":"530ade66a19a4bf5b26cab008ff1e6a4","goal_id":"primary","expert_mode":false},{"type":"ScriptOutputPrompt","output_type":"single_part","id":"1a60347e6f924c548f1ecc13aa55eda8","name":"Validation Message","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"value":{"type":"String","mode":"string","value":"(function execute() {\n     var singleOutMsg = new sn_cs.SinglePartOutMsg();\n       singleOutMsg.setTextPart(gs.getMessage('{0}. Answer the question again', vaVars.validation_message));\n       vaVars.validation_message = \"\";\n       return singleOutMsg;\n})()\n"},"secure":false},{"type":"Decision","name":"Is Record Producer","branches":[{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n   \n    if (itemJson.sys_class_name !== 'sc_cat_item_producer') {\n        return true;\n    }    \n    return false;\n})()\n"},"id":"7323d4e86af14ce9b413bad5ccd4b296","name":"No","expert_mode":false},{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (itemJson.sys_class_name === 'sc_cat_item_producer') {\n        return true;\n    }    \n    return false;\n})()"},"id":"180d0374794d403894294896d371908f","name":"Yes","expert_mode":false}],"id":"a615b27ef6cd4ad792baa426610bd3b1","goal_id":"primary","expert_mode":false},{"type":"Decision","name":"Execute Contextual Search","branches":[{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    /**\n     * Topic should pass execute_contextual_search as input if contextual search is required\n     *  It will execute contextual search only first time. For subsequent text variables, it will be skipped\n     */\n    var ans = vaInputs.question_text.getValue();\n    if(vaInputs.execute_contextual_search == 'false' || ans.trim().length === 0) {\n        return true;\n    }\n    return false;    \n})()\n"},"id":"08fd609381d743ada39a089766cf2017","name":"No","expert_mode":false},{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    /**\n     * Topic should pass execute_contextual_search as input if contextual search is required\n     *  It will execute contextual search only first time. For subsequent text variables, it will be skipped\n     */\n    var ans = vaInputs.question_text.getValue();\n    if(vaInputs.execute_contextual_search == 'true'  &amp;&amp; ans.trim().length !== 0) {\n        return true;\n    }\n    return false;     \n})()\n"},"id":"01fd2c4ab233451a95ce3c9a59c29c30","name":"Yes","expert_mode":false}],"id":"99381022abf144538e6b46b5d2b0ca9b","goal_id":"primary","expert_mode":false},{"type":"ScriptedAction","script":"(function execute() {\n    var contextualSearch = new global.VAGlobalContextualSearchUtil();\n    if(gs.nil(vaVars.contextualSearchVariable)) {\n        var searchConfig = contextualSearch.getContextualSearchVariableAndContext(vaInputs.catalog_item_id);\n        vaVars.contextualSearchVariable = searchConfig.searchVariable;\n        vaVars.contextualSearchContext = searchConfig.context;\n    }\n    return;\n})()\n","id":"e222514224264003baba8fdd0c12c56d","name":"Get Search Variable And Context","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false},{"type":"Decision","name":"Contextual Search Variable ?","branches":[{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if(vaVars.contextualSearchVariable !== quesJson.sys_id) {\n        return true;\n    }\n    return false;\n})()"},"id":"e6fdf3e0d5fa492d8fbe5adf067f5fda","name":"No","expert_mode":false},{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if(vaVars.contextualSearchVariable === quesJson.sys_id) {\n        return true;\n    }\n    return false;\n})()"},"id":"30719eda41104886962db6f3a3b13caf","name":"Yes","expert_mode":false}],"id":"47a7f2d084934b2896ee221d42917971","goal_id":"primary","expert_mode":false},{"type":"ScriptedAction","script":"(function execute() {\n    var contextualSearch = new global.VAGlobalContextualSearchUtil();\n    var response = contextualSearch.search(\n        vaVars.contextualSearchContext, vaInputs.question_text.getValue(), ''\n    );\n    var success = contextualSearch.processSearchResponse(response);\n    if (!success) {\n        return;\n    }  \n    var relevantSearchResults = contextualSearch.processGeneralResults(response, 20, -2, vaSystem);\n    vaVars.contextualSearchResultCount = relevantSearchResults.length;\n    vaVars.contextualSearchResultJsonString = JSON.stringify(relevantSearchResults);\n    vaVars.contextualSearchIndex = 0;\n    return;\n})()\n","id":"ccd5378d1be64dbd99b0088ef1b22dbd","name":"Contextual Search","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false},{"type":"Decision","name":"Did the search return results ?","branches":[{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    if(vaVars.contextualSearchResultCount &lt;= 0){\n        return true;\n    }\n    return false;\n})()\n"},"id":"e4134154b455424babc4b603f9acdc36","name":"No","expert_mode":false},{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    if(vaVars.contextualSearchResultCount &gt; 0){\n        return true;\n    }\n    return false;\n})()\n"},"id":"6227746ca4dc454f9f048e2f96eadc39","name":"Yes","expert_mode":false}],"id":"cf6b5479e6e04165b3db5f0db701e882","goal_id":"primary","expert_mode":false},{"type":"LinkOutputPrompt","header":{"type":"String","mode":"string","value":"gs.getMessageLang(\"I found some information that might help you:\", vaContext.getRequesterLang())"},"label":{"type":"String","mode":"string","value":""},"url":{"type":"String","mode":"string","value":""},"link_type":"multiple","multi_link_script":"(function execute(header) {\n\tvar contextualSearch = new global.VAGlobalContextualSearchUtil();\n\tvar variables = {\n\t\tlimit: vaVars.contextualSearchResultLimit,\n\t\tindex: vaVars.contextualSearchIndex,\n\t\tsearch_result_json_string: vaVars.contextualSearchResultJsonString,\n\t\tportal: ''\n\t}\n\tvar groupedLinksOutMsg = contextualSearch.getLinks(header, variables, vaSystem, vaContext);\n\treturn groupedLinksOutMsg;\n})(header)\n","id":"b9beccb2aa974852b20c1dfaae23517a","name":"Display multi-link","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false},{"type":"Decision","name":"Did Articles Help ?","branches":[{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"query","value":"did_articles_help=true"},"id":"45e8b2618a9e4781805a756294fe7e15","name":"Yes","expert_mode":false},{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"query","value":"did_articles_help!=true"},"id":"acdd214a7eb24e21b303e9c748795607","name":"No","expert_mode":false}],"id":"8e33e2ce6cad4585a30430feea5b533e","goal_id":"primary","expert_mode":false},{"type":"InputPrompt","variable_id":"afbb4bd2c6444c4882ab840c0700ade9","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Did any of this information resolve your issue?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"request_feedback":false,"skippable":{"type":"Applicability","mode":"script","value":"false"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"id":"bcf6d035489743df8be064993e826274","name":"Did Articles Help","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"description":""},{"type":"Decision","name":"Confirmation Required ?","branches":[{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"query","value":"confirm_catalog_item=true"},"id":"7fc9971b8d074c5886c0306e90870f4e","name":"Yes","expert_mode":false},{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"query","value":"confirm_catalog_item=false"},"id":"79e5a84a9e7f478e9455d47b93a69f33","name":"No","expert_mode":false}],"id":"29a6789c104f499eb449ad8d75fb854f","goal_id":"primary","expert_mode":false},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Order","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    if (vaContext.catalog_builder_preview)\n       return false;\n    return true;\n})()\n"},"id":"0323c8d8f63546509be7baa736d03ce8","name":"Order","expert_mode":false},{"type":"Branch","label":"Preview","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n   if (vaContext.catalog_builder_preview)\n      return true;\n   return false;\n})()\n"},"id":"020a6a86aca947c6bcc35dea788e1236","name":"Preview","expert_mode":false}],"id":"286448edf1734dc8abc8824e08467ea9","goal_id":"primary","expert_mode":false},{"type":"TextOutputPrompt","value":[{"type":"String","mode":"string","value":"gs.getMessageLang(\"Preview successful\", vaContext.getRequesterLang())"}],"request_feedback":true,"id":"f2f60834cc1e4557b82e070bd7dccd75","name":"Catalog Builder Preview","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"secure":false},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Submit","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    if (vaContext.catalog_builder_preview)\n       return false;\n    return true;\n})()\n"},"id":"e14dd2e01bda47edadeaf33458142054","name":"Submit","expert_mode":false},{"type":"Branch","label":"Preview","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n   if (vaContext.catalog_builder_preview)\n      return true;\n   return false;\n})()\n"},"id":"148db360dd964cda9bf90b1e2f3b958f","name":"Preview","expert_mode":false}],"id":"c9017f3e3e6240318b1de2b4b26d46f3","goal_id":"primary","expert_mode":false},{"type":"TextOutputPrompt","value":[{"type":"String","mode":"string","value":"gs.getMessageLang(\"Since this was a preview, the request was not submitted\", vaContext.getRequesterLang())"}],"request_feedback":true,"id":"3f2cae6b9a34499d8bdcce633f9f6124","name":"Catalog Builder Preview Message","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"secure":false},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Attachment uploaded","expression":{"type":"Applicability","mode":"query","value":"upload_attachmentISNOTEMPTY"},"id":"3a9c932edf014df18d3c60008216aaf1","name":"Attachment uploaded","expert_mode":false},{"type":"Branch","label":"Attachment skipped","expression":{"type":"Applicability","mode":"query","value":"upload_attachmentISEMPTY"},"id":"873d5c3a09414541a93b26d87d746982","name":"Attachment skipped","expert_mode":false}],"id":"d30f3b3e5ac843eca3cd602bb4ccf331","goal_id":"primary","expert_mode":false},{"type":"ScriptOutputPrompt","output_type":"single_part","id":"6fa03c867ab34ce0be8a3d8b792d0868","name":"Question Rich Text Label","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"value":{"type":"String","mode":"string","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()"},"secure":false},{"type":"TextOutputPrompt","value":[{"type":"String","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    var renderedValue = quesJson.display_value ? quesJson.display_value : quesJson.value;\n    if (quesJson.type == 7) {\n        renderedValue = quesJson.value == \"true\" ? \"Yes\" : \"No\";\n    }\n    return gs.getMessage(\"&lt;b&gt;{0}&lt;/b&gt; was selected as the value for &lt;b&gt;{1}&lt;/b&gt;\", [renderedValue, quesJson.label])\n})()\n"}],"request_feedback":true,"id":"eb3f943aa9f74c418b95fb3e785dce85","name":"Default Value Acknowledgement ","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (quesJson.type == 7)\n        return quesJson.value == \"true\";\n    return quesJson.value ? true : false;\n})()\n"},"expert_mode":false,"secure":false},{"type":"InputPrompt","variable_id":"e131ab8e513049809aa9bf27e60d24b5","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Do you want to proceed with this value?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"request_feedback":false,"skippable":{"type":"Applicability","mode":"script","value":"false"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"id":"9f1855b30c8445eca3e42559b5857e83","name":"Proceed with Default","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (quesJson.type == 7)\n        return quesJson.value == \"true\";\n    return quesJson.value ? true : false;\n})()\n"},"expert_mode":false,"description":""},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Do not proceed with default value","expression":{"type":"Applicability","mode":"query","value":"proceed_with_default="},"id":"2d1b9c36a0f74fa7b264b58689bf880a","name":"Do not proceed with default value","expert_mode":false},{"type":"Branch","label":"Proceed with default value","expression":{"type":"Applicability","mode":"query","value":"proceed_with_default=true"},"id":"8bfe665ecb49427b859aea49386b50e8","name":"Proceed with default value","expert_mode":false}],"id":"d2c718dc22d84f42ae76f7aa393fb8d4","goal_id":"primary","expert_mode":false},{"type":"Decision","name":"Show end state card?","branches":[{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"query","value":"show_end_state_card="},"id":"91ce6fa607214832be0499bb16c3be10","name":"No","expert_mode":false},{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"query","value":"show_end_state_card=true"},"id":"ab4c8251f3a947f9863dde3ac62530bf","name":"Yes","expert_mode":false}],"id":"55006c23cbb94bad98fbb8a3d73143c2","goal_id":"primary","expert_mode":false},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Text Type","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    return type === 2 || type === 6 || type === 16;\n})()"},"id":"73a16b06277a4c6d93782e4b404a2bc5","name":"Text Type","expert_mode":false},{"type":"Branch","label":"Email Type","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 26;\n})()\n"},"id":"519f2a341a744644b48d97bdbbd5b92c","name":"Email Type","expert_mode":false},{"type":"Branch","label":"IP Address Type","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 28;\n})()\n"},"id":"a7ff39f38b314a75bb87c5678825cf34","name":"IP Address Type","expert_mode":false},{"type":"Branch","label":"URL Type","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 27;\n})()\n"},"id":"a07ce5b2705248049ac0c679b83e8085","name":"URL Type","expert_mode":false},{"type":"Branch","label":"Checkbox Type","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 7;\n})()\n"},"id":"88049587af6749bdb93d1d45aa2da76b","name":"Checkbox Type","expert_mode":false}],"id":"832e807455aa423bb2d3f1c820377f34","goal_id":"primary","expert_mode":false},{"type":"Decision","name":"Messaging Channel","branches":[{"type":"Branch","label":"Mobile/Web Client","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaContext.deviceType === \"mweb\";\n})()\n"},"id":"7730bac050cd4555b4b29bd80beea054","name":"Mobile/Web Client","expert_mode":false},{"type":"Branch","label":"Other Channels","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return !(vaContext.deviceType === \"mweb\");\n})()\n"},"id":"82e16cc174b3471ab0e69b4742c06adc","name":"Other Channels","expert_mode":false}],"id":"b43a24507f434bf08fffb4cf2302ff06","goal_id":"primary","expert_mode":false},{"type":"ReferenceChoiceInputPrompt","mode":"external","id":"cd4a158699bb435c9ddc7cdcb1422343","name":"Question Choice Other Channels","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"variable_id":"e3bad7ee86e143cdb66f3b54e74661bc","message":{"type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()"},"request_feedback":false,"skippable":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var question = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (question.mandatory)\n        return false;\n    if (question.type === 4 &amp;&amp; question.value === '')\n        return true;\n    if (question.type === 3 &amp;&amp; question.value === '' &amp;&amp; question.options[0].value !== '')\n        return true;\n    return false;\n})();\n"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"expression_mode":"script","script":"(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var options = choices = [];\n    var count = 0;\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n\n    if (quesJson.type == 7)\n        choices = [{ \"label\": \"Yes\", \"value\": \"yes\" }, { \"label\": \"No\", \"value\": \"no\" }];\n    else\n        choices = quesJson.options;\n\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n    \n    count = choices.length;\n    vaVars.count = count;\n    options = choices.splice(index, limit);\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    return options;    \n})()","metadataScript":"","cardName":"","cardFields":[],"no_options_found_message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"No records found\", vaContext.getRequesterLang())"},"condition":{"type":"Condition","mode":"external_script","value":"(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var options = choices = [];\n    var count = 0;\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n\n    if (quesJson.type == 7)\n        choices = [{ \"label\": \"Yes\", \"value\": \"yes\" }, { \"label\": \"No\", \"value\": \"no\" }];\n    else\n        choices = quesJson.options;\n\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n    \n    count = choices.length;\n    vaVars.count = count;\n    options = choices.splice(index, limit);\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    return options;    \n})()"},"description":""},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Question Choice Prev","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.question_choice_other_channels.getValue() === \"prev\";\n})()\n"},"id":"b3d178afe8bc474f8596bd36658ece7a","name":"Question Choice Prev","expert_mode":false},{"type":"Branch","label":"Question Choice Next","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.question_choice_other_channels.getValue() === \"next\";\n})()\n"},"id":"0b9d75029cfb4fedb489eafeedab814d","name":"Question Choice Next","expert_mode":false},{"type":"Branch","label":"Question Choice Chosen","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var valuePicked = vaInputs.question_choice_other_channels.getValue();\n    var condition = valuePicked !== 'next' &amp;&amp; valuePicked !== 'prev';\n    if (condition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    return condition;\n})();"},"id":"c835563ee6954705ae0d74d51a656b50","name":"Question Choice Chosen","expert_mode":false}],"id":"34862db574264da1ae8eb98b08560aa0","goal_id":"primary","expert_mode":false},{"type":"ScriptedAction","script":"(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var c = index - limit;\n    if ( c &lt; 0 ) c = 0;\n    vaVars.index = c;\n})();","id":"a008488c12134fa59d94d84358fb82f7","name":"Question Choice Prev Page","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false},{"type":"ScriptedAction","script":"(function execute() {\n    var count = parseInt(vaVars.count);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if ( index + limit &gt; count )\n        vaVars.index = 0;\n    else\n        vaVars.index = index + limit;\n})();","id":"88749c4d7be542c2a7e8cfc5317355bb","name":"Question Choice Next Page","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false},{"type":"ScriptedAction","script":"(function execute() {\n    if(vaInputs.question_choice_other_channels) {\n        vaInputs.question_choice = vaInputs.question_choice_other_channels;\n        vaInputs.question_choice_other_channels = \"\";\n    }\n})()","id":"f84e7d75c3954b32a9f83585a3778acc","name":"Set Question Choice Value","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false},{"type":"Decision","name":"Messaging Channel","branches":[{"type":"Branch","label":"Mobile/Web Client","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaContext.deviceType === \"mweb\";\n})()\n"},"id":"d8ac2db6e82e4a7ab6b545b817a9c311","name":"Mobile/Web Client","expert_mode":false},{"type":"Branch","label":"Other Channels","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return !(vaContext.deviceType === \"mweb\");\n})()"},"id":"fbf6557a927a43f98054ecfe349903f6","name":"Other Channels","expert_mode":false}],"id":"a5b6f697dfa74c469e813a2a62f7d69a","goal_id":"primary","expert_mode":false},{"type":"InputPrompt","variable_id":"016d9cd1e4a64839bcc5963b7933014a","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Enter a value to search\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"request_feedback":true,"skippable":{"type":"Applicability","mode":"script","value":"false"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"id":"b195dcbb9d9d4fc98362e2e77e66b14d","name":"Search Reference","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.question_reference_other_channels;\n})()\n"},"expert_mode":false,"formatType":"Text","validationScript":"","description":""},{"type":"ReferenceChoiceInputPrompt","mode":"external","id":"7c3b23f5020d46608d2aaac98964d3bb","name":"Question Reference Other Channels","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"variable_id":"a0c1157862164fe79996d8a37afcb839","message":{"type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()"},"request_feedback":false,"skippable":{"type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"expression_mode":"script","script":"(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n    var gr = new GlideRecordSecure(variable.reference);\n    var displayColumn = gr.getDisplayName();\n   \n    gr.addEncodedQuery(displayColumn + 'LIKE' + vaInputs.search_reference.getValue());\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(displayColumn);\n    \n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n\n    if (count &gt; 0) {\n        vaVars.no_records_found = \"false\"\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Search')\n        });\n    }\n    else\n        vaVars.no_records_found = \"true\";\n    \n    return options;    \n})()\n","metadataScript":"","cardName":"","cardFields":[],"no_options_found_message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"No records found\", vaContext.getRequesterLang())"},"condition":{"type":"Condition","mode":"external_script","value":"(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n    var gr = new GlideRecordSecure(variable.reference);\n    var displayColumn = gr.getDisplayName();\n   \n    gr.addEncodedQuery(displayColumn + 'LIKE' + vaInputs.search_reference.getValue());\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(displayColumn);\n    \n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n\n    if (count &gt; 0) {\n        vaVars.no_records_found = \"false\"\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Search')\n        });\n    }\n    else\n        vaVars.no_records_found = \"true\";\n    \n    return options;    \n})()\n"},"description":""},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Question Reference Prev","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.question_reference_other_channels.getValue() === \"prev\";\n})()\n"},"id":"5ae665aa120847ea8f52ed7a1e664c1d","name":"Question Reference Prev","expert_mode":false},{"type":"Branch","label":"Question Reference Next","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.question_reference_other_channels.getValue() === \"next\";\n})()\n"},"id":"42c78d4fb69945b0b29732c3e5109382","name":"Question Reference Next","expert_mode":false},{"type":"Branch","label":"Question Reference Chosen/Skipped","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var valuePicked = vaInputs.question_reference_other_channels.getValue();\n    var chosenCondition = valuePicked &amp;&amp; valuePicked !== 'next' &amp;&amp; valuePicked !== 'prev' &amp;&amp; valuePicked !== 'search';\n    var skippedCondition = vaVars.no_records_found === \"false\" &amp;&amp; !valuePicked;\n    if (chosenCondition || skippedCondition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    \n    return chosenCondition || skippedCondition;\n})();"},"id":"e9e08c00a2f14aac823ae9d1b8a90ca0","name":"Question Reference Chosen/Skipped","expert_mode":false},{"type":"Branch","label":"Search Question Reference","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var valuePicked = vaInputs.question_reference_other_channels.getValue();\n    var condition = (vaVars.no_records_found === \"true\") || valuePicked === \"search\";\n    if (condition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    return condition;\n})()\n"},"id":"1bcb283287b545749d712c40c8b2d700","name":"Search Question Reference","expert_mode":false}],"id":"5d8ea3fc1a8b4d3ca9e673e07549c0d0","goal_id":"primary","expert_mode":false},{"type":"ScriptedAction","script":"(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var c = index - limit;\n    if ( c &lt; 0 ) c = 0;\n    vaVars.index = c;\n})();","id":"1cfa25eaa3744ce982d9aefd9eaf84df","name":"Question Reference Prev Page","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false},{"type":"ScriptedAction","script":"(function execute() {\n    var count = parseInt(vaVars.count);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if ( index + limit &gt; count )\n        vaVars.index = 0;\n    else\n        vaVars.index = index + limit;\n})();","id":"1c81bdd3365c470eaef3813be5be0f2e","name":"Question Reference Next Page","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false},{"type":"ScriptedAction","script":"(function execute() {\n    if(vaInputs.question_reference_other_channels) {\n        vaInputs.question_reference = vaInputs.question_reference_other_channels;\n        vaInputs.question_reference_other_channels = \"\";\n    }\n})()","id":"e753e0457d284e499afb579c8136aac5","name":"Set Question Reference Value","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false},{"type":"LibraryCall","library_topic_name":"End state card for Catalog Request","library_topic_id":"0b01391550d30110fa9b861f7d83d7f6","library_topic_is_template":false,"parameter-mappings":[{"parameter-name":"record_id","value":{"type":"String","mode":"string","value":"{{vaVars.record_id}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}},{"parameter-name":"record_table","value":{"type":"String","mode":"string","value":"{{vaVars.record_table}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[],"id":"77cb2746abcb459b9b3cf607c871018a","name":"End state card","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false},{"type":"Decision","name":"Catalog item validity check","branches":[{"type":"Branch","label":"Valid Catalog Item","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return !!vaVars.isValidCatItem;\n})()\n"},"id":"128201c68271431f8e1559ed2c2bf2dc","name":"Valid Catalog Item","expert_mode":false},{"type":"Branch","label":"Invalid Catalog Item","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return !vaVars.isValidCatItem;\n})()\n"},"id":"10216f54c45049ffb6bcab5e669fb36f","name":"Invalid Catalog Item","expert_mode":false}],"id":"31766709be9347a79aef4e8f5265892c","goal_id":"primary","expert_mode":false},{"type":"ScriptedAction","script":"(function execute() {\n   var catItemID = vaInputs.catalog_item_id.getValue();\n   var catItem = GlideappCatalogItem.get(catItemID);\n   if (catItem == null || !(vaContext.catalog_builder_preview == 'true' || catItem.canView())) {\n       vaVars.isValidCatItem = false;\n       return;\n   }\n   vaVars.isValidCatItem = true;\n})()\n","id":"49019591625e45279b1580c127c08ad0","name":"Validate Catalog Item","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Has no field messages","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n     var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n     var json = new JSON();\n\n     return !((json.getKeys(quesJson.field_info_messages).length &gt; 0) || (json.getKeys(quesJson.field_warn_messages).length &gt; 0)\n     || (json.getKeys(quesJson.field_error_messages).length &gt; 0));\n})()\n"},"id":"9acb39ad7b0d4de79a5dd08661daba98","name":"Has no field messages","expert_mode":false},{"type":"Branch","label":"Has Field info and warning messages","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n     var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n     var json = new JSON();\n\n     return ((json.getKeys(quesJson.field_info_messages).length &gt; 0) ||\n      (json.getKeys(quesJson.field_warn_messages).length &gt; 0) || \n      (json.getKeys(quesJson.field_error_messages).length &gt; 0));\n})()\n"},"id":"b4135dc31bca45e1bdc89623d411b8fc","name":"Has Field info and warning messages","expert_mode":false}],"id":"d0cf3faea315461eae1e03deda5d4960","goal_id":"primary","expert_mode":false},{"type":"InputPrompt","variable_id":"22df45abcf814aab949983deb97bb30e","message":{"type":"String","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    var response = quesJson.label;\n    var json = new JSON();\n    var infoKeys = json.getKeys(quesJson.field_info_messages);\n    var warnKeys = json.getKeys(quesJson.field_warn_messages);\n    var errKeys =  json.getKeys(quesJson.field_error_messages);\n\n    for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n    }\n    for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n    }\n    for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n    }\n    response += \"\\n\" + gs.getMessage(\"Would you like to change your response?\");\n    return response;\n})()\n"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"request_feedback":false,"skippable":{"type":"Applicability","mode":"script","value":"false"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"id":"1dd90e8e85a34170ac75f6f9d0f81ef2","name":"Change Response","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"description":""},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"false","expression":{"type":"Applicability","mode":"query","value":"change_response=false"},"id":"d8b0c86b32cf4b61b462134bb5e05758","name":"false","expert_mode":false},{"type":"Branch","label":"true","expression":{"type":"Applicability","mode":"query","value":"change_response=true"},"id":"7721300d41a247649db05fc85c563bb8","name":"true","expert_mode":false}],"id":"cde044c17c62438a93060d206bc715ed","goal_id":"primary","expert_mode":false},{"type":"ScriptedAction","script":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    itemJson.variables[vaVars.qIndex].value = \"\";\n    itemJson.variables[vaVars.qIndex].field_info_messages = {};\n    itemJson.variables[vaVars.qIndex].field_warn_messages = {};\n    itemJson.variables[vaVars.qIndex].field_error_messages = {};\n    vaVars.itemJSON = JSON.stringify(itemJson);\n    var qIndex = vaVars.qIndex;\n    vaVars.qIndex = --qIndex;\n})()\n","id":"a8766d8181784aa49eaa5946063bd164","name":"Decrement qIndex and clear value","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false}],"edges":[{"type":"Edge","source_node_id":"728be06bc82a496883a17da67c386db4","target_node_id":"f84e7d75c3954b32a9f83585a3778acc","id":"705e89407fc441b788315270221c81d9"},{"type":"Edge","source_node_id":"b43a24507f434bf08fffb4cf2302ff06","target_node_id":"728be06bc82a496883a17da67c386db4","branch_id":"7730bac050cd4555b4b29bd80beea054","id":"09f2c57e3448402aaea86b207c60dca4","name":"7730bac050cd4555b4b29bd80beea054"},{"type":"Edge","source_node_id":"cde044c17c62438a93060d206bc715ed","target_node_id":"e02c40e82f31494582d1de28b922bcbd","branch_id":"d8b0c86b32cf4b61b462134bb5e05758","id":"0bf6b45a21b14649bb2f4661b7e3d82b","name":"d8b0c86b32cf4b61b462134bb5e05758"},{"type":"Edge","source_node_id":"77cb2746abcb459b9b3cf607c871018a","target_node_id":"997cc47e253a4f4486536c1b7b7ae200","id":"0b402b5adcb14b17b48d504ed7f3bb1e"},{"type":"Edge","source_node_id":"32baf6b2e23041f6b95954f25dc8ecc6","target_node_id":"2c8e4750e1a24e889f11df275160dee8","branch_id":"8a92e27746cb4063bfc16ec4bcf3fc05","id":"54bf92aed4f447a3a70bd159b362a915","name":"8a92e27746cb4063bfc16ec4bcf3fc05"},{"type":"Edge","source_node_id":"98d250bc8d2f4c86bcf34951524cae39","target_node_id":"55006c23cbb94bad98fbb8a3d73143c2","id":"17fc15a1d63441a8b2eefa57db8b805f"},{"type":"Edge","source_node_id":"d3c8c56e727a4ede82e57ac0ba7f1807","target_node_id":"b1978baa02fa4f48baf8f0addc4614b7","id":"f7f6d235f5f44de9ad80de47d442391c"},{"type":"Edge","source_node_id":"50c8a5c9f4c44ee38ab60632b3e39c05","target_node_id":"9664cf4809a049038b363de93e7255a2","id":"94befb6e0f78439f9eca40371f1eac1f"},{"type":"Edge","source_node_id":"0a72e759fed441ef8b3a0f83f64896f5","target_node_id":"7794298485d54886ab5178e3d89abf23","branch_id":"7ea3d7339285442887602f5ff3d2cbc8","id":"052e2414d71140bf83450ec4d82199b3","name":"7ea3d7339285442887602f5ff3d2cbc8"},{"type":"Edge","source_node_id":"b91f4def20ee42ddb221a9dda66e1dbe","target_node_id":"6f701cdee3bd497397529b0e876ce2eb","branch_id":"f655fd1cb3c84e9abdfd902589f6929c","id":"9a5fca03cc104e7d9c58933eff2193b5","name":"f655fd1cb3c84e9abdfd902589f6929c"},{"type":"Edge","source_node_id":"74e9eb47d964487f8b45da62b9f27b26","target_node_id":"6175385c4ab04062981531421fa16d0c","id":"c744403965934ee7b95b05af21d435c6"},{"type":"Edge","source_node_id":"6175385c4ab04062981531421fa16d0c","target_node_id":"3f20bcd9ba1d4bb580e636c9c096f15d","id":"4a72f155ec6d4ff48da186288071cce4"},{"type":"Edge","source_node_id":"3f20bcd9ba1d4bb580e636c9c096f15d","target_node_id":"997cc47e253a4f4486536c1b7b7ae200","branch_id":"a9e30b88c171415f9ec1f8f0aef883ea","id":"85b7394849e749ab9bd3ef7c330cda1c","name":"a9e30b88c171415f9ec1f8f0aef883ea"},{"type":"Edge","source_node_id":"3f20bcd9ba1d4bb580e636c9c096f15d","target_node_id":"1e8fe727712f4590b1b1baec08782bdf","branch_id":"aceb4cf8b68c43bdb1a94afd3dc27385","id":"95f826ba22864d3eadc7fcc9187d4c82","name":"aceb4cf8b68c43bdb1a94afd3dc27385"},{"type":"Edge","source_node_id":"1e8fe727712f4590b1b1baec08782bdf","target_node_id":"4e5bfad100634740b1757ec7e858ba88","branch_id":"7f8269a161b249f8bd2c111a4ef9aa28","id":"1ccc57f7399c40b4bcd7ec84112dd55e","name":"7f8269a161b249f8bd2c111a4ef9aa28"},{"type":"Edge","source_node_id":"4e5bfad100634740b1757ec7e858ba88","target_node_id":"e02c40e82f31494582d1de28b922bcbd","branch_id":"165afdb977cf4585a899c4dcf8b04d0c","id":"32f53318b7d14bcdaba045d710353c29","name":"165afdb977cf4585a899c4dcf8b04d0c"},{"type":"Edge","source_node_id":"4e5bfad100634740b1757ec7e858ba88","target_node_id":"5e10b9530d174953ab2d672e4de21207","branch_id":"39b0c760712346b995addbdd5dc19e25","id":"a44cceca6f344f7f8ec3c9c84cb0797f","name":"39b0c760712346b995addbdd5dc19e25"},{"type":"Edge","source_node_id":"5e10b9530d174953ab2d672e4de21207","target_node_id":"e02c40e82f31494582d1de28b922bcbd","id":"f627f091002d4f6f93842ff31162bcfe"},{"type":"Edge","source_node_id":"b91f4def20ee42ddb221a9dda66e1dbe","target_node_id":"ee857ec53ca84690b0bb2d81d29330f0","branch_id":"bd9e6fad3f0943b08ac534b31de67533","id":"cb2343a3cc664903ae97f57f87f7ed9a","name":"bd9e6fad3f0943b08ac534b31de67533"},{"type":"Edge","source_node_id":"ee857ec53ca84690b0bb2d81d29330f0","target_node_id":"b53efdd9451440579e975565d39f5018","id":"a5b4283ed3e1414c8831fcc2ede8d6c1"},{"type":"Edge","source_node_id":"b53efdd9451440579e975565d39f5018","target_node_id":"997cc47e253a4f4486536c1b7b7ae200","branch_id":"c38592267a954b798edc304c74ca622f","id":"902e2c05a33e414ea8b18fe7f8448bab","name":"c38592267a954b798edc304c74ca622f"},{"type":"Edge","source_node_id":"6f701cdee3bd497397529b0e876ce2eb","target_node_id":"800242434ca744e4a2133a32a0c96fa2","id":"a6c982fa9567425d8f853c5a16895e20"},{"type":"Edge","source_node_id":"800242434ca744e4a2133a32a0c96fa2","target_node_id":"997cc47e253a4f4486536c1b7b7ae200","branch_id":"847d9ef9476644f68d442470eca528e4","id":"d214069793284b2c80facafdc2110d5c","name":"847d9ef9476644f68d442470eca528e4"},{"type":"Edge","source_node_id":"32baf6b2e23041f6b95954f25dc8ecc6","target_node_id":"a3dedd563bc74fdf9b23f3fe46812347","branch_id":"38624bbb17b64ec09be899292aa56094","id":"15642c4b6d014c2d9e4b71976d25d187","name":"38624bbb17b64ec09be899292aa56094"},{"type":"Edge","source_node_id":"a3dedd563bc74fdf9b23f3fe46812347","target_node_id":"54883add9d0e45d59fa0aac1a13d6c53","id":"13e690454aad45e481eaf3f336355bc0"},{"type":"Edge","source_node_id":"54883add9d0e45d59fa0aac1a13d6c53","target_node_id":"a6d0be5ae89a4c56bfb95267af429043","id":"02518b11ce9a4e52b28854f6f0ed1076"},{"type":"Edge","source_node_id":"a6d0be5ae89a4c56bfb95267af429043","target_node_id":"3f1546895fe94ebeaf4b2e4b70fc68ca","branch_id":"332d207fee2a42c1adafa395a6aa9d80","id":"d071996babad4927a2fea9bc41e5a18f","name":"332d207fee2a42c1adafa395a6aa9d80"},{"type":"Edge","source_node_id":"32baf6b2e23041f6b95954f25dc8ecc6","target_node_id":"d5947bdd60f74556bf36d4e036a97f39","branch_id":"ae0669403d5c46f893f6fa0bf22ac874","id":"20604597cbe74f00b3fc7e330295249a","name":"ae0669403d5c46f893f6fa0bf22ac874"},{"type":"Edge","source_node_id":"1e8fe727712f4590b1b1baec08782bdf","target_node_id":"a702ef3286cc42208859ba03a9b32a52","branch_id":"dda04c2298a2448eb0573bec8df2d85f","id":"85c864b1e6d34de2a10453c479095e5f","name":"dda04c2298a2448eb0573bec8df2d85f"},{"type":"Edge","source_node_id":"a702ef3286cc42208859ba03a9b32a52","target_node_id":"997cc47e253a4f4486536c1b7b7ae200","id":"8b044dcd07bf4364bbbaad9e6fdaad33"},{"type":"Edge","source_node_id":"32baf6b2e23041f6b95954f25dc8ecc6","target_node_id":"95a610ed2d114a0884802fb3f396913e","branch_id":"4c849f1f2acc4b569195dc3bdd3fc5c3","id":"9867a1392add4bf491099d5f13b8465a","name":"4c849f1f2acc4b569195dc3bdd3fc5c3"},{"type":"Edge","source_node_id":"95a610ed2d114a0884802fb3f396913e","target_node_id":"54883add9d0e45d59fa0aac1a13d6c53","id":"4d1249f3bc3d4475ae78e6f0c1fb84fc"},{"type":"Edge","source_node_id":"32baf6b2e23041f6b95954f25dc8ecc6","target_node_id":"37a49d9fefee4a1b891d958a2e2ddfa3","branch_id":"648ce41dc43a4cddb85b149e51e3f1b5","id":"e5506cbad1a343c28f16932fea0a5054","name":"648ce41dc43a4cddb85b149e51e3f1b5"},{"type":"Edge","source_node_id":"37a49d9fefee4a1b891d958a2e2ddfa3","target_node_id":"54883add9d0e45d59fa0aac1a13d6c53","id":"6ecde7c0a8a041ce92c36cfe1ea9b096"},{"type":"Edge","source_node_id":"32baf6b2e23041f6b95954f25dc8ecc6","target_node_id":"64fbcbdf44bc4073b12f7e29573cebcf","branch_id":"70624ec92e384b13b3cd595c0f84f720","id":"c8403b9be3e14d058e22278aa4d8fabd","name":"70624ec92e384b13b3cd595c0f84f720"},{"type":"Edge","source_node_id":"64fbcbdf44bc4073b12f7e29573cebcf","target_node_id":"54883add9d0e45d59fa0aac1a13d6c53","id":"de169b66dac440569876db48d6d29b9f"},{"type":"Edge","source_node_id":"2c8e4750e1a24e889f11df275160dee8","target_node_id":"e3d5f7d6137e4acf8a039f47631df484","id":"38bfacb154e44aaea10b4bc5ccf5848e"},{"type":"Edge","source_node_id":"e3d5f7d6137e4acf8a039f47631df484","target_node_id":"0a72e759fed441ef8b3a0f83f64896f5","id":"5338b79af396447db4653b7b0c83f9d2"},{"type":"Edge","source_node_id":"7794298485d54886ab5178e3d89abf23","target_node_id":"e3d5f7d6137e4acf8a039f47631df484","id":"9e9aa639261146f2a602559820b8d33a"},{"type":"Edge","source_node_id":"0a72e759fed441ef8b3a0f83f64896f5","target_node_id":"2c8e4750e1a24e889f11df275160dee8","branch_id":"3f7bc24dea944a0ca4d39677c74d4a17","id":"3072200bc63e442bb1adaf912eaef69f","name":"3f7bc24dea944a0ca4d39677c74d4a17"},{"type":"Edge","source_node_id":"0a72e759fed441ef8b3a0f83f64896f5","target_node_id":"98cfe9bc35bf48c8888b9d2fbfbdeda8","branch_id":"6cc3721cc9454d3e8e32a8d48e45cbe9","id":"d531e9a0d79e4b948e18d758c541d4ca","name":"6cc3721cc9454d3e8e32a8d48e45cbe9"},{"type":"Edge","source_node_id":"98cfe9bc35bf48c8888b9d2fbfbdeda8","target_node_id":"f4a868d817454288b0ac62aaa8b77ca4","id":"d7bcaece8a0d49b69523cf7d2d1d6d3d"},{"type":"Edge","source_node_id":"f4a868d817454288b0ac62aaa8b77ca4","target_node_id":"54883add9d0e45d59fa0aac1a13d6c53","branch_id":"aeb810154abd4699922bcdcadf0f2cae","id":"7cf9ccc4bdb946fb93af0ba926a5b0dd","name":"aeb810154abd4699922bcdcadf0f2cae"},{"type":"Edge","source_node_id":"0a72e759fed441ef8b3a0f83f64896f5","target_node_id":"94b6b34923614613b9c2f2eb43705e45","branch_id":"b79af33712884369ad5777cec8b54e50","id":"c5e60e437162408481d061087635fb6b","name":"b79af33712884369ad5777cec8b54e50"},{"type":"Edge","source_node_id":"94b6b34923614613b9c2f2eb43705e45","target_node_id":"e3d5f7d6137e4acf8a039f47631df484","id":"45cc8fd74f9e4ec0a4a8b483be49d943"},{"type":"Edge","source_node_id":"f4a868d817454288b0ac62aaa8b77ca4","target_node_id":"2ea3c522c84245088207f8293e7a8750","branch_id":"c478fe22ee3c45db968498a54ac8d916","id":"92885b0389354a2991838561a2b6ddb7","name":"c478fe22ee3c45db968498a54ac8d916"},{"type":"Edge","source_node_id":"2ea3c522c84245088207f8293e7a8750","target_node_id":"9a69bffaffbb4d6ea7a0cdc211ff6907","id":"094a2895431242f792b57258032f72b4"},{"type":"Edge","source_node_id":"9a69bffaffbb4d6ea7a0cdc211ff6907","target_node_id":"2c8e4750e1a24e889f11df275160dee8","branch_id":"196bd1eb9b314c58ab9cf91a596b0f07","id":"b3c328d8ee5d448b9d365f96d53d8934","name":"196bd1eb9b314c58ab9cf91a596b0f07"},{"type":"Edge","source_node_id":"9a69bffaffbb4d6ea7a0cdc211ff6907","target_node_id":"997cc47e253a4f4486536c1b7b7ae200","branch_id":"24e76987c6cf432197971fd3027236b2","id":"73791063a7d14033a1ae4e4a6f6ebe1c","name":"24e76987c6cf432197971fd3027236b2"},{"type":"Edge","source_node_id":"a6d0be5ae89a4c56bfb95267af429043","target_node_id":"fabedeb0fdef4f3f8ab56c866f7604b2","branch_id":"c3e6df0cf4cc481aad840a2694c6d832","id":"cbcd39ee25304ef2897a427ea29cd4a0","name":"c3e6df0cf4cc481aad840a2694c6d832"},{"type":"Edge","source_node_id":"fabedeb0fdef4f3f8ab56c866f7604b2","target_node_id":"e02c40e82f31494582d1de28b922bcbd","branch_id":"e39a87eb518c49fcb02d3c01f498ffc6","id":"4be97b734e77452e8e6d781233ef9d52","name":"e39a87eb518c49fcb02d3c01f498ffc6"},{"type":"Edge","source_node_id":"fabedeb0fdef4f3f8ab56c866f7604b2","target_node_id":"16fe3345a4e943f1abb49380cd8e9fd3","branch_id":"5f57b04932a14852a6e4d4803c9abe76","id":"f28876be4768405784ea13c84fd3f797","name":"5f57b04932a14852a6e4d4803c9abe76"},{"type":"Edge","source_node_id":"32baf6b2e23041f6b95954f25dc8ecc6","target_node_id":"54883add9d0e45d59fa0aac1a13d6c53","branch_id":"b3eebf7421194366ab8ca04810804a7a","id":"ed3e1d4c163444c5883eec4b63976d71","name":"b3eebf7421194366ab8ca04810804a7a"},{"type":"Edge","source_node_id":"32baf6b2e23041f6b95954f25dc8ecc6","target_node_id":"9deefd69cdd3444a9b84225868e296c4","branch_id":"9d33a5cb741a45918a85d5af7da31242","id":"82558b356fcd4c589be47359c02f57d5","name":"9d33a5cb741a45918a85d5af7da31242"},{"type":"Edge","source_node_id":"9deefd69cdd3444a9b84225868e296c4","target_node_id":"54883add9d0e45d59fa0aac1a13d6c53","id":"7990824ab3d3486ab9959d545b64f786"},{"type":"Edge","source_node_id":"32baf6b2e23041f6b95954f25dc8ecc6","target_node_id":"619194839eb14119a4294056244dbe08","branch_id":"837318170f68433fab4a54e15e11daf3","id":"d6c3eed50e21444a8e781a5580052ebe","name":"837318170f68433fab4a54e15e11daf3"},{"type":"Edge","source_node_id":"619194839eb14119a4294056244dbe08","target_node_id":"54883add9d0e45d59fa0aac1a13d6c53","id":"1b5105bb46c9422c92ed4ec369e007e7"},{"type":"Edge","source_node_id":"32baf6b2e23041f6b95954f25dc8ecc6","target_node_id":"57608a46d8384da681d5b22721357f2c","branch_id":"b79605f9ea174e5c8ea6abbf2cac2a36","id":"74a50e1d5f7c406d89ba6f990a69f104","name":"b79605f9ea174e5c8ea6abbf2cac2a36"},{"type":"Edge","source_node_id":"57608a46d8384da681d5b22721357f2c","target_node_id":"54883add9d0e45d59fa0aac1a13d6c53","id":"bca084dacf214e71a2fa6743293adde4"},{"type":"Edge","source_node_id":"e02c40e82f31494582d1de28b922bcbd","target_node_id":"9fde3924a8b340e4938886cf6d2e677a","branch_id":"b9891d7f901e4f03ad288848b12b1cc0","id":"96bf7d4c9d4342da9cb9af3942e12c2a","name":"b9891d7f901e4f03ad288848b12b1cc0"},{"type":"Edge","source_node_id":"9fde3924a8b340e4938886cf6d2e677a","target_node_id":"b91f4def20ee42ddb221a9dda66e1dbe","branch_id":"0f8225393fd645468ade20b7944d1597","id":"fb398424f57946c0867c25213ede080a","name":"0f8225393fd645468ade20b7944d1597"},{"type":"Edge","source_node_id":"9fde3924a8b340e4938886cf6d2e677a","target_node_id":"98508029b44349ef9b4a4789f4271411","branch_id":"90c7e999e0d843df895deb370844459c","id":"7bd9ce98eeda491fa5fec6d46c46275b","name":"90c7e999e0d843df895deb370844459c"},{"type":"Edge","source_node_id":"98508029b44349ef9b4a4789f4271411","target_node_id":"5dfaf9f068a84cb49646effcc4130f41","id":"daa0850e8cab45a0a538607a6e7ad5bb"},{"type":"Edge","source_node_id":"5dfaf9f068a84cb49646effcc4130f41","target_node_id":"b91f4def20ee42ddb221a9dda66e1dbe","branch_id":"dca07a5c682d4425804cd9cbadfea27a","id":"dfd40a53563a4ead945150b8a9ee658e","name":"dca07a5c682d4425804cd9cbadfea27a"},{"type":"Edge","source_node_id":"5dfaf9f068a84cb49646effcc4130f41","target_node_id":"12a255fe3c1444e8a767d553811fffeb","branch_id":"37cbf7d88d0749338b0b00cfb960d9ad","id":"12e99b5eebf947d9a22ff3ce18779aca","name":"37cbf7d88d0749338b0b00cfb960d9ad"},{"type":"Edge","source_node_id":"9664cf4809a049038b363de93e7255a2","target_node_id":"9334d9c47dd64f08916cc3f4541612f2","id":"83de8d4ed5424e14b613026945336796"},{"type":"Edge","source_node_id":"9334d9c47dd64f08916cc3f4541612f2","target_node_id":"12a255fe3c1444e8a767d553811fffeb","branch_id":"2c50a8aa5b6b4e559def3ccc791c0342","id":"054c708182ea43758fcca5bde3a98cc3","name":"2c50a8aa5b6b4e559def3ccc791c0342"},{"type":"Edge","source_node_id":"9334d9c47dd64f08916cc3f4541612f2","target_node_id":"b91f4def20ee42ddb221a9dda66e1dbe","branch_id":"dad4e959205a4dbe9869ffd640cbd05c","id":"570da13b735742c58b78fee9a38f3f47","name":"dad4e959205a4dbe9869ffd640cbd05c"},{"type":"Edge","source_node_id":"32baf6b2e23041f6b95954f25dc8ecc6","target_node_id":"d3c8c56e727a4ede82e57ac0ba7f1807","branch_id":"12dad05b827046a8a876d50cd0a17944","id":"a5508f722dd84c9baa719654da5be384","name":"12dad05b827046a8a876d50cd0a17944"},{"type":"Edge","source_node_id":"b1978baa02fa4f48baf8f0addc4614b7","target_node_id":"530ade66a19a4bf5b26cab008ff1e6a4","id":"091324ede53c4849ad6995a040828d19"},{"type":"Edge","source_node_id":"530ade66a19a4bf5b26cab008ff1e6a4","target_node_id":"fabedeb0fdef4f3f8ab56c866f7604b2","branch_id":"1d3a94f134af471e9cc02a708d7a6c9b","id":"490e3bdc92c34a1ba848f1e723ee9147","name":"1d3a94f134af471e9cc02a708d7a6c9b"},{"type":"Edge","source_node_id":"530ade66a19a4bf5b26cab008ff1e6a4","target_node_id":"1a60347e6f924c548f1ecc13aa55eda8","branch_id":"3e204173b43946ff8fe23dfe084511b8","id":"93b4191838f9433f9cc3342e49e02433","name":"3e204173b43946ff8fe23dfe084511b8"},{"type":"Edge","source_node_id":"1a60347e6f924c548f1ecc13aa55eda8","target_node_id":"d3c8c56e727a4ede82e57ac0ba7f1807","id":"d9dc493a602243b5b14366eda2ee813a"},{"type":"Edge","source_node_id":"d5947bdd60f74556bf36d4e036a97f39","target_node_id":"a615b27ef6cd4ad792baa426610bd3b1","id":"0b6ce560dded42a89c0d321b00b974ac"},{"type":"Edge","source_node_id":"a615b27ef6cd4ad792baa426610bd3b1","target_node_id":"54883add9d0e45d59fa0aac1a13d6c53","branch_id":"7323d4e86af14ce9b413bad5ccd4b296","id":"dca588a1561e4259b163e2e79cbf92c9","name":"7323d4e86af14ce9b413bad5ccd4b296"},{"type":"Edge","source_node_id":"a615b27ef6cd4ad792baa426610bd3b1","target_node_id":"99381022abf144538e6b46b5d2b0ca9b","branch_id":"180d0374794d403894294896d371908f","id":"47534cc6f3b042a38be155d55d186eb8","name":"180d0374794d403894294896d371908f"},{"type":"Edge","source_node_id":"99381022abf144538e6b46b5d2b0ca9b","target_node_id":"54883add9d0e45d59fa0aac1a13d6c53","branch_id":"08fd609381d743ada39a089766cf2017","id":"1c021ea8216744c5a6822be3968020c6","name":"08fd609381d743ada39a089766cf2017"},{"type":"Edge","source_node_id":"99381022abf144538e6b46b5d2b0ca9b","target_node_id":"e222514224264003baba8fdd0c12c56d","branch_id":"01fd2c4ab233451a95ce3c9a59c29c30","id":"6c4445e0e7be493f97f16d03201b44a6","name":"01fd2c4ab233451a95ce3c9a59c29c30"},{"type":"Edge","source_node_id":"e222514224264003baba8fdd0c12c56d","target_node_id":"47a7f2d084934b2896ee221d42917971","id":"be68f98a357545cdb4e7fbef856fbd4d"},{"type":"Edge","source_node_id":"47a7f2d084934b2896ee221d42917971","target_node_id":"54883add9d0e45d59fa0aac1a13d6c53","branch_id":"e6fdf3e0d5fa492d8fbe5adf067f5fda","id":"d9a4bf5726c34d3da60a086e1b11c613","name":"e6fdf3e0d5fa492d8fbe5adf067f5fda"},{"type":"Edge","source_node_id":"47a7f2d084934b2896ee221d42917971","target_node_id":"ccd5378d1be64dbd99b0088ef1b22dbd","branch_id":"30719eda41104886962db6f3a3b13caf","id":"19092900676048a0828d840dab209f96","name":"30719eda41104886962db6f3a3b13caf"},{"type":"Edge","source_node_id":"ccd5378d1be64dbd99b0088ef1b22dbd","target_node_id":"cf6b5479e6e04165b3db5f0db701e882","id":"f8748e64f22c41049bfcec8b1ed2c702"},{"type":"Edge","source_node_id":"cf6b5479e6e04165b3db5f0db701e882","target_node_id":"54883add9d0e45d59fa0aac1a13d6c53","branch_id":"e4134154b455424babc4b603f9acdc36","id":"49994058c1464470bf8b91ce7e8ed7a1","name":"e4134154b455424babc4b603f9acdc36"},{"type":"Edge","source_node_id":"cf6b5479e6e04165b3db5f0db701e882","target_node_id":"b9beccb2aa974852b20c1dfaae23517a","branch_id":"6227746ca4dc454f9f048e2f96eadc39","id":"167d559987254368b07e886571474d99","name":"6227746ca4dc454f9f048e2f96eadc39"},{"type":"Edge","source_node_id":"8e33e2ce6cad4585a30430feea5b533e","target_node_id":"997cc47e253a4f4486536c1b7b7ae200","branch_id":"45e8b2618a9e4781805a756294fe7e15","id":"255bd76c5805417c91a359041e893f15","name":"45e8b2618a9e4781805a756294fe7e15"},{"type":"Edge","source_node_id":"8e33e2ce6cad4585a30430feea5b533e","target_node_id":"54883add9d0e45d59fa0aac1a13d6c53","branch_id":"acdd214a7eb24e21b303e9c748795607","id":"12ad6834951c47f4b20618a6ccf4f8c2","name":"acdd214a7eb24e21b303e9c748795607"},{"type":"Edge","source_node_id":"b9beccb2aa974852b20c1dfaae23517a","target_node_id":"bcf6d035489743df8be064993e826274","id":"d0b054b402864fee892deeed8ba557fa"},{"type":"Edge","source_node_id":"bcf6d035489743df8be064993e826274","target_node_id":"8e33e2ce6cad4585a30430feea5b533e","id":"d8b20051012e496eb3135aacbeb7fd50"},{"type":"Edge","source_node_id":"322bff24665f4c2e8ef607c616d6a2d1","target_node_id":"29a6789c104f499eb449ad8d75fb854f","id":"c238fd5443d1497091f94e568a8d12fd"},{"type":"Edge","source_node_id":"29a6789c104f499eb449ad8d75fb854f","target_node_id":"74e9eb47d964487f8b45da62b9f27b26","branch_id":"7fc9971b8d074c5886c0306e90870f4e","id":"fbe728459eeb4a6e9d83180ce7ef3327","name":"7fc9971b8d074c5886c0306e90870f4e"},{"type":"Edge","source_node_id":"29a6789c104f499eb449ad8d75fb854f","target_node_id":"e02c40e82f31494582d1de28b922bcbd","branch_id":"79e5a84a9e7f478e9455d47b93a69f33","id":"9f19a0fdedb14ff9af2de5fd89734db3","name":"79e5a84a9e7f478e9455d47b93a69f33"},{"type":"Edge","source_node_id":"800242434ca744e4a2133a32a0c96fa2","target_node_id":"286448edf1734dc8abc8824e08467ea9","branch_id":"cdb683d6b53349db9df84b86bd84050e","id":"824bd364e72f4c5690f06443332381a5","name":"cdb683d6b53349db9df84b86bd84050e"},{"type":"Edge","source_node_id":"286448edf1734dc8abc8824e08467ea9","target_node_id":"b38026bb69284918b8d2ada7c08f8838","branch_id":"0323c8d8f63546509be7baa736d03ce8","id":"7afa7e21c4734c3da809ed6cc27f9935","name":"0323c8d8f63546509be7baa736d03ce8"},{"type":"Edge","source_node_id":"286448edf1734dc8abc8824e08467ea9","target_node_id":"f2f60834cc1e4557b82e070bd7dccd75","branch_id":"020a6a86aca947c6bcc35dea788e1236","id":"af7ed62c0f8240319d88883b3874394a","name":"020a6a86aca947c6bcc35dea788e1236"},{"type":"Edge","source_node_id":"b53efdd9451440579e975565d39f5018","target_node_id":"c9017f3e3e6240318b1de2b4b26d46f3","branch_id":"0adb88ca91224c9ab46fc897230af24a","id":"0a28b0a0afa04ba0be95f7e42272c564","name":"0adb88ca91224c9ab46fc897230af24a"},{"type":"Edge","source_node_id":"c9017f3e3e6240318b1de2b4b26d46f3","target_node_id":"98d250bc8d2f4c86bcf34951524cae39","branch_id":"e14dd2e01bda47edadeaf33458142054","id":"15d39f947eb34e07b0d526893d4371eb","name":"e14dd2e01bda47edadeaf33458142054"},{"type":"Edge","source_node_id":"c9017f3e3e6240318b1de2b4b26d46f3","target_node_id":"f2f60834cc1e4557b82e070bd7dccd75","branch_id":"148db360dd964cda9bf90b1e2f3b958f","id":"7df08b92cd384304823b878feea6b0c1","name":"148db360dd964cda9bf90b1e2f3b958f"},{"type":"Edge","source_node_id":"f2f60834cc1e4557b82e070bd7dccd75","target_node_id":"3f2cae6b9a34499d8bdcce633f9f6124","id":"3e07cd6238b641af98c7992e4cbd3325"},{"type":"Edge","source_node_id":"3f2cae6b9a34499d8bdcce633f9f6124","target_node_id":"997cc47e253a4f4486536c1b7b7ae200","id":"bdf77b2eaccb4dff9571f610b5f441ae"},{"type":"Edge","source_node_id":"12a255fe3c1444e8a767d553811fffeb","target_node_id":"d30f3b3e5ac843eca3cd602bb4ccf331","id":"39efb663ac9745e59b37584d726cbe7d"},{"type":"Edge","source_node_id":"d30f3b3e5ac843eca3cd602bb4ccf331","target_node_id":"50c8a5c9f4c44ee38ab60632b3e39c05","branch_id":"3a9c932edf014df18d3c60008216aaf1","id":"07e29ac79c0149e18c3f015d2b114b81","name":"3a9c932edf014df18d3c60008216aaf1"},{"type":"Edge","source_node_id":"d30f3b3e5ac843eca3cd602bb4ccf331","target_node_id":"b91f4def20ee42ddb221a9dda66e1dbe","branch_id":"873d5c3a09414541a93b26d87d746982","id":"d24f25f27252422392a78fca42b80a31","name":"873d5c3a09414541a93b26d87d746982"},{"type":"Edge","source_node_id":"32baf6b2e23041f6b95954f25dc8ecc6","target_node_id":"6fa03c867ab34ce0be8a3d8b792d0868","branch_id":"1a9b6bdc480f42bebb8b4e3b672583ac","id":"b714d9acbf864684a4ec94846791b2b2","name":"1a9b6bdc480f42bebb8b4e3b672583ac"},{"type":"Edge","source_node_id":"6fa03c867ab34ce0be8a3d8b792d0868","target_node_id":"54883add9d0e45d59fa0aac1a13d6c53","id":"c0c77c84c5da40819e606e836a52efec"},{"type":"Edge","source_node_id":"e02c40e82f31494582d1de28b922bcbd","target_node_id":"eb3f943aa9f74c418b95fb3e785dce85","branch_id":"616f8d2b1ce74631a640d7d903cca8fa","id":"80636c630246403da03980c27ad6a5b4","name":"616f8d2b1ce74631a640d7d903cca8fa"},{"type":"Edge","source_node_id":"eb3f943aa9f74c418b95fb3e785dce85","target_node_id":"9f1855b30c8445eca3e42559b5857e83","id":"23c13972c655409987cfc31f94460fa3"},{"type":"Edge","source_node_id":"9f1855b30c8445eca3e42559b5857e83","target_node_id":"d2c718dc22d84f42ae76f7aa393fb8d4","id":"d22a54edfa9344b090dffddcd6993ba9"},{"type":"Edge","source_node_id":"d2c718dc22d84f42ae76f7aa393fb8d4","target_node_id":"32baf6b2e23041f6b95954f25dc8ecc6","branch_id":"2d1b9c36a0f74fa7b264b58689bf880a","id":"445c625b06f146beb3e1f08ef4405f3a","name":"2d1b9c36a0f74fa7b264b58689bf880a"},{"type":"Edge","source_node_id":"d2c718dc22d84f42ae76f7aa393fb8d4","target_node_id":"54883add9d0e45d59fa0aac1a13d6c53","branch_id":"8bfe665ecb49427b859aea49386b50e8","id":"c4985c19c62c44caa467d5267f732510","name":"8bfe665ecb49427b859aea49386b50e8"},{"type":"Edge","source_node_id":"b38026bb69284918b8d2ada7c08f8838","target_node_id":"55006c23cbb94bad98fbb8a3d73143c2","id":"416c3d16c86c449692132a051a62c5b4"},{"type":"Edge","source_node_id":"55006c23cbb94bad98fbb8a3d73143c2","target_node_id":"997cc47e253a4f4486536c1b7b7ae200","branch_id":"91ce6fa607214832be0499bb16c3be10","id":"324bafc53c384e069b22055b7f9b1d39","name":"91ce6fa607214832be0499bb16c3be10"},{"type":"Edge","source_node_id":"3f1546895fe94ebeaf4b2e4b70fc68ca","target_node_id":"832e807455aa423bb2d3f1c820377f34","id":"17506c53f5af4f51ac357f6742fc57a7"},{"type":"Edge","source_node_id":"832e807455aa423bb2d3f1c820377f34","target_node_id":"d5947bdd60f74556bf36d4e036a97f39","branch_id":"73a16b06277a4c6d93782e4b404a2bc5","id":"bef1fac78d524881869cbcef0095c4c8","name":"73a16b06277a4c6d93782e4b404a2bc5"},{"type":"Edge","source_node_id":"832e807455aa423bb2d3f1c820377f34","target_node_id":"9deefd69cdd3444a9b84225868e296c4","branch_id":"519f2a341a744644b48d97bdbbd5b92c","id":"4ab72cca27304f1191ba620d1ebebde6","name":"519f2a341a744644b48d97bdbbd5b92c"},{"type":"Edge","source_node_id":"832e807455aa423bb2d3f1c820377f34","target_node_id":"619194839eb14119a4294056244dbe08","branch_id":"a7ff39f38b314a75bb87c5678825cf34","id":"9a4ac9b8c0d942d385e51b359084df3c","name":"a7ff39f38b314a75bb87c5678825cf34"},{"type":"Edge","source_node_id":"832e807455aa423bb2d3f1c820377f34","target_node_id":"57608a46d8384da681d5b22721357f2c","branch_id":"a07ce5b2705248049ac0c679b83e8085","id":"cdb937b7bc3a4d339cdc9495167befb5","name":"a07ce5b2705248049ac0c679b83e8085"},{"type":"Edge","source_node_id":"32baf6b2e23041f6b95954f25dc8ecc6","target_node_id":"b43a24507f434bf08fffb4cf2302ff06","branch_id":"5de81028c4584599933a4d8e71288de8","id":"114d54c4794a4b73b30f3392f7dae6d2","name":"5de81028c4584599933a4d8e71288de8"},{"type":"Edge","source_node_id":"b43a24507f434bf08fffb4cf2302ff06","target_node_id":"cd4a158699bb435c9ddc7cdcb1422343","branch_id":"82e16cc174b3471ab0e69b4742c06adc","id":"35666b9c57c94fe0b67756f13879d8e3","name":"82e16cc174b3471ab0e69b4742c06adc"},{"type":"Edge","source_node_id":"cd4a158699bb435c9ddc7cdcb1422343","target_node_id":"34862db574264da1ae8eb98b08560aa0","id":"fdbc7ba0e765475fae52609616a6b2cb"},{"type":"Edge","source_node_id":"34862db574264da1ae8eb98b08560aa0","target_node_id":"a008488c12134fa59d94d84358fb82f7","branch_id":"b3d178afe8bc474f8596bd36658ece7a","id":"d5579137b48c416a922f577f1d433815","name":"b3d178afe8bc474f8596bd36658ece7a"},{"type":"Edge","source_node_id":"a008488c12134fa59d94d84358fb82f7","target_node_id":"cd4a158699bb435c9ddc7cdcb1422343","id":"3fa49cee67384178afaa40d745305a5e"},{"type":"Edge","source_node_id":"34862db574264da1ae8eb98b08560aa0","target_node_id":"88749c4d7be542c2a7e8cfc5317355bb","branch_id":"0b9d75029cfb4fedb489eafeedab814d","id":"247c40e2e7aa4d7e85c25b9b21729222","name":"0b9d75029cfb4fedb489eafeedab814d"},{"type":"Edge","source_node_id":"88749c4d7be542c2a7e8cfc5317355bb","target_node_id":"cd4a158699bb435c9ddc7cdcb1422343","id":"1f11a3d17cea4831b2aa37880cfdfabd"},{"type":"Edge","source_node_id":"34862db574264da1ae8eb98b08560aa0","target_node_id":"f84e7d75c3954b32a9f83585a3778acc","branch_id":"c835563ee6954705ae0d74d51a656b50","id":"ccff1f1b185848ab89119099f78edc38","name":"c835563ee6954705ae0d74d51a656b50"},{"type":"Edge","source_node_id":"f84e7d75c3954b32a9f83585a3778acc","target_node_id":"54883add9d0e45d59fa0aac1a13d6c53","id":"a154f3e5959d4c99abf43fa430966724"},{"type":"Edge","source_node_id":"32baf6b2e23041f6b95954f25dc8ecc6","target_node_id":"a5b6f697dfa74c469e813a2a62f7d69a","branch_id":"c285118b0cc34f04845e6d24588eb041","id":"d3ea2fd9c6064f4fb98eed5eb5204563","name":"c285118b0cc34f04845e6d24588eb041"},{"type":"Edge","source_node_id":"a5b6f697dfa74c469e813a2a62f7d69a","target_node_id":"421768830f3f46cba1080632bfdd550b","branch_id":"d8ac2db6e82e4a7ab6b545b817a9c311","id":"2110165e467f46499c5db13759802939","name":"d8ac2db6e82e4a7ab6b545b817a9c311"},{"type":"Edge","source_node_id":"a5b6f697dfa74c469e813a2a62f7d69a","target_node_id":"b195dcbb9d9d4fc98362e2e77e66b14d","branch_id":"fbf6557a927a43f98054ecfe349903f6","id":"fe802396b53445d48763b0e20cb87eb9","name":"fbf6557a927a43f98054ecfe349903f6"},{"type":"Edge","source_node_id":"b195dcbb9d9d4fc98362e2e77e66b14d","target_node_id":"7c3b23f5020d46608d2aaac98964d3bb","id":"9507b56bb7a54056bcb484ce56d45756"},{"type":"Edge","source_node_id":"7c3b23f5020d46608d2aaac98964d3bb","target_node_id":"5d8ea3fc1a8b4d3ca9e673e07549c0d0","id":"356683858b314e8db1d2bd8b48410107"},{"type":"Edge","source_node_id":"5d8ea3fc1a8b4d3ca9e673e07549c0d0","target_node_id":"1cfa25eaa3744ce982d9aefd9eaf84df","branch_id":"5ae665aa120847ea8f52ed7a1e664c1d","id":"16d140e3171c425799823ef5f3929f46","name":"5ae665aa120847ea8f52ed7a1e664c1d"},{"type":"Edge","source_node_id":"1cfa25eaa3744ce982d9aefd9eaf84df","target_node_id":"7c3b23f5020d46608d2aaac98964d3bb","id":"61b2833b8e214350a9f77abcbf6560b7"},{"type":"Edge","source_node_id":"5d8ea3fc1a8b4d3ca9e673e07549c0d0","target_node_id":"1c81bdd3365c470eaef3813be5be0f2e","branch_id":"42c78d4fb69945b0b29732c3e5109382","id":"311eb321cf2f4d5997f68a03f8978834","name":"42c78d4fb69945b0b29732c3e5109382"},{"type":"Edge","source_node_id":"1c81bdd3365c470eaef3813be5be0f2e","target_node_id":"7c3b23f5020d46608d2aaac98964d3bb","id":"cde7992f1e8746339211110c50193ab5"},{"type":"Edge","source_node_id":"5d8ea3fc1a8b4d3ca9e673e07549c0d0","target_node_id":"e753e0457d284e499afb579c8136aac5","branch_id":"e9e08c00a2f14aac823ae9d1b8a90ca0","id":"d26138e9de4e4552bb32db429e7d3d60","name":"e9e08c00a2f14aac823ae9d1b8a90ca0"},{"type":"Edge","source_node_id":"5d8ea3fc1a8b4d3ca9e673e07549c0d0","target_node_id":"b195dcbb9d9d4fc98362e2e77e66b14d","branch_id":"1bcb283287b545749d712c40c8b2d700","id":"4377505787574b79bba0e8ac078acd23","name":"1bcb283287b545749d712c40c8b2d700"},{"type":"Edge","source_node_id":"421768830f3f46cba1080632bfdd550b","target_node_id":"e753e0457d284e499afb579c8136aac5","id":"96b06bd6428044e383e0181a83e1fea7"},{"type":"Edge","source_node_id":"e753e0457d284e499afb579c8136aac5","target_node_id":"54883add9d0e45d59fa0aac1a13d6c53","id":"6752f84528bc43efa744df4c9b081867"},{"type":"Edge","source_node_id":"55006c23cbb94bad98fbb8a3d73143c2","target_node_id":"77cb2746abcb459b9b3cf607c871018a","branch_id":"ab4c8251f3a947f9863dde3ac62530bf","id":"bfe5c1264a684da5a9208a28cf03c421","name":"ab4c8251f3a947f9863dde3ac62530bf"},{"type":"Edge","source_node_id":"31766709be9347a79aef4e8f5265892c","target_node_id":"322bff24665f4c2e8ef607c616d6a2d1","branch_id":"128201c68271431f8e1559ed2c2bf2dc","id":"d31b4cfdad6a4dda95d601b8aa319591","name":"128201c68271431f8e1559ed2c2bf2dc"},{"type":"Edge","source_node_id":"31766709be9347a79aef4e8f5265892c","target_node_id":"a702ef3286cc42208859ba03a9b32a52","branch_id":"10216f54c45049ffb6bcab5e669fb36f","id":"c14acc5688304322942977b2bdd0764a","name":"10216f54c45049ffb6bcab5e669fb36f"},{"type":"Edge","source_node_id":"50e42592e1a246b58aadc7e397a1d70f","target_node_id":"49019591625e45279b1580c127c08ad0","id":"e37f4a86687d4f6ab4ad8972cfe2780d"},{"type":"Edge","source_node_id":"49019591625e45279b1580c127c08ad0","target_node_id":"31766709be9347a79aef4e8f5265892c","id":"972c2af5f8d9458d808dab53484b86bd"},{"type":"Edge","source_node_id":"16fe3345a4e943f1abb49380cd8e9fd3","target_node_id":"d0cf3faea315461eae1e03deda5d4960","id":"d1337e32648e4011bfcef560ef462ca1"},{"type":"Edge","source_node_id":"d0cf3faea315461eae1e03deda5d4960","target_node_id":"e02c40e82f31494582d1de28b922bcbd","branch_id":"9acb39ad7b0d4de79a5dd08661daba98","id":"07331baac8cc4ada8360c34f3b08ffa6","name":"9acb39ad7b0d4de79a5dd08661daba98"},{"type":"Edge","source_node_id":"d0cf3faea315461eae1e03deda5d4960","target_node_id":"1dd90e8e85a34170ac75f6f9d0f81ef2","branch_id":"b4135dc31bca45e1bdc89623d411b8fc","id":"0f490b89a9394636abda3ae3fd261c9c","name":"b4135dc31bca45e1bdc89623d411b8fc"},{"type":"Edge","source_node_id":"1dd90e8e85a34170ac75f6f9d0f81ef2","target_node_id":"cde044c17c62438a93060d206bc715ed","id":"a7a201287e5240e9916551cf576f9d0b"},{"type":"Edge","source_node_id":"cde044c17c62438a93060d206bc715ed","target_node_id":"a8766d8181784aa49eaa5946063bd164","branch_id":"7721300d41a247649db05fc85c563bb8","id":"a649f94aa88840408f6e1bce803e081c","name":"7721300d41a247649db05fc85c563bb8"},{"type":"Edge","source_node_id":"a8766d8181784aa49eaa5946063bd164","target_node_id":"e02c40e82f31494582d1de28b922bcbd","id":"ca542399781644a7a0084642dc18345d"},{"type":"Edge","source_node_id":"832e807455aa423bb2d3f1c820377f34","target_node_id":"b43a24507f434bf08fffb4cf2302ff06","branch_id":"88049587af6749bdb93d1d45aa2da76b","id":"a0d23bdad48f48c7b158477e2f20c6fa","name":"88049587af6749bdb93d1d45aa2da76b"}],"id":"primary"}],"script_variables":[{"type":"String","name":"itemJSON","value":{"type":"String","mode":"string"},"list":false,"id":"970e6e2668944b2a96edabed6b000522","formatType":"text","secure":false,"sensitive":false,"aiInput":false},{"type":"String","name":"itemName","value":{"type":"String","mode":"string"},"list":false,"id":"89df6790572e4be0857786b24bddc5c2","formatType":"text","secure":false,"sensitive":false,"aiInput":false},{"type":"String","name":"record_id","value":{"type":"String","mode":"script","value":"(function execute() {\n    return '';\n})()\n"},"list":false,"id":"10ce3c75c25a42f68181502f9da77a84","formatType":"text","secure":false,"sensitive":false,"aiInput":false},{"type":"String","name":"record_table","value":{"type":"String","mode":"script","value":"(function execute() {\n    return '';\n})()\n"},"list":false,"id":"974d2ebd0a2a4851b815680360a506f3","formatType":"text","secure":false,"sensitive":false,"aiInput":false},{"type":"String","name":"qIndex","value":{"type":"String","mode":"string","value":"-1"},"list":false,"id":"f5bd02f169214e52a71671eb0c0e98a4","formatType":"text","secure":false,"sensitive":false,"aiInput":false},{"type":"String","name":"limit","value":{"type":"String","mode":"string","value":"7"},"list":false,"id":"bc37ce3719cb4b65898191c073812f2f","formatType":"text","secure":false,"sensitive":false,"aiInput":false},{"type":"String","name":"count","value":{"type":"String","mode":"string","value":"0"},"list":false,"id":"e70f6c612f004f6aa647e2d993f51790","formatType":"text","secure":false,"sensitive":false,"aiInput":false},{"type":"String","name":"index","value":{"type":"String","mode":"string","value":"0"},"list":false,"id":"cee2564bb2de429abb8452a1dbaba1d4","formatType":"text","secure":false,"sensitive":false,"aiInput":false},{"type":"String","name":"validation_message","value":{"type":"String","mode":"script","value":"(function execute() {\n    return '';\n})()\n"},"list":false,"id":"a7adbb0c48e0417eb09ff2dca28a112f","formatType":"text","secure":false,"sensitive":false,"aiInput":false},{"type":"String","name":"request_for","value":{"type":"String","mode":"script","value":"(function execute() {\n    /* Return a quoted string.  For example:\n\n       var result;\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessage('hi there {0}', [vaInputs.first_name]);\n       } else {\n           return gs.getMessage('how are you {0}', [vaInputs.last_name]);\n       }\n    */\n    return '';\n})()\n"},"list":false,"id":"e45d129853c84ac3a15906524da4e80f","formatType":"text","secure":false,"sensitive":false,"aiInput":false},{"type":"String","name":"canView","value":{"type":"String","mode":"script","value":"(function execute() {\n    return false;\n})()\n"},"list":false,"id":"90db47196df846be8fefb2f8302e0a4a","formatType":"text","secure":false,"sensitive":false,"aiInput":false},{"type":"String","name":"unsupportedVarTypes","value":{"type":"String","mode":"script","value":"(function execute() {\n    return '14,15,17,21,23,25,29,30';\n})()\n"},"list":false,"id":"df66e010a16943a2bc60cb60901bab45","formatType":"text","secure":false,"sensitive":false,"aiInput":false},{"type":"String","name":"media_links_form_attachment","value":{"type":"String","mode":"script","value":"(function execute() {\n    return '';\n})()\n"},"list":false,"id":"b4eb5e13add241c38dcb9ab50d58960f","formatType":"text","secure":false,"sensitive":false,"aiInput":false},{"type":"String","name":"contextualSearchVariable","value":{"type":"String","mode":"script","value":"(function execute() {\n    return '';\n})()\n"},"list":false,"id":"977939a5815444278f4dac93e5d8ed74","formatType":"text","secure":false,"sensitive":false,"aiInput":false},{"type":"String","name":"contextualSearchContext","value":{"type":"String","mode":"string","value":"2821675a5b30130070e4492c11f91a89"},"list":false,"id":"fb170beb6fa64cea94283b2ab450c627","formatType":"text","secure":false,"sensitive":false,"aiInput":false},{"type":"String","name":"contextualSearchResultLimit","value":{"type":"String","mode":"string","value":"3"},"list":false,"id":"49034567f5514db69c037803df8c0a6a","formatType":"text","secure":false,"sensitive":false,"aiInput":false},{"type":"String","name":"contextualSearchIndex","value":{"type":"String","mode":"string","value":"0"},"list":false,"id":"1b7c65355f0e4549845bc2615dea5d99","formatType":"text","secure":false,"sensitive":false,"aiInput":false},{"type":"String","name":"contextualSearchResultJsonString","value":{"type":"String","mode":"string"},"list":false,"id":"f326f2bcc8634c598725b5d9f953ec1e","formatType":"text","secure":false,"sensitive":false,"aiInput":false},{"type":"String","name":"contextualSearchResultCount","value":{"type":"String","mode":"string","value":"0"},"list":false,"id":"5dcee0136641470a8a3107cd473ef8a2","formatType":"text","secure":false,"sensitive":false,"aiInput":false},{"type":"String","name":"no_records_found","value":{"type":"String","mode":"script","value":"(function execute() {\n    /* return 'a default value'; */\n    return \"false\";\n})()\n"},"list":false,"id":"0a45a90d557948b889760ec6f4c8193e","formatType":"text","secure":false,"sensitive":false,"aiInput":false}],"glide_variables":[{"type":"String","name":"catalog_item_id","list":false,"id":"07afcf68036848289165796f9a4f1dd7","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false,"aiInput":false},{"type":"True/False","id":"73b26d123eba4bc1a43a500b190f91a4","name":"proceed","formatType":"text","secure":false,"sensitive":false,"aiInput":false,"list":false},{"type":"True/False","id":"eb5c2cf603fb4beca65e553c72bac076","name":"submit_producer","formatType":"text","secure":false,"sensitive":false,"aiInput":false,"list":false},{"type":"True/False","id":"7d058ae428f541349c085b1b06fcb8bc","name":"order_item","formatType":"text","secure":false,"sensitive":false,"aiInput":false,"list":false},{"type":"Date/Time","mode":"date","id":"2f89c2ff51584aed90c0267ca838dd87","name":"question_date","formatType":"text","secure":false,"sensitive":false,"aiInput":false,"list":false},{"type":"String","name":"question_text","list":false,"id":"1a8b038937e842ba8ae56a4827e23e4f","formatType":"Text","validationScript":"","secure":false,"sensitive":false,"aiInput":false},{"type":"Choice","choices":[],"id":"33e1ef9d7af34db5975acb9bef3aa29d","name":"question_reference","formatType":"text","secure":false,"sensitive":false,"aiInput":false,"list":false,"table":""},{"type":"Reference","table":"sys_user","id":"ba3dd34f05d14c27ad69f26a548dee92","name":"user","formatType":"text","secure":false,"sensitive":false,"aiInput":false,"list":false},{"type":"Choice","choices":[],"id":"c4c3d591228e4ddaa35dc2f8d6736384","name":"question_choice","formatType":"text","secure":false,"sensitive":false,"aiInput":false,"list":false,"table":""},{"type":"Date/Time","mode":"date_time","id":"be0812314a6542989daddbb4da2f041b","name":"question_date_time","formatType":"text","secure":false,"sensitive":false,"aiInput":false,"list":false},{"type":"Choice","choices":[],"id":"992997eb5c1d4cd59e3d6e23bd4d3020","name":"question_requested_for","formatType":"text","secure":false,"sensitive":false,"aiInput":false,"list":false,"table":""},{"type":"String","name":"search_requested_for","list":false,"id":"bb68d9bb32184d9f859806561e155ddb","formatType":"Text","validationScript":"","secure":false,"sensitive":false,"aiInput":false},{"type":"True/False","id":"4c9006a0a896498e98663cb99854584c","name":"request_for_another_user","formatType":"text","secure":false,"sensitive":false,"aiInput":false,"list":false},{"type":"String","name":"question_email","list":false,"id":"b93d7f37309c480aae9442cb7ed84a60","formatType":"33513d135b1200101f254d3ba881c7d5","validationScript":"","secure":false,"sensitive":false,"aiInput":false},{"type":"String","name":"question_ip_address","list":false,"id":"7474c734e05c48e9ad1160295933b22f","formatType":"a860c5945b2200101f254d3ba881c7df","validationScript":"","secure":false,"sensitive":false,"aiInput":false},{"type":"String","name":"question_url","list":false,"id":"167cd0ae112241e8b87e01fb1285725a","formatType":"77d8b2935b9200101f254d3ba881c7b9","validationScript":"","secure":false,"sensitive":false,"aiInput":false},{"type":"True/False","id":"033f59a3c0234d16b376865219ad93bd","name":"add_attachment","formatType":"text","secure":false,"sensitive":false,"aiInput":false,"list":false},{"type":"File","id":"b41fd59845bf4371b81d933a99bc0b58","name":"upload_attachment","formatType":"text","secure":false,"sensitive":false,"aiInput":false,"list":false},{"type":"True/False","id":"105c1aad186e4ee8b6a78c42061cdc96","name":"add_more","formatType":"text","secure":false,"sensitive":false,"aiInput":false,"list":false},{"type":"File","id":"bab053bff273440bad56992e39b06f09","name":"question_attachment","formatType":"text","secure":false,"sensitive":false,"aiInput":false,"list":false},{"type":"String","name":"execute_contextual_search","list":false,"id":"1a07d18b06e643ab9ed243ca8ea0613d","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false,"aiInput":false},{"type":"String","name":"confirm_catalog_item","list":false,"id":"4fc581a3b49d49b9a02f817be5f45ac6","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false,"aiInput":false},{"type":"True/False","id":"afbb4bd2c6444c4882ab840c0700ade9","name":"did_articles_help","formatType":"text","secure":false,"sensitive":false,"aiInput":false,"list":false},{"type":"True/False","id":"e131ab8e513049809aa9bf27e60d24b5","name":"proceed_with_default","formatType":"text","secure":false,"sensitive":false,"aiInput":false,"list":false},{"type":"True/False","id":"df0de82d0e5041f183b4cf7ea725f146","name":"show_end_state_card","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false,"aiInput":false,"list":false},{"type":"Choice","choices":[],"id":"e3bad7ee86e143cdb66f3b54e74661bc","name":"question_choice_other_channels","formatType":"text","secure":false,"sensitive":false,"aiInput":false,"list":false,"table":""},{"type":"String","name":"search_reference","list":false,"id":"016d9cd1e4a64839bcc5963b7933014a","formatType":"Text","validationScript":"","secure":false,"sensitive":false,"aiInput":false},{"type":"Choice","choices":[],"id":"a0c1157862164fe79996d8a37afcb839","name":"question_reference_other_channels","formatType":"text","secure":false,"sensitive":false,"aiInput":false,"list":false,"table":""},{"type":"True/False","id":"22df45abcf814aab949983deb97bb30e","name":"change_response","formatType":"text","secure":false,"sensitive":false,"aiInput":false,"list":false}],"applicability":{"type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"6ead8e780f603200cd674f8ce1050ed1","library-usage":{"type":"Library","input-parameters":[{"name":"catalog_item_id","label":"catalog_item_id","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"07afcf68036848289165796f9a4f1dd7","type":"String","hint":""},{"name":"execute_contextual_search","label":"execute_contextual_search","default-value":"\"false\"","required":false,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1a07d18b06e643ab9ed243ca8ea0613d","type":"String","hint":""},{"name":"confirm_catalog_item","label":"confirm_catalog_item","default-value":"\"true\"","required":false,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"4fc581a3b49d49b9a02f817be5f45ac6","type":"String","hint":""},{"name":"show_end_state_card","label":"show_end_state_card","default-value":"false","required":false,"metadata":{"type":"True/False","list":false,"items":[],"use_items":false},"id":"df0de82d0e5041f183b4cf7ea725f146","type":"True/False"}],"return-values-mapping":[{"name":"record_id","label":"record_id","value":{"type":"String","mode":"string","value":"{{vaVars.record_id}}"}},{"name":"record_table","label":"record_table","value":{"type":"String","mode":"string","value":"{{vaVars.record_table}}"}},{"name":"variables","label":"variables","value":{"type":"String","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (!itemJson || !itemJson.variables)\n        return '';\n    var variablesObj = {};\n    for (i = 0; i &lt; itemJson.variables.length; i++) {\n        variablesObj[itemJson.variables[i].name] = itemJson.variables[i].value;\n    }\n    return JSON.stringify(variablesObj);\n})()\n"}}]},"domain":"global","topic_type":"TOPIC_BLOCK","channels":[],"dialog_acts_enabled":false,"id":"703285f7833202108ef61665eeaad3b8","name":"Submit a Request","key_phrases":[],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":true,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"model_type":"nlu_keyword","foundational":false,"modify_confirmation_enabled":false,"context_profiles":[],"library":true,"readOnly":false,"nluMapping":"[]"}</design_definition>
        <design_topic_id>703285f7833202108ef61665eeaad3b8</design_topic_id>
        <graph>{
  "graph_api_version": "1.0.65",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "50e42592e1a246b58aadc7e397a1d70f": {
          "id": "50e42592e1a246b58aadc7e397a1d70f",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          },
          "parameters": [
            {
              "name": "catalog_item_id",
              "value": "",
              "id": "07afcf68036848289165796f9a4f1dd7",
              "disabled": true,
              "referenced": true,
              "type": "String",
              "hint": "",
              "required": true
            },
            {
              "name": "execute_contextual_search",
              "value": "false",
              "id": "1a07d18b06e643ab9ed243ca8ea0613d",
              "referenced": true,
              "disabled": true,
              "type": "String",
              "hint": "",
              "required": false
            },
            {
              "name": "confirm_catalog_item",
              "value": "true",
              "id": "4fc581a3b49d49b9a02f817be5f45ac6",
              "referenced": false,
              "disabled": true,
              "type": "String",
              "hint": "",
              "required": false
            },
            {
              "type": "True/False",
              "value": "false",
              "id": "df0de82d0e5041f183b4cf7ea725f146",
              "name": "show_end_state_card",
              "referenced": true,
              "disabled": true
            }
          ],
          "variableIds": [
            "07afcf68036848289165796f9a4f1dd7",
            "1a07d18b06e643ab9ed243ca8ea0613d",
            "4fc581a3b49d49b9a02f817be5f45ac6",
            "df0de82d0e5041f183b4cf7ea725f146"
          ]
        },
        "997cc47e253a4f4486536c1b7b7ae200": {
          "id": "997cc47e253a4f4486536c1b7b7ae200",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "value": "",
            "mode": "simple"
          },
          "outputVariables": [
            {
              "key": "record_id",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.record_id}}",
                        "displayValue": "vaVars➛record_id"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": true,
              "cannotBeDeleted": false
            },
            {
              "key": "record_table",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.record_table}}",
                        "displayValue": "vaVars➛record_table"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": true,
              "cannotBeDeleted": false
            },
            {
              "key": "variables",
              "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (!itemJson || !itemJson.variables)\n        return '';\n    var variablesObj = {};\n    for (i = 0; i &lt; itemJson.variables.length; i++) {\n        variablesObj[itemJson.variables[i].name] = itemJson.variables[i].value;\n    }\n    return JSON.stringify(variablesObj);\n})()\n",
              "mode": "script",
              "disabled": true,
              "cannotBeDeleted": false
            }
          ]
        },
        "322bff24665f4c2e8ef607c616d6a2d1": {
          "id": "322bff24665f4c2e8ef607c616d6a2d1",
          "name": "Set Selected Item",
          "script": "(function execute() {\n    var itemId = vaInputs.catalog_item_id.getValue();\n    var itemJSON = new sn_sc.CatalogConversationHelper().getItem(itemId);\n    vaVars.itemJSON = JSON.stringify(itemJSON);\n    vaVars.itemName = itemJSON.name;\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "74e9eb47d964487f8b45da62b9f27b26": {
          "id": "74e9eb47d964487f8b45da62b9f27b26",
          "stepType": "TextOutput",
          "name": "Item Description",
          "value": [
            {
              "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var response = gs.getMessage(\"Here are some more details about {0}\", vaVars.itemName);\n    if (itemJson.description) \n        return response + itemJson.description;\n\n    return gs.getMessage(\"Selected {0}\", vaVars.itemName);\n})()\n",
              "mode": "script"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "secure": false,
          "requestFeedback": true
        },
        "6175385c4ab04062981531421fa16d0c": {
          "id": "6175385c4ab04062981531421fa16d0c",
          "stepType": "BooleanPrompt",
          "name": "Proceed",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "Should I proceed with this?"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "73b26d123eba4bc1a43a500b190f91a4",
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          },
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "detailDescription": ""
        },
        "3f20bcd9ba1d4bb580e636c9c096f15d": {
          "id": "3f20bcd9ba1d4bb580e636c9c096f15d",
          "stepType": "Decision",
          "name": "Decision"
        },
        "1e8fe727712f4590b1b1baec08782bdf": {
          "id": "1e8fe727712f4590b1b1baec08782bdf",
          "stepType": "Decision",
          "name": "Decision"
        },
        "4e5bfad100634740b1757ec7e858ba88": {
          "id": "4e5bfad100634740b1757ec7e858ba88",
          "stepType": "Decision",
          "name": "Decision"
        },
        "5e10b9530d174953ab2d672e4de21207": {
          "id": "5e10b9530d174953ab2d672e4de21207",
          "stepType": "TextOutput",
          "name": "Start Questions",
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": "OK, let's finish up your request."
                    }
                  ]
                }
              ],
              "mode": "simple"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "secure": false,
          "requestFeedback": true
        },
        "e02c40e82f31494582d1de28b922bcbd": {
          "id": "e02c40e82f31494582d1de28b922bcbd",
          "stepType": "Decision",
          "name": "Decision"
        },
        "b91f4def20ee42ddb221a9dda66e1dbe": {
          "id": "b91f4def20ee42ddb221a9dda66e1dbe",
          "stepType": "Decision",
          "name": "Decision"
        },
        "ee857ec53ca84690b0bb2d81d29330f0": {
          "id": "ee857ec53ca84690b0bb2d81d29330f0",
          "stepType": "BooleanPrompt",
          "name": "Submit Producer",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Alright, you're all set. Shall I submit this request?"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "eb5c2cf603fb4beca65e553c72bac076",
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          },
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "detailDescription": ""
        },
        "b53efdd9451440579e975565d39f5018": {
          "id": "b53efdd9451440579e975565d39f5018",
          "stepType": "Decision",
          "name": "Decision"
        },
        "98d250bc8d2f4c86bcf34951524cae39": {
          "id": "98d250bc8d2f4c86bcf34951524cae39",
          "name": "Insert the Record",
          "script": "(function execute() {\n   var itemJson = JSON.parse(vaVars.itemJSON);\n    var variablesObj = {};\n    var attachmentIds = [];\n    for (i = 0; i &lt; itemJson.variables.length; i++) {\n        variablesObj[itemJson.variables[i].name] = itemJson.variables[i].value;\n        if (itemJson.variables[i].type === 33)\n           attachmentIds.push(itemJson.variables[i].value);\n    }\n   var reqObject = {\n       \"sysparm_id\" : itemJson.sys_id,\n       \"sysparm_action\" : 'execute_producer',\n        \"variables\" : variablesObj,\n        \"engagement_channel\" : 'va'\n   }\n   var response = new sn_sc.CatItem(itemJson.sys_id).submitProducer(reqObject);\n   if (response) {\n       vaVars.record_id = response.sys_id;\n       vaVars.record_table = response.table;\n       // add attachment to record\n       var mediaLinksFormAttachment = vaVars.media_links_form_attachment.split(',');\n       for (var i in mediaLinksFormAttachment)\n           vaSystem.attachToRecord(mediaLinksFormAttachment[i], response.table, response.sys_id);\n\n       // move attachment variable to record\n       var gr = new GlideRecord('sys_attachment');\n       gr.addQuery('sys_id', 'IN' , attachmentIds);\n       gr.query();\n       while (gr.next()) {\n           gr.setValue('table_name', 'ZZ_YY' + response.table);\n           gr.setValue('table_sys_id', response.sys_id);\n           gr.update();\n       }\n   }\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "6f701cdee3bd497397529b0e876ce2eb": {
          "id": "6f701cdee3bd497397529b0e876ce2eb",
          "stepType": "BooleanPrompt",
          "name": "Order Item",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Alright, you're all set. Shall I submit this request?"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "7d058ae428f541349c085b1b06fcb8bc",
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          },
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "detailDescription": ""
        },
        "800242434ca744e4a2133a32a0c96fa2": {
          "id": "800242434ca744e4a2133a32a0c96fa2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "b38026bb69284918b8d2ada7c08f8838": {
          "id": "b38026bb69284918b8d2ada7c08f8838",
          "name": "Checkout Cart",
          "script": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var cartname = \"vacart_\" + gs.generateGUID();\n    var cartObj = new sn_sc.CartJS(cartname);\n    cartObj.setRequestedFor(vaVars.request_for);\n    cartObj.setEngagementChannel('va');\n\n    var variablesObj = {};\n    var attachmentIds = [];\n    for (i = 0; i &lt; itemJson.variables.length; i++) {\n        variablesObj[itemJson.variables[i].name] = itemJson.variables[i].value;\n        if (itemJson.variables[i].type === 33)\n           attachmentIds.push(itemJson.variables[i].value);\n    }\n        \n\n    var reqObj = {\n        \"sysparm_id\" : itemJson.sys_id,\n        \"variables\" : variablesObj\n    };\n    cartObj.addToCart(reqObj);\n    var requestResponse = cartObj.checkoutCart(true);\n    var requestGr = new GlideRecord('sc_request');\n    if (requestGr.get(requestResponse.request_id)) {\n        var reqItemGr = new GlideRecord('sc_req_item');\n        reqItemGr.addQuery(\"request\", requestResponse.request_id);\n        reqItemGr.query();\n        if (reqItemGr.next()) {\n            vaVars.record_id = reqItemGr.getUniqueValue();\n            vaVars.record_table = 'sc_req_item';\n            // add attachment to record\n            var mediaLinksFormAttachment = vaVars.media_links_form_attachment.split(',');\n            for (var i in mediaLinksFormAttachment)\n                vaSystem.attachToRecord(mediaLinksFormAttachment[i], vaVars.record_table, vaVars.record_id);\n\n        }\n        // move attachment variable to record\n        var gr = new GlideRecord('sys_attachment');\n        gr.addQuery('sys_id', 'IN' , attachmentIds);\n        gr.query();\n        while (gr.next()) {\n            gr.setValue('table_name', 'ZZ_YY' + vaVars.record_table);\n            gr.setValue('table_sys_id', vaVars.record_id);\n            gr.update();\n        }\n    }\n})()",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "32baf6b2e23041f6b95954f25dc8ecc6": {
          "id": "32baf6b2e23041f6b95954f25dc8ecc6",
          "stepType": "Decision",
          "name": "Decision"
        },
        "a3dedd563bc74fdf9b23f3fe46812347": {
          "id": "a3dedd563bc74fdf9b23f3fe46812347",
          "stepType": "DateTimePrompt",
          "name": "Question Date",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "2f89c2ff51584aed90c0267ca838dd87",
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          },
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "detailDescription": ""
        },
        "54883add9d0e45d59fa0aac1a13d6c53": {
          "id": "54883add9d0e45d59fa0aac1a13d6c53",
          "name": "Post Response",
          "script": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    vaVars.validation_message = \"\";\n    var quesJson = itemJson.variables[vaVars.qIndex];\n    var type = quesJson.type;\n    var vaFieldValidator = new global.VAFieldValidator();\n    // If user doesn't want to proceed with the selected value and skips the question, the variable would be set to \"\"\n    var proceedWithDefaultValue = vaInputs.proceed_with_default.getValue();\n    switch (type) {\n        case 2:\n        case 6:\n        case 16:\n            var ans = vaInputs.question_text.getValue() || (proceedWithDefaultValue ? quesJson.display_value : \"\");\n            if (ans.trim().length === 0 &amp;&amp; itemJson.variables[vaVars.qIndex].mandatory) {\n                vaVars.validation_message = gs.getMessage('You must answer this question');\n                break;\n            }\n            if (type === 2) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_text = \"\";\n                break;\n            }\n            var q = GlideappQuestion.getQuestion(itemJson.variables[vaVars.qIndex].sys_id);\n            var validresponse = q.validateRegex(ans);\n            if (validresponse) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_text = \"\";\n            } else if (!validresponse)\n                vaVars.validation_message = q.getValidationMessage();\n            break;\n        case 7:\n            var ans = (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_choice.getValue()) {\n                switch (vaInputs.question_choice.getValue()) {\n                    case \"yes\":\n                        ans = \"true\";\n                        break;\n                    case \"no\":\n                    case \"no_data\":\n                    case \"\":\n                        ans = \"false\";\n                        break;\n                    default:\n                        ans = \"false\";\n                        break;\n                }\n            }\n            if (itemJson.variables[vaVars.qIndex].mandatory &amp;&amp; ans == \"false\")\n                vaVars.validation_message = gs.getMessage(\"It's a required question. You must select Yes to continue\");\n            else\n                itemJson.variables[vaVars.qIndex].value = ans;\n            vaInputs.question_choice = \"\";\n            break;\n        case 9:\n            itemJson.variables[vaVars.qIndex].value = vaInputs.question_date.getDisplayValue() || (proceedWithDefaultValue ? quesJson.display_value : \"\");\n            vaInputs.question_date = \"\";\n            break;\n        case 10:\n            itemJson.variables[vaVars.qIndex].value = vaInputs.question_date_time.getDisplayValue() || (proceedWithDefaultValue ? quesJson.display_value : \"\");\n            vaInputs.question_date_time = \"\";\n            break;\n        case 8:\n            var ans = (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_reference)\n                ans = vaInputs.question_reference.getValue();\n\n            itemJson.variables[vaVars.qIndex].value = ans;\n            vaInputs.question_reference = \"\";\n            break;\n        case 1:\n        case 3:\n        case 4:\n        case 5:\n        case 18:\n        case 22:\n            var ans = (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_choice) {\n                ans = vaInputs.question_choice.getValue();\n                ans = ans == 'no_data' ? '' : ans;\n            }\n            itemJson.variables[vaVars.qIndex].value = ans;\n            vaInputs.question_choice = \"\";\n            break;\n        case 26:\n            var ans = vaInputs.question_email.getValue() || (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_email.getValue() || ans == \"\" || vaFieldValidator.validateEmailAddress(ans)) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_email = \"\";\n            } else\n                vaVars.validation_message = gs.getMessage(\"This isn't a valid email address\");\n            break;\n        case 27:\n            var ans = vaInputs.question_url.getValue() || (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_url.getValue() || ans == \"\" || vaFieldValidator.validateURL(ans)) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_url = \"\";\n            } else\n                vaVars.validation_message = gs.getMessage(\"This isn't a valid URL\");\n            break;\n        case 28:\n            var ans = vaInputs.question_ip_address.getValue() || (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_ip_address.getValue() || ans == \"\" || vaFieldValidator.validateIPAddress(ans)) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_ip_address = \"\";\n            } else\n                vaVars.validation_message = gs.getMessage(\"This isn't a valid IP Address\");\n            break;\n        case 31:\n            var ans = quesJson.default_value + '';\n            if (quesJson.default_value &amp;&amp; proceedWithDefaultValue)\n                vaVars.request_for = ans;\n            else if (vaVars.request_for)\n                ans = vaVars.request_for;\n            itemJson.variables[vaVars.qIndex].value = ans;\n    }\n    itemJson.variables[vaVars.qIndex].field_info_messages = {};\n    itemJson.variables[vaVars.qIndex].field_warn_messages = {};\n    itemJson.variables[vaVars.qIndex].field_error_messages = {};\n\n    if (!vaVars.request_for)\n        vaVars.request_for = gs.getUserID() + '';\n    var executeDataLookup = false;\n    var executeDynamicValue = false;\n    if (quesJson.data_lookup_ids &amp;&amp; quesJson.data_lookup_ids.length != 0)\n        executeDataLookup = true;\n    if (itemJson.dynamic_value_variable_config &amp;&amp; itemJson.dynamic_value_variable_config[quesJson.sys_id] &amp;&amp; itemJson.dynamic_value_variable_config[quesJson.sys_id].length != 0)\n        executeDynamicValue = true;\n    if (executeDataLookup || executeDynamicValue) {\n        var helper = new sn_sc.CatalogConversationHelper();\n        vaVars.itemJSON = JSON.stringify(helper.executeVariableChangeHandlers(itemJson, quesJson.sys_id, executeDataLookup, executeDynamicValue));\n    } else\n        vaVars.itemJSON = JSON.stringify(itemJson);\n\n// resetting the value of proceed with default incase validation fails\n   if (vaVars.validation_message.length !== 0)\n       vaInputs.proceed_with_default = false;\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "a6d0be5ae89a4c56bfb95267af429043": {
          "id": "a6d0be5ae89a4c56bfb95267af429043",
          "stepType": "Decision",
          "name": "Decision"
        },
        "3f1546895fe94ebeaf4b2e4b70fc68ca": {
          "id": "3f1546895fe94ebeaf4b2e4b70fc68ca",
          "stepType": "ScriptOutput",
          "name": "Validation Message",
          "output_type": "single_part",
          "script": "(function execute() {\n      var singleOutMsg = new sn_cs.SinglePartOutMsg();\n       singleOutMsg.setTextPart(gs.getMessage('{0}. Answer the question again', vaVars.validation_message));\n       return singleOutMsg;\n})()",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "d5947bdd60f74556bf36d4e036a97f39": {
          "id": "d5947bdd60f74556bf36d4e036a97f39",
          "stepType": "TextPrompt",
          "name": "Question Text",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "1a8b038937e842ba8ae56a4827e23e4f",
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          },
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "detailDescription": "",
          "requestFeedback": true
        },
        "421768830f3f46cba1080632bfdd550b": {
          "stepType": "ReferenceChoicePrompt",
          "name": "Question Reference",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "33e1ef9d7af34db5975acb9bef3aa29d",
          "id": "421768830f3f46cba1080632bfdd550b",
          "mode": "external",
          "script": "(function execute() {\n    var options = [];\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n\n    var gr = new GlideRecordSecure(variable.reference);\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(gr.getDisplayName());\n    \n    gr.query();\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n    \n    return options;    \n})()",
          "noRecordsResponseMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "No records found"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "condition": {
            "value": "(function execute() {\n    var options = [];\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n\n    var gr = new GlideRecordSecure(variable.reference);\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(gr.getDisplayName());\n    \n    gr.query();\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n    \n    return options;    \n})()",
            "mode": "external_script"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "hasCardHeader": false,
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "detailDescription": ""
        },
        "a702ef3286cc42208859ba03a9b32a52": {
          "id": "a702ef3286cc42208859ba03a9b32a52",
          "name": "Set Record ID to -1",
          "script": "(function execute() {\n    vaVars.record_id = \"-1\";\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "728be06bc82a496883a17da67c386db4": {
          "stepType": "ReferenceChoicePrompt",
          "name": "Question Choice",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "mode": "query",
            "value": ""
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "c4c3d591228e4ddaa35dc2f8d6736384",
          "id": "728be06bc82a496883a17da67c386db4",
          "mode": "external",
          "script": "(function execute() {\n    var options = choices = [];\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (quesJson.type == 7)\n        choices = [{ \"label\": \"Yes\", \"value\": \"yes\" }, { \"label\": \"No\", \"value\": \"no\" }];\n    else\n        choices = quesJson.options;\n\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n\n    options = choices;\n    return options;\n})()",
          "noRecordsResponseMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "No records found"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "condition": {
            "value": "(function execute() {\n    var options = choices = [];\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (quesJson.type == 7)\n        choices = [{ \"label\": \"Yes\", \"value\": \"yes\" }, { \"label\": \"No\", \"value\": \"no\" }];\n    else\n        choices = quesJson.options;\n\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n\n    options = choices;\n    return options;\n})()",
            "mode": "external_script"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n    var question = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (question.mandatory)\n        return false;\n    if (question.type === 3 &amp;&amp; question.value === '' &amp;&amp; question.options[0].value !== '') \n        return true;\n    if (question.type === 4 &amp;&amp; question.value === '')\n        return true;\n    return false;\n})();\n"
          },
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "hasCardHeader": false,
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "detailDescription": ""
        },
        "95a610ed2d114a0884802fb3f396913e": {
          "id": "95a610ed2d114a0884802fb3f396913e",
          "stepType": "DateTimePrompt",
          "name": "Question Date Time",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "be0812314a6542989daddbb4da2f041b",
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          },
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "detailDescription": ""
        },
        "37a49d9fefee4a1b891d958a2e2ddfa3": {
          "id": "37a49d9fefee4a1b891d958a2e2ddfa3",
          "stepType": "TextOutput",
          "name": "Question Label",
          "value": [
            {
              "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()",
              "mode": "script"
            }
          ],
          "applicability": {
            "mode": "script",
            "value": "(function execute() {\n    var question = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (question._internal_type == \"checkbox_container\" &amp;&amp; question.label.toUpperCase() == \"OPTIONS\"\n        &amp;&amp; Array.isArray(question._children) &amp;&amp; question._children.length == 1)\n        return false;\n    return true;\n})()\n"
          },
          "secure": false,
          "requestFeedback": true
        },
        "64fbcbdf44bc4073b12f7e29573cebcf": {
          "id": "64fbcbdf44bc4073b12f7e29573cebcf",
          "stepType": "TextOutput",
          "name": "Container Start Question",
          "value": [
            {
              "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()",
              "mode": "script"
            }
          ],
          "applicability": {
            "mode": "script",
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (quesJson.display_title)\n        return true;\n})()\n"
          },
          "secure": false,
          "requestFeedback": true
        },
        "e3d5f7d6137e4acf8a039f47631df484": {
          "stepType": "ReferenceChoicePrompt",
          "name": "Question Requested For",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "992997eb5c1d4cd59e3d6e23bd4d3020",
          "id": "e3d5f7d6137e4acf8a039f47631df484",
          "mode": "external",
          "script": "(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n    var gr = new GlideRecordSecure('sys_user');\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    gr.addEncodedQuery('nameLIKE'+ vaInputs.search_requested_for);\n    gr.addQuery(quesJson.qualifier);\n    gr.orderBy(gr.getDisplayName());\n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    if (count &gt; 0) {\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Someone else')\n        });\n    }\n    return options;    \n})()\n",
          "noRecordsResponseMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "I couldn't find a user with that name"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "condition": {
            "value": "(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n    var gr = new GlideRecordSecure('sys_user');\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    gr.addEncodedQuery('nameLIKE'+ vaInputs.search_requested_for);\n    gr.addQuery(quesJson.qualifier);\n    gr.orderBy(gr.getDisplayName());\n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    if (count &gt; 0) {\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Someone else')\n        });\n    }\n    return options;    \n})()\n",
            "mode": "external_script"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "hasCardHeader": false,
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "detailDescription": ""
        },
        "2c8e4750e1a24e889f11df275160dee8": {
          "id": "2c8e4750e1a24e889f11df275160dee8",
          "stepType": "TextPrompt",
          "name": "Search Requested For",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "Who should I set it to? "
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "bb68d9bb32184d9f859806561e155ddb",
          "skippable": {
            "mode": "query",
            "value": ""
          },
          "inputType": {
            "format": "Text",
            "script": ""
          },
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "detailDescription": "",
          "requestFeedback": true
        },
        "0a72e759fed441ef8b3a0f83f64896f5": {
          "id": "0a72e759fed441ef8b3a0f83f64896f5",
          "stepType": "Decision",
          "name": "Decision"
        },
        "7794298485d54886ab5178e3d89abf23": {
          "id": "7794298485d54886ab5178e3d89abf23",
          "name": "Requested For Next Page",
          "script": "(function execute() {\n    var count = parseInt(vaVars.count);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if ( index + limit &gt; count )\n        vaVars.index = 0;\n    else\n        vaVars.index = index + limit;\n})();",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "98cfe9bc35bf48c8888b9d2fbfbdeda8": {
          "id": "98cfe9bc35bf48c8888b9d2fbfbdeda8",
          "name": "Is Delegation Allowed",
          "script": "(function execute() {\n    var item = new sn_sc.CatItem(JSON.parse(vaVars.itemJSON).sys_id);\n    vaVars.request_for = vaInputs.question_requested_for.getValue() + '';\n    vaVars.canView = item.isDelegationAllowed(vaVars.request_for);\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "f4a868d817454288b0ac62aaa8b77ca4": {
          "id": "f4a868d817454288b0ac62aaa8b77ca4",
          "stepType": "Decision",
          "name": "Decision"
        },
        "94b6b34923614613b9c2f2eb43705e45": {
          "id": "94b6b34923614613b9c2f2eb43705e45",
          "name": "Requested For Previous Page",
          "script": "(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var c = index - limit;\n    if ( c &lt; 0 ) c = 0;\n    vaVars.index = c;\n})();",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "2ea3c522c84245088207f8293e7a8750": {
          "id": "2ea3c522c84245088207f8293e7a8750",
          "stepType": "BooleanPrompt",
          "name": "Request For Another User",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "The selected user does not have access to this item. Do you want to request for  someone else?"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "4c9006a0a896498e98663cb99854584c",
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          },
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "detailDescription": ""
        },
        "9a69bffaffbb4d6ea7a0cdc211ff6907": {
          "id": "9a69bffaffbb4d6ea7a0cdc211ff6907",
          "stepType": "Decision",
          "name": "Decision"
        },
        "fabedeb0fdef4f3f8ab56c866f7604b2": {
          "id": "fabedeb0fdef4f3f8ab56c866f7604b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "16fe3345a4e943f1abb49380cd8e9fd3": {
          "id": "16fe3345a4e943f1abb49380cd8e9fd3",
          "name": "Run OnChange Policies",
          "script": "(function execute() {\n   vaVars.itemJSON = JSON.stringify(new sn_sc.CatalogConversationHelper().runChangePolicies(JSON.parse(vaVars.itemJSON)))\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "9deefd69cdd3444a9b84225868e296c4": {
          "id": "9deefd69cdd3444a9b84225868e296c4",
          "stepType": "TextPrompt",
          "name": "Question Email",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "b93d7f37309c480aae9442cb7ed84a60",
          "inputType": {
            "format": "33513d135b1200101f254d3ba881c7d5",
            "script": ""
          },
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "detailDescription": "",
          "requestFeedback": true
        },
        "619194839eb14119a4294056244dbe08": {
          "id": "619194839eb14119a4294056244dbe08",
          "stepType": "TextPrompt",
          "name": "Question IP Address",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "7474c734e05c48e9ad1160295933b22f",
          "inputType": {
            "format": "a860c5945b2200101f254d3ba881c7df",
            "script": ""
          },
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "detailDescription": "",
          "requestFeedback": true
        },
        "57608a46d8384da681d5b22721357f2c": {
          "id": "57608a46d8384da681d5b22721357f2c",
          "stepType": "TextPrompt",
          "name": "Question URL",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "167cd0ae112241e8b87e01fb1285725a",
          "inputType": {
            "format": "77d8b2935b9200101f254d3ba881c7b9",
            "script": ""
          },
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "detailDescription": "",
          "requestFeedback": true
        },
        "9fde3924a8b340e4938886cf6d2e677a": {
          "id": "9fde3924a8b340e4938886cf6d2e677a",
          "stepType": "Decision",
          "name": "Decision"
        },
        "98508029b44349ef9b4a4789f4271411": {
          "id": "98508029b44349ef9b4a4789f4271411",
          "stepType": "BooleanPrompt",
          "name": "Add Attachment",
          "prompt": {
            "value": "(function execute() {\n    return gs.getMessage('Add attachment?');\n})()\n",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "mode": "script",
            "value": "(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return !item.mandatory_attachment;\n})()\n"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "033f59a3c0234d16b376865219ad93bd",
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "detailDescription": ""
        },
        "5dfaf9f068a84cb49646effcc4130f41": {
          "id": "5dfaf9f068a84cb49646effcc4130f41",
          "stepType": "Decision",
          "name": "Decision"
        },
        "12a255fe3c1444e8a767d553811fffeb": {
          "id": "12a255fe3c1444e8a767d553811fffeb",
          "stepType": "FilePrompt",
          "name": "Upload Attachment",
          "prompt": {
            "value": "(function execute() {\n    return gs.getMessage('Upload attachment');\n})()\n",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n    var addMore = false;\n    //when attachment is mandatory, to provide an option to skip add more \n    if (vaInputs.add_more &amp;&amp; vaInputs.add_more.getValue())\n        addMore = true;\n        \n    return !JSON.parse(vaVars.itemJSON).mandatory_attachment || addMore;\n})()"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "b41fd59845bf4371b81d933a99bc0b58",
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "detailDescription": ""
        },
        "50c8a5c9f4c44ee38ab60632b3e39c05": {
          "id": "50c8a5c9f4c44ee38ab60632b3e39c05",
          "name": "Add Media Links for Form Attachment",
          "script": "(function execute() {\n    if (!!vaVars.media_links_form_attachment)\n        vaVars.media_links_form_attachment = vaVars.media_links_form_attachment + ',' + vaInputs.upload_attachment.getValue();\n    else\n        vaVars.media_links_form_attachment = vaInputs.upload_attachment.getValue();\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "9664cf4809a049038b363de93e7255a2": {
          "id": "9664cf4809a049038b363de93e7255a2",
          "stepType": "BooleanPrompt",
          "name": "Add More",
          "prompt": {
            "value": "(function execute() {\n    return gs.getMessage('Add more?');\n})()\n",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "105c1aad186e4ee8b6a78c42061cdc96",
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "detailDescription": ""
        },
        "9334d9c47dd64f08916cc3f4541612f2": {
          "id": "9334d9c47dd64f08916cc3f4541612f2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "d3c8c56e727a4ede82e57ac0ba7f1807": {
          "id": "d3c8c56e727a4ede82e57ac0ba7f1807",
          "stepType": "FilePrompt",
          "name": "Question Attachment",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "bab053bff273440bad56992e39b06f09",
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "detailDescription": ""
        },
        "b1978baa02fa4f48baf8f0addc4614b7": {
          "id": "b1978baa02fa4f48baf8f0addc4614b7",
          "name": "Validate Attachment",
          "script": "(function execute() {\n    vaVars.validation_message = \"\";\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var quesJson = itemJson.variables[vaVars.qIndex];\n    var vaUtils = new global.VAUtils();\n    var arr = vaInputs.question_attachment.getValue().split('/');\n    var mediaId = arr[arr.length - 1];\n    var gr = new GlideRecord('sys_cs_media');\n    gr.addQuery('media_id', mediaId);\n    gr.query();\n    if (gr.next()) {\n        var attachmentId = gr.getValue('sys_attachment_id');\n        var attachRef = new GlideRecord('sys_attachment');\n        if (attachRef.get(attachmentId)) {\n            var file = {\n                name: attachRef.getValue('file_name'),\n                size: attachRef.getValue('size_bytes')\n            };\n            var allowedExtensions = new Array();\n            if (quesJson.allow_extension)\n               allowedExtensions = quesJson.allow_extension.split(';');\n            var field = {\n                allowedExtensions: allowedExtensions,\n                allowedFileSize: quesJson.max_file_size\n            };\n            var result = vaUtils.validateAttachment(file, field);\n            if (result.type == 'success') {\n                quesJson.value = attachmentId;\n                vaVars.itemJSON = JSON.stringify(itemJson);\n                vaInputs.question_attachment.setValue('');\n            } else\n                vaVars.validation_message = result.message;\n        } else \n            vaVars.validation_message = gs.getMessage('Failed to upload the attachment');\n    } else \n        vaVars.validation_message = gs.getMessage('Failed to upload the attachment');\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "question_attachmentISNOTEMPTY",
            "mode": "query"
          }
        },
        "530ade66a19a4bf5b26cab008ff1e6a4": {
          "id": "530ade66a19a4bf5b26cab008ff1e6a4",
          "stepType": "Decision",
          "name": "Decision"
        },
        "1a60347e6f924c548f1ecc13aa55eda8": {
          "id": "1a60347e6f924c548f1ecc13aa55eda8",
          "stepType": "ScriptOutput",
          "name": "Validation Message",
          "output_type": "single_part",
          "script": "(function execute() {\n     var singleOutMsg = new sn_cs.SinglePartOutMsg();\n       singleOutMsg.setTextPart(gs.getMessage('{0}. Answer the question again', vaVars.validation_message));\n       vaVars.validation_message = \"\";\n       return singleOutMsg;\n})()\n",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "a615b27ef6cd4ad792baa426610bd3b1": {
          "id": "a615b27ef6cd4ad792baa426610bd3b1",
          "stepType": "Decision",
          "name": "Is Record Producer"
        },
        "99381022abf144538e6b46b5d2b0ca9b": {
          "id": "99381022abf144538e6b46b5d2b0ca9b",
          "stepType": "Decision",
          "name": "Execute Contextual Search"
        },
        "e222514224264003baba8fdd0c12c56d": {
          "id": "e222514224264003baba8fdd0c12c56d",
          "name": "Get Search Variable And Context",
          "script": "(function execute() {\n    var contextualSearch = new global.VAGlobalContextualSearchUtil();\n    if(gs.nil(vaVars.contextualSearchVariable)) {\n        var searchConfig = contextualSearch.getContextualSearchVariableAndContext(vaInputs.catalog_item_id);\n        vaVars.contextualSearchVariable = searchConfig.searchVariable;\n        vaVars.contextualSearchContext = searchConfig.context;\n    }\n    return;\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "mode": "query",
            "value": ""
          }
        },
        "47a7f2d084934b2896ee221d42917971": {
          "id": "47a7f2d084934b2896ee221d42917971",
          "stepType": "Decision",
          "name": "Contextual Search Variable ?"
        },
        "ccd5378d1be64dbd99b0088ef1b22dbd": {
          "id": "ccd5378d1be64dbd99b0088ef1b22dbd",
          "name": "Contextual Search",
          "script": "(function execute() {\n    var contextualSearch = new global.VAGlobalContextualSearchUtil();\n    var response = contextualSearch.search(\n        vaVars.contextualSearchContext, vaInputs.question_text.getValue(), ''\n    );\n    var success = contextualSearch.processSearchResponse(response);\n    if (!success) {\n        return;\n    }  \n    var relevantSearchResults = contextualSearch.processGeneralResults(response, 20, -2, vaSystem);\n    vaVars.contextualSearchResultCount = relevantSearchResults.length;\n    vaVars.contextualSearchResultJsonString = JSON.stringify(relevantSearchResults);\n    vaVars.contextualSearchIndex = 0;\n    return;\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "cf6b5479e6e04165b3db5f0db701e882": {
          "id": "cf6b5479e6e04165b3db5f0db701e882",
          "stepType": "Decision",
          "name": "Did the search return results ?"
        },
        "b9beccb2aa974852b20c1dfaae23517a": {
          "id": "b9beccb2aa974852b20c1dfaae23517a",
          "stepType": "LinkOutput",
          "name": "Display multi-link",
          "url": {
            "mode": "simple",
            "value": ""
          },
          "label": {
            "mode": "simple",
            "value": ""
          },
          "header": {
            "mode": "simple",
            "value": ""
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "linkType": "multiple",
          "introMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "I found some information that might help you:"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "listOfLinks": "(function execute(header) {\n\tvar contextualSearch = new global.VAGlobalContextualSearchUtil();\n\tvar variables = {\n\t\tlimit: vaVars.contextualSearchResultLimit,\n\t\tindex: vaVars.contextualSearchIndex,\n\t\tsearch_result_json_string: vaVars.contextualSearchResultJsonString,\n\t\tportal: ''\n\t}\n\tvar groupedLinksOutMsg = contextualSearch.getLinks(header, variables, vaSystem, vaContext);\n\treturn groupedLinksOutMsg;\n})(header)\n"
        },
        "8e33e2ce6cad4585a30430feea5b533e": {
          "id": "8e33e2ce6cad4585a30430feea5b533e",
          "stepType": "Decision",
          "name": "Did Articles Help ?"
        },
        "bcf6d035489743df8be064993e826274": {
          "id": "bcf6d035489743df8be064993e826274",
          "stepType": "BooleanPrompt",
          "name": "Did Articles Help",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "Did any of this information resolve your issue?"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "afbb4bd2c6444c4882ab840c0700ade9",
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "detailDescription": ""
        },
        "29a6789c104f499eb449ad8d75fb854f": {
          "id": "29a6789c104f499eb449ad8d75fb854f",
          "stepType": "Decision",
          "name": "Confirmation Required ?"
        },
        "286448edf1734dc8abc8824e08467ea9": {
          "id": "286448edf1734dc8abc8824e08467ea9",
          "stepType": "Decision",
          "name": "Decision"
        },
        "f2f60834cc1e4557b82e070bd7dccd75": {
          "id": "f2f60834cc1e4557b82e070bd7dccd75",
          "stepType": "TextOutput",
          "name": "Catalog Builder Preview",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": "Preview successful"
                    }
                  ]
                }
              ],
              "mode": "simple"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "requestFeedback": true
        },
        "c9017f3e3e6240318b1de2b4b26d46f3": {
          "id": "c9017f3e3e6240318b1de2b4b26d46f3",
          "stepType": "Decision",
          "name": "Decision"
        },
        "3f2cae6b9a34499d8bdcce633f9f6124": {
          "id": "3f2cae6b9a34499d8bdcce633f9f6124",
          "stepType": "TextOutput",
          "name": "Catalog Builder Preview Message",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": "Since this was a preview, the request was not submitted"
                    }
                  ]
                }
              ],
              "mode": "simple"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "requestFeedback": true
        },
        "d30f3b3e5ac843eca3cd602bb4ccf331": {
          "id": "d30f3b3e5ac843eca3cd602bb4ccf331",
          "stepType": "Decision",
          "name": "Decision"
        },
        "6fa03c867ab34ce0be8a3d8b792d0868": {
          "id": "6fa03c867ab34ce0be8a3d8b792d0868",
          "stepType": "ScriptOutput",
          "name": "Question Rich Text Label",
          "output_type": "single_part",
          "script": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "eb3f943aa9f74c418b95fb3e785dce85": {
          "id": "eb3f943aa9f74c418b95fb3e785dce85",
          "stepType": "TextOutput",
          "name": "Default Value Acknowledgement ",
          "secure": false,
          "value": [
            {
              "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    var renderedValue = quesJson.display_value ? quesJson.display_value : quesJson.value;\n    if (quesJson.type == 7) {\n        renderedValue = quesJson.value == \"true\" ? \"Yes\" : \"No\";\n    }\n    return gs.getMessage(\"&lt;b&gt;{0}&lt;/b&gt; was selected as the value for &lt;b&gt;{1}&lt;/b&gt;\", [renderedValue, quesJson.label])\n})()\n",
              "mode": "script"
            }
          ],
          "applicability": {
            "mode": "script",
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (quesJson.type == 7)\n        return quesJson.value == \"true\";\n    return quesJson.value ? true : false;\n})()\n"
          },
          "requestFeedback": true
        },
        "9f1855b30c8445eca3e42559b5857e83": {
          "id": "9f1855b30c8445eca3e42559b5857e83",
          "stepType": "BooleanPrompt",
          "name": "Proceed with Default",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Do you want to proceed with this value?"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "mode": "script",
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (quesJson.type == 7)\n        return quesJson.value == \"true\";\n    return quesJson.value ? true : false;\n})()\n"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "e131ab8e513049809aa9bf27e60d24b5",
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "detailDescription": ""
        },
        "d2c718dc22d84f42ae76f7aa393fb8d4": {
          "id": "d2c718dc22d84f42ae76f7aa393fb8d4",
          "stepType": "Decision",
          "name": "Decision"
        },
        "55006c23cbb94bad98fbb8a3d73143c2": {
          "id": "55006c23cbb94bad98fbb8a3d73143c2",
          "stepType": "Decision",
          "name": "Show end state card?"
        },
        "832e807455aa423bb2d3f1c820377f34": {
          "id": "832e807455aa423bb2d3f1c820377f34",
          "stepType": "Decision",
          "name": "Decision"
        },
        "b43a24507f434bf08fffb4cf2302ff06": {
          "id": "b43a24507f434bf08fffb4cf2302ff06",
          "stepType": "Decision",
          "name": "Messaging Channel"
        },
        "cd4a158699bb435c9ddc7cdcb1422343": {
          "stepType": "ReferenceChoicePrompt",
          "name": "Question Choice Other Channels",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n    var question = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (question.mandatory)\n        return false;\n    if (question.type === 4 &amp;&amp; question.value === '')\n        return true;\n    if (question.type === 3 &amp;&amp; question.value === '' &amp;&amp; question.options[0].value !== '')\n        return true;\n    return false;\n})();\n"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e3bad7ee86e143cdb66f3b54e74661bc",
          "id": "cd4a158699bb435c9ddc7cdcb1422343",
          "mode": "external",
          "script": "(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var options = choices = [];\n    var count = 0;\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n\n    if (quesJson.type == 7)\n        choices = [{ \"label\": \"Yes\", \"value\": \"yes\" }, { \"label\": \"No\", \"value\": \"no\" }];\n    else\n        choices = quesJson.options;\n\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n    \n    count = choices.length;\n    vaVars.count = count;\n    options = choices.splice(index, limit);\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    return options;    \n})()",
          "metadataScript": "",
          "cardData": {},
          "noRecordsResponseMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "No records found"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "condition": {
            "value": "(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var options = choices = [];\n    var count = 0;\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n\n    if (quesJson.type == 7)\n        choices = [{ \"label\": \"Yes\", \"value\": \"yes\" }, { \"label\": \"No\", \"value\": \"no\" }];\n    else\n        choices = quesJson.options;\n\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n    \n    count = choices.length;\n    vaVars.count = count;\n    options = choices.splice(index, limit);\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    return options;    \n})()",
            "mode": "external_script"
          },
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "detailDescription": ""
        },
        "34862db574264da1ae8eb98b08560aa0": {
          "id": "34862db574264da1ae8eb98b08560aa0",
          "stepType": "Decision",
          "name": "Decision"
        },
        "a008488c12134fa59d94d84358fb82f7": {
          "id": "a008488c12134fa59d94d84358fb82f7",
          "name": "Question Choice Prev Page",
          "script": "(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var c = index - limit;\n    if ( c &lt; 0 ) c = 0;\n    vaVars.index = c;\n})();",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "88749c4d7be542c2a7e8cfc5317355bb": {
          "id": "88749c4d7be542c2a7e8cfc5317355bb",
          "name": "Question Choice Next Page",
          "script": "(function execute() {\n    var count = parseInt(vaVars.count);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if ( index + limit &gt; count )\n        vaVars.index = 0;\n    else\n        vaVars.index = index + limit;\n})();",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "f84e7d75c3954b32a9f83585a3778acc": {
          "id": "f84e7d75c3954b32a9f83585a3778acc",
          "name": "Set Question Choice Value",
          "script": "(function execute() {\n    if(vaInputs.question_choice_other_channels) {\n        vaInputs.question_choice = vaInputs.question_choice_other_channels;\n        vaInputs.question_choice_other_channels = \"\";\n    }\n})()",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "a5b6f697dfa74c469e813a2a62f7d69a": {
          "id": "a5b6f697dfa74c469e813a2a62f7d69a",
          "stepType": "Decision",
          "name": "Messaging Channel"
        },
        "b195dcbb9d9d4fc98362e2e77e66b14d": {
          "id": "b195dcbb9d9d4fc98362e2e77e66b14d",
          "stepType": "TextPrompt",
          "name": "Search Reference",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter a value to search"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.question_reference_other_channels;\n})()\n"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "016d9cd1e4a64839bcc5963b7933014a",
          "inputType": {
            "format": "Text",
            "script": ""
          },
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "detailDescription": "",
          "requestFeedback": true
        },
        "7c3b23f5020d46608d2aaac98964d3bb": {
          "stepType": "ReferenceChoicePrompt",
          "name": "Question Reference Other Channels",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n   var response = quesJson.label;\n   var json = new JSON();\n   var infoKeys = json.getKeys(quesJson.field_info_messages);\n   var warnKeys = json.getKeys(quesJson.field_warn_messages);\n   var errKeys = json.getKeys(quesJson.field_error_messages);\n   \n   for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n   }\n   for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n   }\n   for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n   }\n   return response;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "a0c1157862164fe79996d8a37afcb839",
          "id": "7c3b23f5020d46608d2aaac98964d3bb",
          "mode": "external",
          "script": "(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n    var gr = new GlideRecordSecure(variable.reference);\n    var displayColumn = gr.getDisplayName();\n   \n    gr.addEncodedQuery(displayColumn + 'LIKE' + vaInputs.search_reference.getValue());\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(displayColumn);\n    \n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n\n    if (count &gt; 0) {\n        vaVars.no_records_found = \"false\"\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Search')\n        });\n    }\n    else\n        vaVars.no_records_found = \"true\";\n    \n    return options;    \n})()\n",
          "metadataScript": "",
          "cardData": {},
          "noRecordsResponseMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "No records found"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "condition": {
            "value": "(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n    var gr = new GlideRecordSecure(variable.reference);\n    var displayColumn = gr.getDisplayName();\n   \n    gr.addEncodedQuery(displayColumn + 'LIKE' + vaInputs.search_reference.getValue());\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(displayColumn);\n    \n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n\n    if (count &gt; 0) {\n        vaVars.no_records_found = \"false\"\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Search')\n        });\n    }\n    else\n        vaVars.no_records_found = \"true\";\n    \n    return options;    \n})()\n",
            "mode": "external_script"
          },
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "detailDescription": ""
        },
        "5d8ea3fc1a8b4d3ca9e673e07549c0d0": {
          "id": "5d8ea3fc1a8b4d3ca9e673e07549c0d0",
          "stepType": "Decision",
          "name": "Decision"
        },
        "1cfa25eaa3744ce982d9aefd9eaf84df": {
          "id": "1cfa25eaa3744ce982d9aefd9eaf84df",
          "name": "Question Reference Prev Page",
          "script": "(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var c = index - limit;\n    if ( c &lt; 0 ) c = 0;\n    vaVars.index = c;\n})();",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "1c81bdd3365c470eaef3813be5be0f2e": {
          "id": "1c81bdd3365c470eaef3813be5be0f2e",
          "name": "Question Reference Next Page",
          "script": "(function execute() {\n    var count = parseInt(vaVars.count);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if ( index + limit &gt; count )\n        vaVars.index = 0;\n    else\n        vaVars.index = index + limit;\n})();",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "e753e0457d284e499afb579c8136aac5": {
          "id": "e753e0457d284e499afb579c8136aac5",
          "name": "Set Question Reference Value",
          "script": "(function execute() {\n    if(vaInputs.question_reference_other_channels) {\n        vaInputs.question_reference = vaInputs.question_reference_other_channels;\n        vaInputs.question_reference_other_channels = \"\";\n    }\n})()",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "77cb2746abcb459b9b3cf607c871018a": {
          "id": "77cb2746abcb459b9b3cf607c871018a",
          "stepType": "ReusableTopic",
          "name": "End state card",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "End state card for Catalog Request",
          "reusableTopicId": "0b01391550d30110fa9b861f7d83d7f6",
          "inputs": {
            "record_id": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.record_id}}",
                        "displayValue": "Script Variables➛record_id"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            },
            "record_table": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.record_table}}",
                        "displayValue": "Script Variables➛record_table"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "variableIds": [],
          "outputs": [],
          "outdatedNote": false,
          "loading": false,
          "useTemplateTopic": false
        },
        "31766709be9347a79aef4e8f5265892c": {
          "id": "31766709be9347a79aef4e8f5265892c",
          "stepType": "Decision",
          "name": "Catalog item validity check"
        },
        "49019591625e45279b1580c127c08ad0": {
          "id": "49019591625e45279b1580c127c08ad0",
          "name": "Validate Catalog Item",
          "script": "(function execute() {\n   var catItemID = vaInputs.catalog_item_id.getValue();\n   var catItem = GlideappCatalogItem.get(catItemID);\n   if (catItem == null || !(vaContext.catalog_builder_preview == 'true' || catItem.canView())) {\n       vaVars.isValidCatItem = false;\n       return;\n   }\n   vaVars.isValidCatItem = true;\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "d0cf3faea315461eae1e03deda5d4960": {
          "id": "d0cf3faea315461eae1e03deda5d4960",
          "stepType": "Decision",
          "name": "Decision"
        },
        "1dd90e8e85a34170ac75f6f9d0f81ef2": {
          "id": "1dd90e8e85a34170ac75f6f9d0f81ef2",
          "stepType": "BooleanPrompt",
          "name": "Change Response",
          "prompt": {
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    var response = quesJson.label;\n    var json = new JSON();\n    var infoKeys = json.getKeys(quesJson.field_info_messages);\n    var warnKeys = json.getKeys(quesJson.field_warn_messages);\n    var errKeys =  json.getKeys(quesJson.field_error_messages);\n\n    for (var j = infoKeys.length - 1; j &gt;= 0; j--) {\n      response +=  \"\\n\" + gs.getMessage(\"Info\") + \": \" + quesJson.field_info_messages[infoKeys[j]];\n    }\n    for (j = warnKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Warning\") + \": \" + quesJson.field_warn_messages[warnKeys[j]];\n    }\n    for (j = errKeys.length - 1; j &gt;= 0; j--) {\n      response += \"\\n\" + gs.getMessage(\"Error\") + \": \" + quesJson.field_error_messages[errKeys[j]];\n    }\n    response += \"\\n\" + gs.getMessage(\"Would you like to change your response?\");\n    return response;\n})()\n",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "mode": "query",
            "value": ""
          },
          "skippable": {
            "mode": "query",
            "value": ""
          },
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "22df45abcf814aab949983deb97bb30e",
          "detailDescription": ""
        },
        "cde044c17c62438a93060d206bc715ed": {
          "id": "cde044c17c62438a93060d206bc715ed",
          "stepType": "Decision",
          "name": "Decision"
        },
        "a8766d8181784aa49eaa5946063bd164": {
          "id": "a8766d8181784aa49eaa5946063bd164",
          "name": "Decrement qIndex and clear value",
          "script": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    itemJson.variables[vaVars.qIndex].value = \"\";\n    itemJson.variables[vaVars.qIndex].field_info_messages = {};\n    itemJson.variables[vaVars.qIndex].field_warn_messages = {};\n    itemJson.variables[vaVars.qIndex].field_error_messages = {};\n    vaVars.itemJSON = JSON.stringify(itemJson);\n    var qIndex = vaVars.qIndex;\n    vaVars.qIndex = --qIndex;\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "705e89407fc441b788315270221c81d9",
          "edgeType": "Edge",
          "source": "728be06bc82a496883a17da67c386db4",
          "target": "f84e7d75c3954b32a9f83585a3778acc",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "09f2c57e3448402aaea86b207c60dca4",
          "edgeType": "Branch",
          "source": "b43a24507f434bf08fffb4cf2302ff06",
          "target": "728be06bc82a496883a17da67c386db4",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaContext.deviceType === \"mweb\";\n})()\n"
          },
          "label": "Mobile/Web Client"
        },
        {
          "id": "0bf6b45a21b14649bb2f4661b7e3d82b",
          "edgeType": "Branch",
          "source": "cde044c17c62438a93060d206bc715ed",
          "target": "e02c40e82f31494582d1de28b922bcbd",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.change_response=false",
            "mode": "query"
          },
          "label": "false",
          "fromNode": "- Decision",
          "toNode": "e02c40e82f31494582d1de28b922bcbd",
          "toEdge": "0bf6b45a21b14649bb2f4661b7e3d82b",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "0b402b5adcb14b17b48d504ed7f3bb1e",
          "edgeType": "Edge",
          "source": "77cb2746abcb459b9b3cf607c871018a",
          "target": "997cc47e253a4f4486536c1b7b7ae200",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "54bf92aed4f447a3a70bd159b362a915",
          "edgeType": "Branch",
          "source": "32baf6b2e23041f6b95954f25dc8ecc6",
          "target": "2c8e4750e1a24e889f11df275160dee8",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    if (JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 31)\n        return true;\n})()\n"
          },
          "label": "Question Requested For"
        },
        {
          "id": "17fc15a1d63441a8b2eefa57db8b805f",
          "edgeType": "Edge",
          "source": "98d250bc8d2f4c86bcf34951524cae39",
          "target": "55006c23cbb94bad98fbb8a3d73143c2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "f7f6d235f5f44de9ad80de47d442391c",
          "edgeType": "Edge",
          "source": "d3c8c56e727a4ede82e57ac0ba7f1807",
          "target": "b1978baa02fa4f48baf8f0addc4614b7",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "94befb6e0f78439f9eca40371f1eac1f",
          "edgeType": "Edge",
          "source": "50c8a5c9f4c44ee38ab60632b3e39c05",
          "target": "9664cf4809a049038b363de93e7255a2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "052e2414d71140bf83450ec4d82199b3",
          "edgeType": "Branch",
          "source": "0a72e759fed441ef8b3a0f83f64896f5",
          "target": "7794298485d54886ab5178e3d89abf23",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.question_requested_for.getValue() === 'next';\n})()\n"
          },
          "label": "Requested For Next"
        },
        {
          "id": "9a5fca03cc104e7d9c58933eff2193b5",
          "edgeType": "Branch",
          "source": "b91f4def20ee42ddb221a9dda66e1dbe",
          "target": "6f701cdee3bd497397529b0e876ce2eb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (itemJson.sys_class_name !== 'sc_cat_item_producer')\n        return true;\nreturn false;\n})()\n"
          },
          "label": "Catalog Item"
        },
        {
          "id": "c744403965934ee7b95b05af21d435c6",
          "edgeType": "Edge",
          "source": "74e9eb47d964487f8b45da62b9f27b26",
          "target": "6175385c4ab04062981531421fa16d0c",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "4a72f155ec6d4ff48da186288071cce4",
          "edgeType": "Edge",
          "source": "6175385c4ab04062981531421fa16d0c",
          "target": "3f20bcd9ba1d4bb580e636c9c096f15d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85b7394849e749ab9bd3ef7c330cda1c",
          "edgeType": "Branch",
          "source": "3f20bcd9ba1d4bb580e636c9c096f15d",
          "target": "997cc47e253a4f4486536c1b7b7ae200",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "proceed=false",
            "mode": "query"
          },
          "label": "No"
        },
        {
          "id": "95f826ba22864d3eadc7fcc9187d4c82",
          "edgeType": "Branch",
          "source": "3f20bcd9ba1d4bb580e636c9c096f15d",
          "target": "1e8fe727712f4590b1b1baec08782bdf",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "proceed=true",
            "mode": "query"
          },
          "label": "Yes"
        },
        {
          "id": "1ccc57f7399c40b4bcd7ec84112dd55e",
          "edgeType": "Branch",
          "source": "1e8fe727712f4590b1b1baec08782bdf",
          "target": "4e5bfad100634740b1757ec7e858ba88",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n   return JSON.parse(vaVars.itemJSON).va_support;\n})()"
          },
          "label": "Has VA Support"
        },
        {
          "id": "32f53318b7d14bcdaba045d710353c29",
          "edgeType": "Branch",
          "source": "4e5bfad100634740b1757ec7e858ba88",
          "target": "e02c40e82f31494582d1de28b922bcbd",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n    do{\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n       //There are variables that we can show\n        return false;\n    }\n    //No variables that we can show\n    return true;\n})()\n"
          },
          "label": "Item with no variables"
        },
        {
          "id": "a44cceca6f344f7f8ec3c9c84cb0797f",
          "edgeType": "Branch",
          "source": "4e5bfad100634740b1757ec7e858ba88",
          "target": "5e10b9530d174953ab2d672e4de21207",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n\n    do{\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n       //There are variables that we can show\n        return true;\n    }\n    //No variables  that we can show\n    return false;\n})()\n"
          },
          "label": "Item with variables"
        },
        {
          "id": "f627f091002d4f6f93842ff31162bcfe",
          "edgeType": "Edge",
          "source": "5e10b9530d174953ab2d672e4de21207",
          "target": "e02c40e82f31494582d1de28b922bcbd",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "cb2343a3cc664903ae97f57f87f7ed9a",
          "edgeType": "Branch",
          "source": "b91f4def20ee42ddb221a9dda66e1dbe",
          "target": "ee857ec53ca84690b0bb2d81d29330f0",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (itemJson.sys_class_name === 'sc_cat_item_producer')\n        return true;\nreturn false;\n})()\n"
          },
          "label": "Record Producer"
        },
        {
          "id": "a5b4283ed3e1414c8831fcc2ede8d6c1",
          "edgeType": "Edge",
          "source": "ee857ec53ca84690b0bb2d81d29330f0",
          "target": "b53efdd9451440579e975565d39f5018",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "902e2c05a33e414ea8b18fe7f8448bab",
          "edgeType": "Branch",
          "source": "b53efdd9451440579e975565d39f5018",
          "target": "997cc47e253a4f4486536c1b7b7ae200",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "submit_producer=",
            "mode": "query"
          },
          "label": "Don't Submit"
        },
        {
          "id": "a6c982fa9567425d8f853c5a16895e20",
          "edgeType": "Edge",
          "source": "6f701cdee3bd497397529b0e876ce2eb",
          "target": "800242434ca744e4a2133a32a0c96fa2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "d214069793284b2c80facafdc2110d5c",
          "edgeType": "Branch",
          "source": "800242434ca744e4a2133a32a0c96fa2",
          "target": "997cc47e253a4f4486536c1b7b7ae200",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "order_item=",
            "mode": "query"
          },
          "label": "Don't Order"
        },
        {
          "id": "15642c4b6d014c2d9e4b71976d25d187",
          "edgeType": "Branch",
          "source": "32baf6b2e23041f6b95954f25dc8ecc6",
          "target": "a3dedd563bc74fdf9b23f3fe46812347",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 9;\n})()\n"
          },
          "label": "Date Question"
        },
        {
          "id": "13e690454aad45e481eaf3f336355bc0",
          "edgeType": "Edge",
          "source": "a3dedd563bc74fdf9b23f3fe46812347",
          "target": "54883add9d0e45d59fa0aac1a13d6c53",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "02518b11ce9a4e52b28854f6f0ed1076",
          "edgeType": "Edge",
          "source": "54883add9d0e45d59fa0aac1a13d6c53",
          "target": "a6d0be5ae89a4c56bfb95267af429043",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "d071996babad4927a2fea9bc41e5a18f",
          "edgeType": "Branch",
          "source": "a6d0be5ae89a4c56bfb95267af429043",
          "target": "3f1546895fe94ebeaf4b2e4b70fc68ca",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaVars.validation_message.length !== 0;\n})()\n"
          },
          "label": "Repeat Question"
        },
        {
          "id": "20604597cbe74f00b3fc7e330295249a",
          "edgeType": "Branch",
          "source": "32baf6b2e23041f6b95954f25dc8ecc6",
          "target": "d5947bdd60f74556bf36d4e036a97f39",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    return type === 2 || type === 6 || type === 16;\n})()"
          },
          "label": "Text Type Question"
        },
        {
          "id": "85c864b1e6d34de2a10453c479095e5f",
          "edgeType": "Branch",
          "source": "1e8fe727712f4590b1b1baec08782bdf",
          "target": "a702ef3286cc42208859ba03a9b32a52",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return !JSON.parse(vaVars.itemJSON).va_support;\n})()"
          },
          "label": "No VA Support"
        },
        {
          "id": "8b044dcd07bf4364bbbaad9e6fdaad33",
          "edgeType": "Edge",
          "source": "a702ef3286cc42208859ba03a9b32a52",
          "target": "997cc47e253a4f4486536c1b7b7ae200",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9867a1392add4bf491099d5f13b8465a",
          "edgeType": "Branch",
          "source": "32baf6b2e23041f6b95954f25dc8ecc6",
          "target": "95a610ed2d114a0884802fb3f396913e",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 10;\n})()\n"
          },
          "label": "Date-Time Question"
        },
        {
          "id": "4d1249f3bc3d4475ae78e6f0c1fb84fc",
          "edgeType": "Edge",
          "source": "95a610ed2d114a0884802fb3f396913e",
          "target": "54883add9d0e45d59fa0aac1a13d6c53",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "e5506cbad1a343c28f16932fea0a5054",
          "edgeType": "Branch",
          "source": "32baf6b2e23041f6b95954f25dc8ecc6",
          "target": "37a49d9fefee4a1b891d958a2e2ddfa3",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var question = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return question.type === 11 || (question.type === 0 &amp;&amp; question._internal_type === \"checkbox_container\");\n})()\n"
          },
          "label": "Question Label"
        },
        {
          "id": "6ecde7c0a8a041ce92c36cfe1ea9b096",
          "edgeType": "Edge",
          "source": "37a49d9fefee4a1b891d958a2e2ddfa3",
          "target": "54883add9d0e45d59fa0aac1a13d6c53",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "c8403b9be3e14d058e22278aa4d8fabd",
          "edgeType": "Branch",
          "source": "32baf6b2e23041f6b95954f25dc8ecc6",
          "target": "64fbcbdf44bc4073b12f7e29573cebcf",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    if (type === 0 || type === 12 || type === 19 || type === 20 || type === 24)\n        return true;\n})()\n"
          },
          "label": "Container Or Break Questions"
        },
        {
          "id": "de169b66dac440569876db48d6d29b9f",
          "edgeType": "Edge",
          "source": "64fbcbdf44bc4073b12f7e29573cebcf",
          "target": "54883add9d0e45d59fa0aac1a13d6c53",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "38bfacb154e44aaea10b4bc5ccf5848e",
          "edgeType": "Edge",
          "source": "2c8e4750e1a24e889f11df275160dee8",
          "target": "e3d5f7d6137e4acf8a039f47631df484",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "5338b79af396447db4653b7b0c83f9d2",
          "edgeType": "Edge",
          "source": "e3d5f7d6137e4acf8a039f47631df484",
          "target": "0a72e759fed441ef8b3a0f83f64896f5",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9e9aa639261146f2a602559820b8d33a",
          "edgeType": "Edge",
          "source": "7794298485d54886ab5178e3d89abf23",
          "target": "e3d5f7d6137e4acf8a039f47631df484",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "3072200bc63e442bb1adaf912eaef69f",
          "edgeType": "Branch",
          "source": "0a72e759fed441ef8b3a0f83f64896f5",
          "target": "2c8e4750e1a24e889f11df275160dee8",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return !vaInputs.question_requested_for.getValue() || vaInputs.question_requested_for.getValue() === 'search';\n})()\n"
          },
          "label": "Search Requested For"
        },
        {
          "id": "d531e9a0d79e4b948e18d758c541d4ca",
          "edgeType": "Branch",
          "source": "0a72e759fed441ef8b3a0f83f64896f5",
          "target": "98cfe9bc35bf48c8888b9d2fbfbdeda8",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var valuePicked = vaInputs.question_requested_for.getValue();\n    var condition = valuePicked !== 'next' &amp;&amp; valuePicked !== 'prev';\n    if (condition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    return condition;\n})();"
          },
          "label": "Requested For Chosen"
        },
        {
          "id": "d7bcaece8a0d49b69523cf7d2d1d6d3d",
          "edgeType": "Edge",
          "source": "98cfe9bc35bf48c8888b9d2fbfbdeda8",
          "target": "f4a868d817454288b0ac62aaa8b77ca4",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "7cf9ccc4bdb946fb93af0ba926a5b0dd",
          "edgeType": "Branch",
          "source": "f4a868d817454288b0ac62aaa8b77ca4",
          "target": "54883add9d0e45d59fa0aac1a13d6c53",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaVars.canView;\n})()\n"
          },
          "label": "Can View"
        },
        {
          "id": "c5e60e437162408481d061087635fb6b",
          "edgeType": "Branch",
          "source": "0a72e759fed441ef8b3a0f83f64896f5",
          "target": "94b6b34923614613b9c2f2eb43705e45",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.question_requested_for.getValue() === 'prev';\n})()\n"
          },
          "label": "Requested For Prev"
        },
        {
          "id": "45cc8fd74f9e4ec0a4a8b483be49d943",
          "edgeType": "Edge",
          "source": "94b6b34923614613b9c2f2eb43705e45",
          "target": "e3d5f7d6137e4acf8a039f47631df484",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "92885b0389354a2991838561a2b6ddb7",
          "edgeType": "Branch",
          "source": "f4a868d817454288b0ac62aaa8b77ca4",
          "target": "2ea3c522c84245088207f8293e7a8750",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return !vaVars.canView\n})()\n"
          },
          "label": "Cannot View"
        },
        {
          "id": "094a2895431242f792b57258032f72b4",
          "edgeType": "Edge",
          "source": "2ea3c522c84245088207f8293e7a8750",
          "target": "9a69bffaffbb4d6ea7a0cdc211ff6907",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "b3c328d8ee5d448b9d365f96d53d8934",
          "edgeType": "Branch",
          "source": "9a69bffaffbb4d6ea7a0cdc211ff6907",
          "target": "2c8e4750e1a24e889f11df275160dee8",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "request_for_another_user=true",
            "mode": "query"
          },
          "label": "Request for Another User"
        },
        {
          "id": "73791063a7d14033a1ae4e4a6f6ebe1c",
          "edgeType": "Branch",
          "source": "9a69bffaffbb4d6ea7a0cdc211ff6907",
          "target": "997cc47e253a4f4486536c1b7b7ae200",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "request_for_another_user=",
            "mode": "query"
          },
          "label": "End Conversation"
        },
        {
          "id": "cbcd39ee25304ef2897a427ea29cd4a0",
          "edgeType": "Branch",
          "source": "a6d0be5ae89a4c56bfb95267af429043",
          "target": "fabedeb0fdef4f3f8ab56c866f7604b2",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaVars.validation_message.length === 0;\n})()\n"
          },
          "label": "Next Question"
        },
        {
          "id": "4be97b734e77452e8e6d781233ef9d52",
          "edgeType": "Branch",
          "source": "fabedeb0fdef4f3f8ab56c866f7604b2",
          "target": "e02c40e82f31494582d1de28b922bcbd",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).has_on_change_policies;\n})()\n"
          },
          "label": "No onChange Policies"
        },
        {
          "id": "f28876be4768405784ea13c84fd3f797",
          "edgeType": "Branch",
          "source": "fabedeb0fdef4f3f8ab56c866f7604b2",
          "target": "16fe3345a4e943f1abb49380cd8e9fd3",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n   return JSON.parse(vaVars.itemJSON).has_on_change_policies;\n})()\n"
          },
          "label": "Has onChange Policies"
        },
        {
          "id": "ed3e1d4c163444c5883eec4b63976d71",
          "edgeType": "Branch",
          "source": "32baf6b2e23041f6b95954f25dc8ecc6",
          "target": "54883add9d0e45d59fa0aac1a13d6c53",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var unSupportedTypes = vaVars.unsupportedVarTypes.split(',');\n   return unSupportedTypes.indexOf(String(JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type)) !== -1;\n})()\n"
          },
          "label": "Unsupported  Variable  Types"
        },
        {
          "id": "82558b356fcd4c589be47359c02f57d5",
          "edgeType": "Branch",
          "source": "32baf6b2e23041f6b95954f25dc8ecc6",
          "target": "9deefd69cdd3444a9b84225868e296c4",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 26;\n})()\n"
          },
          "label": "Email Question"
        },
        {
          "id": "7990824ab3d3486ab9959d545b64f786",
          "edgeType": "Edge",
          "source": "9deefd69cdd3444a9b84225868e296c4",
          "target": "54883add9d0e45d59fa0aac1a13d6c53",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "d6c3eed50e21444a8e781a5580052ebe",
          "edgeType": "Branch",
          "source": "32baf6b2e23041f6b95954f25dc8ecc6",
          "target": "619194839eb14119a4294056244dbe08",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 28;\n})()\n"
          },
          "label": "Ip Address Question"
        },
        {
          "id": "1b5105bb46c9422c92ed4ec369e007e7",
          "edgeType": "Edge",
          "source": "619194839eb14119a4294056244dbe08",
          "target": "54883add9d0e45d59fa0aac1a13d6c53",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "74a50e1d5f7c406d89ba6f990a69f104",
          "edgeType": "Branch",
          "source": "32baf6b2e23041f6b95954f25dc8ecc6",
          "target": "57608a46d8384da681d5b22721357f2c",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 27;\n})()\n"
          },
          "label": "URL Question"
        },
        {
          "id": "bca084dacf214e71a2fa6743293adde4",
          "edgeType": "Edge",
          "source": "57608a46d8384da681d5b22721357f2c",
          "target": "54883add9d0e45d59fa0aac1a13d6c53",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "96bf7d4c9d4342da9cb9af3942e12c2a",
          "edgeType": "Branch",
          "source": "e02c40e82f31494582d1de28b922bcbd",
          "target": "9fde3924a8b340e4938886cf6d2e677a",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n    do{\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n       //There are variables that we can show\n        return false;\n    }\n    //No variables that we can show\n    return true;\n})()"
          },
          "label": "Questions Done"
        },
        {
          "id": "fb398424f57946c0867c25213ede080a",
          "edgeType": "Branch",
          "source": "9fde3924a8b340e4938886cf6d2e677a",
          "target": "b91f4def20ee42ddb221a9dda66e1dbe",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return item.no_attachments === true;\n})()\n"
          },
          "label": "Has  No Attachment"
        },
        {
          "id": "7bd9ce98eeda491fa5fec6d46c46275b",
          "edgeType": "Branch",
          "source": "9fde3924a8b340e4938886cf6d2e677a",
          "target": "98508029b44349ef9b4a4789f4271411",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return item.no_attachments === false;\n})()\n"
          },
          "label": "Has Attachment"
        },
        {
          "id": "daa0850e8cab45a0a538607a6e7ad5bb",
          "edgeType": "Edge",
          "source": "98508029b44349ef9b4a4789f4271411",
          "target": "5dfaf9f068a84cb49646effcc4130f41",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "dfd40a53563a4ead945150b8a9ee658e",
          "edgeType": "Branch",
          "source": "5dfaf9f068a84cb49646effcc4130f41",
          "target": "b91f4def20ee42ddb221a9dda66e1dbe",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return !item.mandatory_attachment &amp;&amp; !vaInputs.add_attachment.getValue();\n})()\n"
          },
          "label": "No"
        },
        {
          "id": "12e99b5eebf947d9a22ff3ce18779aca",
          "edgeType": "Branch",
          "source": "5dfaf9f068a84cb49646effcc4130f41",
          "target": "12a255fe3c1444e8a767d553811fffeb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return item.mandatory_attachment || vaInputs.add_attachment.getValue();\n})()\n"
          },
          "label": "Yes"
        },
        {
          "id": "83de8d4ed5424e14b613026945336796",
          "edgeType": "Edge",
          "source": "9664cf4809a049038b363de93e7255a2",
          "target": "9334d9c47dd64f08916cc3f4541612f2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "054c708182ea43758fcca5bde3a98cc3",
          "edgeType": "Branch",
          "source": "9334d9c47dd64f08916cc3f4541612f2",
          "target": "12a255fe3c1444e8a767d553811fffeb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "add_more=true",
            "mode": "query"
          },
          "label": "Yes"
        },
        {
          "id": "570da13b735742c58b78fee9a38f3f47",
          "edgeType": "Branch",
          "source": "9334d9c47dd64f08916cc3f4541612f2",
          "target": "b91f4def20ee42ddb221a9dda66e1dbe",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "add_more=",
            "mode": "query"
          },
          "label": "No"
        },
        {
          "id": "a5508f722dd84c9baa719654da5be384",
          "edgeType": "Branch",
          "source": "32baf6b2e23041f6b95954f25dc8ecc6",
          "target": "d3c8c56e727a4ede82e57ac0ba7f1807",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 33;\n})()\n"
          },
          "label": "Question Attachment"
        },
        {
          "id": "091324ede53c4849ad6995a040828d19",
          "edgeType": "Edge",
          "source": "b1978baa02fa4f48baf8f0addc4614b7",
          "target": "530ade66a19a4bf5b26cab008ff1e6a4",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "490e3bdc92c34a1ba848f1e723ee9147",
          "edgeType": "Branch",
          "source": "530ade66a19a4bf5b26cab008ff1e6a4",
          "target": "fabedeb0fdef4f3f8ab56c866f7604b2",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaVars.validation_message.length === 0;\n})()\n"
          },
          "label": "Next Question"
        },
        {
          "id": "93b4191838f9433f9cc3342e49e02433",
          "edgeType": "Branch",
          "source": "530ade66a19a4bf5b26cab008ff1e6a4",
          "target": "1a60347e6f924c548f1ecc13aa55eda8",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaVars.validation_message.length !== 0;\n})()\n"
          },
          "label": "Repeat Question"
        },
        {
          "id": "d9dc493a602243b5b14366eda2ee813a",
          "edgeType": "Edge",
          "source": "1a60347e6f924c548f1ecc13aa55eda8",
          "target": "d3c8c56e727a4ede82e57ac0ba7f1807",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "0b6ce560dded42a89c0d321b00b974ac",
          "edgeType": "Edge",
          "source": "d5947bdd60f74556bf36d4e036a97f39",
          "target": "a615b27ef6cd4ad792baa426610bd3b1",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "dca588a1561e4259b163e2e79cbf92c9",
          "edgeType": "Branch",
          "source": "a615b27ef6cd4ad792baa426610bd3b1",
          "target": "54883add9d0e45d59fa0aac1a13d6c53",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n   \n    if (itemJson.sys_class_name !== 'sc_cat_item_producer') {\n        return true;\n    }    \n    return false;\n})()\n"
          },
          "label": "No"
        },
        {
          "id": "47534cc6f3b042a38be155d55d186eb8",
          "edgeType": "Branch",
          "source": "a615b27ef6cd4ad792baa426610bd3b1",
          "target": "99381022abf144538e6b46b5d2b0ca9b",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (itemJson.sys_class_name === 'sc_cat_item_producer') {\n        return true;\n    }    \n    return false;\n})()"
          },
          "label": "Yes"
        },
        {
          "id": "1c021ea8216744c5a6822be3968020c6",
          "edgeType": "Branch",
          "source": "99381022abf144538e6b46b5d2b0ca9b",
          "target": "54883add9d0e45d59fa0aac1a13d6c53",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    /**\n     * Topic should pass execute_contextual_search as input if contextual search is required\n     *  It will execute contextual search only first time. For subsequent text variables, it will be skipped\n     */\n    var ans = vaInputs.question_text.getValue();\n    if(vaInputs.execute_contextual_search == 'false' || ans.trim().length === 0) {\n        return true;\n    }\n    return false;    \n})()\n"
          },
          "label": "No",
          "fromNode": "- Execute Contextual Search",
          "toNode": "54883add9d0e45d59fa0aac1a13d6c53",
          "toEdge": "1c021ea8216744c5a6822be3968020c6",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "6c4445e0e7be493f97f16d03201b44a6",
          "edgeType": "Branch",
          "source": "99381022abf144538e6b46b5d2b0ca9b",
          "target": "e222514224264003baba8fdd0c12c56d",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    /**\n     * Topic should pass execute_contextual_search as input if contextual search is required\n     *  It will execute contextual search only first time. For subsequent text variables, it will be skipped\n     */\n    var ans = vaInputs.question_text.getValue();\n    if(vaInputs.execute_contextual_search == 'true'  &amp;&amp; ans.trim().length !== 0) {\n        return true;\n    }\n    return false;     \n})()\n"
          },
          "label": "Yes"
        },
        {
          "id": "be68f98a357545cdb4e7fbef856fbd4d",
          "edgeType": "Edge",
          "source": "e222514224264003baba8fdd0c12c56d",
          "target": "47a7f2d084934b2896ee221d42917971",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "d9a4bf5726c34d3da60a086e1b11c613",
          "edgeType": "Branch",
          "source": "47a7f2d084934b2896ee221d42917971",
          "target": "54883add9d0e45d59fa0aac1a13d6c53",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if(vaVars.contextualSearchVariable !== quesJson.sys_id) {\n        return true;\n    }\n    return false;\n})()"
          },
          "label": "No",
          "fromNode": "- Contextual Search Variable ?",
          "toNode": "54883add9d0e45d59fa0aac1a13d6c53",
          "toEdge": "d9a4bf5726c34d3da60a086e1b11c613",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "19092900676048a0828d840dab209f96",
          "edgeType": "Branch",
          "source": "47a7f2d084934b2896ee221d42917971",
          "target": "ccd5378d1be64dbd99b0088ef1b22dbd",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if(vaVars.contextualSearchVariable === quesJson.sys_id) {\n        return true;\n    }\n    return false;\n})()"
          },
          "label": "Yes"
        },
        {
          "id": "f8748e64f22c41049bfcec8b1ed2c702",
          "edgeType": "Edge",
          "source": "ccd5378d1be64dbd99b0088ef1b22dbd",
          "target": "cf6b5479e6e04165b3db5f0db701e882",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "49994058c1464470bf8b91ce7e8ed7a1",
          "edgeType": "Branch",
          "source": "cf6b5479e6e04165b3db5f0db701e882",
          "target": "54883add9d0e45d59fa0aac1a13d6c53",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    if(vaVars.contextualSearchResultCount &lt;= 0){\n        return true;\n    }\n    return false;\n})()\n"
          },
          "label": "No",
          "fromNode": "- Did the search return results ?",
          "toNode": "54883add9d0e45d59fa0aac1a13d6c53",
          "toEdge": "49994058c1464470bf8b91ce7e8ed7a1",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "167d559987254368b07e886571474d99",
          "edgeType": "Branch",
          "source": "cf6b5479e6e04165b3db5f0db701e882",
          "target": "b9beccb2aa974852b20c1dfaae23517a",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    if(vaVars.contextualSearchResultCount &gt; 0){\n        return true;\n    }\n    return false;\n})()\n"
          },
          "label": "Yes"
        },
        {
          "id": "255bd76c5805417c91a359041e893f15",
          "edgeType": "Branch",
          "source": "8e33e2ce6cad4585a30430feea5b533e",
          "target": "997cc47e253a4f4486536c1b7b7ae200",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "did_articles_help=true",
            "mode": "query"
          },
          "label": "Yes"
        },
        {
          "id": "12ad6834951c47f4b20618a6ccf4f8c2",
          "edgeType": "Branch",
          "source": "8e33e2ce6cad4585a30430feea5b533e",
          "target": "54883add9d0e45d59fa0aac1a13d6c53",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "did_articles_help!=true",
            "mode": "query"
          },
          "label": "No",
          "fromNode": "- Decision",
          "toNode": "54883add9d0e45d59fa0aac1a13d6c53",
          "toEdge": "12ad6834951c47f4b20618a6ccf4f8c2",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "d0b054b402864fee892deeed8ba557fa",
          "edgeType": "Edge",
          "source": "b9beccb2aa974852b20c1dfaae23517a",
          "target": "bcf6d035489743df8be064993e826274",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "d8b20051012e496eb3135aacbeb7fd50",
          "edgeType": "Edge",
          "source": "bcf6d035489743df8be064993e826274",
          "target": "8e33e2ce6cad4585a30430feea5b533e",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "c238fd5443d1497091f94e568a8d12fd",
          "edgeType": "Edge",
          "source": "322bff24665f4c2e8ef607c616d6a2d1",
          "target": "29a6789c104f499eb449ad8d75fb854f",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "fbe728459eeb4a6e9d83180ce7ef3327",
          "edgeType": "Branch",
          "source": "29a6789c104f499eb449ad8d75fb854f",
          "target": "74e9eb47d964487f8b45da62b9f27b26",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "confirm_catalog_item=true",
            "mode": "query"
          },
          "label": "Yes"
        },
        {
          "id": "9f19a0fdedb14ff9af2de5fd89734db3",
          "edgeType": "Branch",
          "source": "29a6789c104f499eb449ad8d75fb854f",
          "target": "e02c40e82f31494582d1de28b922bcbd",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "confirm_catalog_item=false",
            "mode": "query"
          },
          "label": "No",
          "fromNode": "- Confirmation Required ?",
          "toNode": "e02c40e82f31494582d1de28b922bcbd",
          "toEdge": "9f19a0fdedb14ff9af2de5fd89734db3",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "824bd364e72f4c5690f06443332381a5",
          "edgeType": "Branch",
          "source": "800242434ca744e4a2133a32a0c96fa2",
          "target": "286448edf1734dc8abc8824e08467ea9",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "order_item=true",
            "mode": "query"
          },
          "label": "Order Now"
        },
        {
          "id": "7afa7e21c4734c3da809ed6cc27f9935",
          "edgeType": "Branch",
          "source": "286448edf1734dc8abc8824e08467ea9",
          "target": "b38026bb69284918b8d2ada7c08f8838",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    if (vaContext.catalog_builder_preview)\n       return false;\n    return true;\n})()\n"
          },
          "label": "Order"
        },
        {
          "id": "af7ed62c0f8240319d88883b3874394a",
          "edgeType": "Branch",
          "source": "286448edf1734dc8abc8824e08467ea9",
          "target": "f2f60834cc1e4557b82e070bd7dccd75",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n   if (vaContext.catalog_builder_preview)\n      return true;\n   return false;\n})()\n"
          },
          "label": "Preview"
        },
        {
          "id": "0a28b0a0afa04ba0be95f7e42272c564",
          "edgeType": "Branch",
          "source": "b53efdd9451440579e975565d39f5018",
          "target": "c9017f3e3e6240318b1de2b4b26d46f3",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "submit_producer=true",
            "mode": "query"
          },
          "label": "Submit Now"
        },
        {
          "id": "15d39f947eb34e07b0d526893d4371eb",
          "edgeType": "Branch",
          "source": "c9017f3e3e6240318b1de2b4b26d46f3",
          "target": "98d250bc8d2f4c86bcf34951524cae39",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    if (vaContext.catalog_builder_preview)\n       return false;\n    return true;\n})()\n"
          },
          "label": "Submit"
        },
        {
          "id": "7df08b92cd384304823b878feea6b0c1",
          "edgeType": "Branch",
          "source": "c9017f3e3e6240318b1de2b4b26d46f3",
          "target": "f2f60834cc1e4557b82e070bd7dccd75",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n   if (vaContext.catalog_builder_preview)\n      return true;\n   return false;\n})()\n"
          },
          "label": "Preview"
        },
        {
          "id": "3e07cd6238b641af98c7992e4cbd3325",
          "edgeType": "Edge",
          "source": "f2f60834cc1e4557b82e070bd7dccd75",
          "target": "3f2cae6b9a34499d8bdcce633f9f6124",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "bdf77b2eaccb4dff9571f610b5f441ae",
          "edgeType": "Edge",
          "source": "3f2cae6b9a34499d8bdcce633f9f6124",
          "target": "997cc47e253a4f4486536c1b7b7ae200",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "39efb663ac9745e59b37584d726cbe7d",
          "edgeType": "Edge",
          "source": "12a255fe3c1444e8a767d553811fffeb",
          "target": "d30f3b3e5ac843eca3cd602bb4ccf331",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "07e29ac79c0149e18c3f015d2b114b81",
          "edgeType": "Branch",
          "source": "d30f3b3e5ac843eca3cd602bb4ccf331",
          "target": "50c8a5c9f4c44ee38ab60632b3e39c05",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.upload_attachmentISNOTEMPTY",
            "mode": "query"
          },
          "label": "Attachment uploaded"
        },
        {
          "id": "d24f25f27252422392a78fca42b80a31",
          "edgeType": "Branch",
          "source": "d30f3b3e5ac843eca3cd602bb4ccf331",
          "target": "b91f4def20ee42ddb221a9dda66e1dbe",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.upload_attachmentISEMPTY",
            "mode": "query"
          },
          "label": "Attachment skipped"
        },
        {
          "id": "b714d9acbf864684a4ec94846791b2b2",
          "edgeType": "Branch",
          "source": "32baf6b2e23041f6b95954f25dc8ecc6",
          "target": "6fa03c867ab34ce0be8a3d8b792d0868",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 32;\n})()\n"
          },
          "label": "Rich Text Label Question"
        },
        {
          "id": "c0c77c84c5da40819e606e836a52efec",
          "edgeType": "Edge",
          "source": "6fa03c867ab34ce0be8a3d8b792d0868",
          "target": "54883add9d0e45d59fa0aac1a13d6c53",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "80636c630246403da03980c27ad6a5b4",
          "edgeType": "Branch",
          "source": "e02c40e82f31494582d1de28b922bcbd",
          "target": "eb3f943aa9f74c418b95fb3e785dce85",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n     var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n\n    do {\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n        vaVars.qIndex = qIndex;\n        return true;\n    }\n    return false;\n})()"
          },
          "label": "Questions Left"
        },
        {
          "id": "23c13972c655409987cfc31f94460fa3",
          "edgeType": "Edge",
          "source": "eb3f943aa9f74c418b95fb3e785dce85",
          "target": "9f1855b30c8445eca3e42559b5857e83",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "d22a54edfa9344b090dffddcd6993ba9",
          "edgeType": "Edge",
          "source": "9f1855b30c8445eca3e42559b5857e83",
          "target": "d2c718dc22d84f42ae76f7aa393fb8d4",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "445c625b06f146beb3e1f08ef4405f3a",
          "edgeType": "Branch",
          "source": "d2c718dc22d84f42ae76f7aa393fb8d4",
          "target": "32baf6b2e23041f6b95954f25dc8ecc6",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.proceed_with_default=",
            "mode": "query"
          },
          "label": "Do not proceed with default value"
        },
        {
          "id": "c4985c19c62c44caa467d5267f732510",
          "edgeType": "Branch",
          "source": "d2c718dc22d84f42ae76f7aa393fb8d4",
          "target": "54883add9d0e45d59fa0aac1a13d6c53",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.proceed_with_default=true",
            "mode": "query"
          },
          "label": "Proceed with default value"
        },
        {
          "id": "416c3d16c86c449692132a051a62c5b4",
          "edgeType": "Edge",
          "source": "b38026bb69284918b8d2ada7c08f8838",
          "target": "55006c23cbb94bad98fbb8a3d73143c2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "324bafc53c384e069b22055b7f9b1d39",
          "edgeType": "Branch",
          "source": "55006c23cbb94bad98fbb8a3d73143c2",
          "target": "997cc47e253a4f4486536c1b7b7ae200",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.show_end_state_card=",
            "mode": "query"
          },
          "label": "No",
          "fromNode": "24 Show end state card?",
          "toNode": "997cc47e253a4f4486536c1b7b7ae200",
          "toEdge": "324bafc53c384e069b22055b7f9b1d39",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "17506c53f5af4f51ac357f6742fc57a7",
          "edgeType": "Edge",
          "source": "3f1546895fe94ebeaf4b2e4b70fc68ca",
          "target": "832e807455aa423bb2d3f1c820377f34",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "bef1fac78d524881869cbcef0095c4c8",
          "edgeType": "Branch",
          "source": "832e807455aa423bb2d3f1c820377f34",
          "target": "d5947bdd60f74556bf36d4e036a97f39",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    return type === 2 || type === 6 || type === 16;\n})()"
          },
          "label": "Text Type"
        },
        {
          "id": "4ab72cca27304f1191ba620d1ebebde6",
          "edgeType": "Branch",
          "source": "832e807455aa423bb2d3f1c820377f34",
          "target": "9deefd69cdd3444a9b84225868e296c4",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 26;\n})()\n"
          },
          "label": "Email Type"
        },
        {
          "id": "9a4ac9b8c0d942d385e51b359084df3c",
          "edgeType": "Branch",
          "source": "832e807455aa423bb2d3f1c820377f34",
          "target": "619194839eb14119a4294056244dbe08",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 28;\n})()\n"
          },
          "label": "IP Address Type"
        },
        {
          "id": "cdb937b7bc3a4d339cdc9495167befb5",
          "edgeType": "Branch",
          "source": "832e807455aa423bb2d3f1c820377f34",
          "target": "57608a46d8384da681d5b22721357f2c",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 27;\n})()\n"
          },
          "label": "URL Type"
        },
        {
          "id": "114d54c4794a4b73b30f3392f7dae6d2",
          "edgeType": "Branch",
          "source": "32baf6b2e23041f6b95954f25dc8ecc6",
          "target": "b43a24507f434bf08fffb4cf2302ff06",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    return type === 1 || type === 3 || type === 4 || type === 5 || type === 7 || type === 18 || type === 22;\n})()\n"
          },
          "label": "Choice or Checkbox Question"
        },
        {
          "id": "35666b9c57c94fe0b67756f13879d8e3",
          "edgeType": "Branch",
          "source": "b43a24507f434bf08fffb4cf2302ff06",
          "target": "cd4a158699bb435c9ddc7cdcb1422343",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return !(vaContext.deviceType === \"mweb\");\n})()\n"
          },
          "label": "Other Channels"
        },
        {
          "id": "fdbc7ba0e765475fae52609616a6b2cb",
          "edgeType": "Edge",
          "source": "cd4a158699bb435c9ddc7cdcb1422343",
          "target": "34862db574264da1ae8eb98b08560aa0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "d5579137b48c416a922f577f1d433815",
          "edgeType": "Branch",
          "source": "34862db574264da1ae8eb98b08560aa0",
          "target": "a008488c12134fa59d94d84358fb82f7",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.question_choice_other_channels.getValue() === \"prev\";\n})()\n"
          },
          "label": "Question Choice Prev"
        },
        {
          "id": "3fa49cee67384178afaa40d745305a5e",
          "edgeType": "Edge",
          "source": "a008488c12134fa59d94d84358fb82f7",
          "target": "cd4a158699bb435c9ddc7cdcb1422343",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "247c40e2e7aa4d7e85c25b9b21729222",
          "edgeType": "Branch",
          "source": "34862db574264da1ae8eb98b08560aa0",
          "target": "88749c4d7be542c2a7e8cfc5317355bb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.question_choice_other_channels.getValue() === \"next\";\n})()\n"
          },
          "label": "Question Choice Next"
        },
        {
          "id": "1f11a3d17cea4831b2aa37880cfdfabd",
          "edgeType": "Edge",
          "source": "88749c4d7be542c2a7e8cfc5317355bb",
          "target": "cd4a158699bb435c9ddc7cdcb1422343",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "ccff1f1b185848ab89119099f78edc38",
          "edgeType": "Branch",
          "source": "34862db574264da1ae8eb98b08560aa0",
          "target": "f84e7d75c3954b32a9f83585a3778acc",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var valuePicked = vaInputs.question_choice_other_channels.getValue();\n    var condition = valuePicked !== 'next' &amp;&amp; valuePicked !== 'prev';\n    if (condition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    return condition;\n})();"
          },
          "label": "Question Choice Chosen"
        },
        {
          "id": "a154f3e5959d4c99abf43fa430966724",
          "edgeType": "Edge",
          "source": "f84e7d75c3954b32a9f83585a3778acc",
          "target": "54883add9d0e45d59fa0aac1a13d6c53",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "d3ea2fd9c6064f4fb98eed5eb5204563",
          "edgeType": "Branch",
          "source": "32baf6b2e23041f6b95954f25dc8ecc6",
          "target": "a5b6f697dfa74c469e813a2a62f7d69a",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n   return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 8;\n})()"
          },
          "label": "Reference Question"
        },
        {
          "id": "2110165e467f46499c5db13759802939",
          "edgeType": "Branch",
          "source": "a5b6f697dfa74c469e813a2a62f7d69a",
          "target": "421768830f3f46cba1080632bfdd550b",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaContext.deviceType === \"mweb\";\n})()\n"
          },
          "label": "Mobile/Web Client"
        },
        {
          "id": "fe802396b53445d48763b0e20cb87eb9",
          "edgeType": "Branch",
          "source": "a5b6f697dfa74c469e813a2a62f7d69a",
          "target": "b195dcbb9d9d4fc98362e2e77e66b14d",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return !(vaContext.deviceType === \"mweb\");\n})()"
          },
          "label": "Other Channels"
        },
        {
          "id": "9507b56bb7a54056bcb484ce56d45756",
          "edgeType": "Edge",
          "source": "b195dcbb9d9d4fc98362e2e77e66b14d",
          "target": "7c3b23f5020d46608d2aaac98964d3bb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "356683858b314e8db1d2bd8b48410107",
          "edgeType": "Edge",
          "source": "7c3b23f5020d46608d2aaac98964d3bb",
          "target": "5d8ea3fc1a8b4d3ca9e673e07549c0d0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "16d140e3171c425799823ef5f3929f46",
          "edgeType": "Branch",
          "source": "5d8ea3fc1a8b4d3ca9e673e07549c0d0",
          "target": "1cfa25eaa3744ce982d9aefd9eaf84df",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.question_reference_other_channels.getValue() === \"prev\";\n})()\n"
          },
          "label": "Question Reference Prev"
        },
        {
          "id": "61b2833b8e214350a9f77abcbf6560b7",
          "edgeType": "Edge",
          "source": "1cfa25eaa3744ce982d9aefd9eaf84df",
          "target": "7c3b23f5020d46608d2aaac98964d3bb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "311eb321cf2f4d5997f68a03f8978834",
          "edgeType": "Branch",
          "source": "5d8ea3fc1a8b4d3ca9e673e07549c0d0",
          "target": "1c81bdd3365c470eaef3813be5be0f2e",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.question_reference_other_channels.getValue() === \"next\";\n})()\n"
          },
          "label": "Question Reference Next"
        },
        {
          "id": "cde7992f1e8746339211110c50193ab5",
          "edgeType": "Edge",
          "source": "1c81bdd3365c470eaef3813be5be0f2e",
          "target": "7c3b23f5020d46608d2aaac98964d3bb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "d26138e9de4e4552bb32db429e7d3d60",
          "edgeType": "Branch",
          "source": "5d8ea3fc1a8b4d3ca9e673e07549c0d0",
          "target": "e753e0457d284e499afb579c8136aac5",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var valuePicked = vaInputs.question_reference_other_channels.getValue();\n    var chosenCondition = valuePicked &amp;&amp; valuePicked !== 'next' &amp;&amp; valuePicked !== 'prev' &amp;&amp; valuePicked !== 'search';\n    var skippedCondition = vaVars.no_records_found === \"false\" &amp;&amp; !valuePicked;\n    if (chosenCondition || skippedCondition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    \n    return chosenCondition || skippedCondition;\n})();"
          },
          "label": "Question Reference Chosen/Skipped"
        },
        {
          "id": "4377505787574b79bba0e8ac078acd23",
          "edgeType": "Branch",
          "source": "5d8ea3fc1a8b4d3ca9e673e07549c0d0",
          "target": "b195dcbb9d9d4fc98362e2e77e66b14d",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var valuePicked = vaInputs.question_reference_other_channels.getValue();\n    var condition = (vaVars.no_records_found === \"true\") || valuePicked === \"search\";\n    if (condition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    return condition;\n})()\n"
          },
          "label": "Search Question Reference"
        },
        {
          "id": "96b06bd6428044e383e0181a83e1fea7",
          "edgeType": "Edge",
          "source": "421768830f3f46cba1080632bfdd550b",
          "target": "e753e0457d284e499afb579c8136aac5",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "6752f84528bc43efa744df4c9b081867",
          "edgeType": "Edge",
          "source": "e753e0457d284e499afb579c8136aac5",
          "target": "54883add9d0e45d59fa0aac1a13d6c53",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "bfe5c1264a684da5a9208a28cf03c421",
          "edgeType": "Branch",
          "source": "55006c23cbb94bad98fbb8a3d73143c2",
          "target": "77cb2746abcb459b9b3cf607c871018a",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.show_end_state_card=true",
            "mode": "query"
          },
          "label": "Yes",
          "fromNode": "24 Show end state card?",
          "toNode": "997cc47e253a4f4486536c1b7b7ae200",
          "toEdge": "bfe5c1264a684da5a9208a28cf03c421",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "d31b4cfdad6a4dda95d601b8aa319591",
          "edgeType": "Branch",
          "source": "31766709be9347a79aef4e8f5265892c",
          "target": "322bff24665f4c2e8ef607c616d6a2d1",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return !!vaVars.isValidCatItem;\n})()\n"
          },
          "label": "Valid Catalog Item",
          "fromNode": "3 Catalog item validity check",
          "toNode": "322bff24665f4c2e8ef607c616d6a2d1",
          "toEdge": "d31b4cfdad6a4dda95d601b8aa319591",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "c14acc5688304322942977b2bdd0764a",
          "edgeType": "Branch",
          "source": "31766709be9347a79aef4e8f5265892c",
          "target": "a702ef3286cc42208859ba03a9b32a52",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return !vaVars.isValidCatItem;\n})()\n"
          },
          "label": "Invalid Catalog Item",
          "fromNode": "3 Catalog item validity check",
          "toNode": "a702ef3286cc42208859ba03a9b32a52",
          "toEdge": "c14acc5688304322942977b2bdd0764a",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "e37f4a86687d4f6ab4ad8972cfe2780d",
          "edgeType": "Edge",
          "source": "50e42592e1a246b58aadc7e397a1d70f",
          "target": "49019591625e45279b1580c127c08ad0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "972c2af5f8d9458d808dab53484b86bd",
          "edgeType": "Edge",
          "source": "49019591625e45279b1580c127c08ad0",
          "target": "31766709be9347a79aef4e8f5265892c",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "d1337e32648e4011bfcef560ef462ca1",
          "edgeType": "Edge",
          "source": "16fe3345a4e943f1abb49380cd8e9fd3",
          "target": "d0cf3faea315461eae1e03deda5d4960",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "07331baac8cc4ada8360c34f3b08ffa6",
          "edgeType": "Branch",
          "source": "d0cf3faea315461eae1e03deda5d4960",
          "target": "e02c40e82f31494582d1de28b922bcbd",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n     var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n     var json = new JSON();\n\n     return !((json.getKeys(quesJson.field_info_messages).length &gt; 0) || (json.getKeys(quesJson.field_warn_messages).length &gt; 0)\n     || (json.getKeys(quesJson.field_error_messages).length &gt; 0));\n})()\n"
          },
          "label": "Has no field messages",
          "fromNode": "93 Decision",
          "toNode": "e02c40e82f31494582d1de28b922bcbd",
          "toEdge": "07331baac8cc4ada8360c34f3b08ffa6",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "0f490b89a9394636abda3ae3fd261c9c",
          "edgeType": "Branch",
          "source": "d0cf3faea315461eae1e03deda5d4960",
          "target": "1dd90e8e85a34170ac75f6f9d0f81ef2",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n     var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n     var json = new JSON();\n\n     return ((json.getKeys(quesJson.field_info_messages).length &gt; 0) ||\n      (json.getKeys(quesJson.field_warn_messages).length &gt; 0) || \n      (json.getKeys(quesJson.field_error_messages).length &gt; 0));\n})()\n"
          },
          "label": "Has Field info and warning messages"
        },
        {
          "id": "a7a201287e5240e9916551cf576f9d0b",
          "edgeType": "Edge",
          "source": "1dd90e8e85a34170ac75f6f9d0f81ef2",
          "target": "cde044c17c62438a93060d206bc715ed",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "a649f94aa88840408f6e1bce803e081c",
          "edgeType": "Branch",
          "source": "cde044c17c62438a93060d206bc715ed",
          "target": "a8766d8181784aa49eaa5946063bd164",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.change_response=true",
            "mode": "query"
          },
          "label": "true",
          "fromNode": "95 Decision",
          "toNode": "e02c40e82f31494582d1de28b922bcbd",
          "toEdge": "a649f94aa88840408f6e1bce803e081c",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "ca542399781644a7a0084642dc18345d",
          "edgeType": "Edge",
          "source": "a8766d8181784aa49eaa5946063bd164",
          "target": "e02c40e82f31494582d1de28b922bcbd",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "a0d23bdad48f48c7b158477e2f20c6fa",
          "edgeType": "Branch",
          "source": "832e807455aa423bb2d3f1c820377f34",
          "target": "b43a24507f434bf08fffb4cf2302ff06",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 7;\n})()\n"
          },
          "label": "Checkbox Type"
        }
      ]
    }
  },
  "variables": {
    "07afcf68036848289165796f9a4f1dd7": {
      "id": "07afcf68036848289165796f9a4f1dd7",
      "name": "catalog_item_id",
      "label": "Catalog_item_id",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "50e42592e1a246b58aadc7e397a1d70f",
      "isHidden": false
    },
    "970e6e2668944b2a96edabed6b000522": {
      "id": "970e6e2668944b2a96edabed6b000522",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "itemJSON",
      "label": "itemJSON",
      "varType": "script",
      "category": "vaVars"
    },
    "89df6790572e4be0857786b24bddc5c2": {
      "id": "89df6790572e4be0857786b24bddc5c2",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "itemName",
      "label": "itemName",
      "varType": "script",
      "category": "vaVars"
    },
    "10ce3c75c25a42f68181502f9da77a84": {
      "id": "10ce3c75c25a42f68181502f9da77a84",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    return '';\n})()\n"
      },
      "name": "record_id",
      "label": "record_id",
      "varType": "script",
      "category": "vaVars"
    },
    "974d2ebd0a2a4851b815680360a506f3": {
      "id": "974d2ebd0a2a4851b815680360a506f3",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    return '';\n})()\n"
      },
      "name": "record_table",
      "label": "record_table",
      "varType": "script",
      "category": "vaVars"
    },
    "73b26d123eba4bc1a43a500b190f91a4": {
      "id": "73b26d123eba4bc1a43a500b190f91a4",
      "name": "proceed",
      "label": "Proceed",
      "varType": "boolean",
      "category": "vaInputs",
      "nodeId": "6175385c4ab04062981531421fa16d0c",
      "isHidden": false
    },
    "f5bd02f169214e52a71671eb0c0e98a4": {
      "id": "f5bd02f169214e52a71671eb0c0e98a4",
      "value": {
        "mode": "simple",
        "value": "-1"
      },
      "name": "qIndex",
      "label": "qIndex",
      "varType": "script",
      "category": "vaVars"
    },
    "eb5c2cf603fb4beca65e553c72bac076": {
      "id": "eb5c2cf603fb4beca65e553c72bac076",
      "name": "submit_producer",
      "label": "Submit Producer",
      "varType": "boolean",
      "category": "vaInputs",
      "nodeId": "ee857ec53ca84690b0bb2d81d29330f0",
      "isHidden": false
    },
    "bc37ce3719cb4b65898191c073812f2f": {
      "id": "bc37ce3719cb4b65898191c073812f2f",
      "value": {
        "mode": "simple",
        "value": "7"
      },
      "name": "limit",
      "label": "limit",
      "varType": "script",
      "category": "vaVars"
    },
    "e70f6c612f004f6aa647e2d993f51790": {
      "id": "e70f6c612f004f6aa647e2d993f51790",
      "value": {
        "mode": "simple",
        "value": "0"
      },
      "name": "count",
      "label": "count",
      "varType": "script",
      "category": "vaVars"
    },
    "cee2564bb2de429abb8452a1dbaba1d4": {
      "id": "cee2564bb2de429abb8452a1dbaba1d4",
      "value": {
        "mode": "simple",
        "value": "0"
      },
      "name": "index",
      "label": "index",
      "varType": "script",
      "category": "vaVars"
    },
    "7d058ae428f541349c085b1b06fcb8bc": {
      "id": "7d058ae428f541349c085b1b06fcb8bc",
      "name": "order_item",
      "label": "Order Item",
      "varType": "boolean",
      "category": "vaInputs",
      "nodeId": "6f701cdee3bd497397529b0e876ce2eb",
      "isHidden": false
    },
    "2f89c2ff51584aed90c0267ca838dd87": {
      "id": "2f89c2ff51584aed90c0267ca838dd87",
      "name": "question_date",
      "label": "Question Date",
      "varType": "date_time",
      "category": "vaInputs",
      "mode": "date",
      "nodeId": "a3dedd563bc74fdf9b23f3fe46812347",
      "isHidden": false
    },
    "a7adbb0c48e0417eb09ff2dca28a112f": {
      "id": "a7adbb0c48e0417eb09ff2dca28a112f",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    return '';\n})()\n"
      },
      "name": "validation_message",
      "label": "validation_message",
      "varType": "script",
      "category": "vaVars"
    },
    "1a8b038937e842ba8ae56a4827e23e4f": {
      "id": "1a8b038937e842ba8ae56a4827e23e4f",
      "name": "question_text",
      "label": "Question Text",
      "varType": "string",
      "category": "vaInputs",
      "secure": false,
      "encryptionSalt": {
        "value": "MTYxMTIxNzA0NzMzMiBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "encryptionHashFunction": "SHA-256",
      "nodeId": "d5947bdd60f74556bf36d4e036a97f39",
      "isHidden": false
    },
    "33e1ef9d7af34db5975acb9bef3aa29d": {
      "id": "33e1ef9d7af34db5975acb9bef3aa29d",
      "name": "question_reference",
      "label": "Question Reference",
      "varType": "reference",
      "table": "",
      "category": "vaInputs",
      "nodeId": "421768830f3f46cba1080632bfdd550b",
      "isHidden": false
    },
    "ba3dd34f05d14c27ad69f26a548dee92": {
      "category": "vaInputs",
      "id": "ba3dd34f05d14c27ad69f26a548dee92",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "e45d129853c84ac3a15906524da4e80f": {
      "id": "e45d129853c84ac3a15906524da4e80f",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    /* Return a quoted string.  For example:\n\n       var result;\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessage('hi there {0}', [vaInputs.first_name]);\n       } else {\n           return gs.getMessage('how are you {0}', [vaInputs.last_name]);\n       }\n    */\n    return '';\n})()\n"
      },
      "name": "request_for",
      "label": "request_for",
      "varType": "script",
      "category": "vaVars"
    },
    "c4c3d591228e4ddaa35dc2f8d6736384": {
      "id": "c4c3d591228e4ddaa35dc2f8d6736384",
      "name": "question_choice",
      "label": "Question Choice",
      "varType": "reference",
      "table": "",
      "category": "vaInputs",
      "nodeId": "728be06bc82a496883a17da67c386db4",
      "isHidden": false
    },
    "be0812314a6542989daddbb4da2f041b": {
      "id": "be0812314a6542989daddbb4da2f041b",
      "name": "question_date_time",
      "label": "Question Date Time",
      "varType": "date_time",
      "category": "vaInputs",
      "mode": "date_time",
      "nodeId": "95a610ed2d114a0884802fb3f396913e",
      "isHidden": false
    },
    "992997eb5c1d4cd59e3d6e23bd4d3020": {
      "id": "992997eb5c1d4cd59e3d6e23bd4d3020",
      "name": "question_requested_for",
      "label": "Question Requested For",
      "varType": "reference",
      "table": "",
      "category": "vaInputs",
      "nodeId": "e3d5f7d6137e4acf8a039f47631df484",
      "isHidden": false
    },
    "bb68d9bb32184d9f859806561e155ddb": {
      "id": "bb68d9bb32184d9f859806561e155ddb",
      "name": "search_requested_for",
      "label": "Search Requested For",
      "varType": "string",
      "category": "vaInputs",
      "secure": false,
      "encryptionSalt": {
        "value": "MTYxMTIxNzA0NzMzMiBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "encryptionHashFunction": "SHA-256",
      "nodeId": "2c8e4750e1a24e889f11df275160dee8",
      "isHidden": false
    },
    "90db47196df846be8fefb2f8302e0a4a": {
      "id": "90db47196df846be8fefb2f8302e0a4a",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    return false;\n})()\n"
      },
      "name": "canView",
      "label": "canView",
      "varType": "script",
      "category": "vaVars"
    },
    "4c9006a0a896498e98663cb99854584c": {
      "id": "4c9006a0a896498e98663cb99854584c",
      "name": "request_for_another_user",
      "label": "Request For Another User",
      "varType": "boolean",
      "category": "vaInputs",
      "nodeId": "2ea3c522c84245088207f8293e7a8750",
      "isHidden": false
    },
    "df66e010a16943a2bc60cb60901bab45": {
      "id": "df66e010a16943a2bc60cb60901bab45",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    return '14,15,17,21,23,25,29,30';\n})()\n"
      },
      "name": "unsupportedVarTypes",
      "label": "unsupportedVarTypes",
      "varType": "script",
      "category": "vaVars"
    },
    "b93d7f37309c480aae9442cb7ed84a60": {
      "id": "b93d7f37309c480aae9442cb7ed84a60",
      "name": "question_email",
      "label": "Question Email",
      "varType": "string",
      "category": "vaInputs",
      "secure": false,
      "encryptionSalt": {
        "value": "MTYxMTIxNzA0NzMzMiBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "encryptionHashFunction": "SHA-256",
      "nodeId": "9deefd69cdd3444a9b84225868e296c4",
      "isHidden": false
    },
    "7474c734e05c48e9ad1160295933b22f": {
      "id": "7474c734e05c48e9ad1160295933b22f",
      "name": "question_ip_address",
      "label": "Question IP Address",
      "varType": "string",
      "category": "vaInputs",
      "secure": false,
      "encryptionSalt": {
        "value": "MTYxMTIxNzA0NzMzMiBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "encryptionHashFunction": "SHA-256",
      "nodeId": "619194839eb14119a4294056244dbe08",
      "isHidden": false
    },
    "167cd0ae112241e8b87e01fb1285725a": {
      "id": "167cd0ae112241e8b87e01fb1285725a",
      "name": "question_url",
      "label": "Question URL",
      "varType": "string",
      "category": "vaInputs",
      "secure": false,
      "encryptionSalt": {
        "value": "MTYxMTIxNzA0NzMzMiBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "encryptionHashFunction": "SHA-256",
      "nodeId": "57608a46d8384da681d5b22721357f2c",
      "isHidden": false
    },
    "033f59a3c0234d16b376865219ad93bd": {
      "id": "033f59a3c0234d16b376865219ad93bd",
      "name": "add_attachment",
      "label": "Add Attachment",
      "varType": "boolean",
      "category": "vaInputs",
      "nodeId": "98508029b44349ef9b4a4789f4271411",
      "isHidden": false
    },
    "b41fd59845bf4371b81d933a99bc0b58": {
      "id": "b41fd59845bf4371b81d933a99bc0b58",
      "name": "upload_attachment",
      "label": "Upload Attachment",
      "varType": "file",
      "category": "vaInputs",
      "nodeId": "12a255fe3c1444e8a767d553811fffeb",
      "isHidden": false
    },
    "b4eb5e13add241c38dcb9ab50d58960f": {
      "id": "b4eb5e13add241c38dcb9ab50d58960f",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    return '';\n})()\n"
      },
      "name": "media_links_form_attachment",
      "label": "media_links_form_attachment",
      "varType": "script",
      "category": "vaVars"
    },
    "105c1aad186e4ee8b6a78c42061cdc96": {
      "id": "105c1aad186e4ee8b6a78c42061cdc96",
      "name": "add_more",
      "label": "Add More",
      "varType": "boolean",
      "category": "vaInputs",
      "nodeId": "9664cf4809a049038b363de93e7255a2",
      "isHidden": false
    },
    "bab053bff273440bad56992e39b06f09": {
      "id": "bab053bff273440bad56992e39b06f09",
      "name": "question_attachment",
      "label": "Question Attachment",
      "varType": "file",
      "category": "vaInputs",
      "nodeId": "d3c8c56e727a4ede82e57ac0ba7f1807",
      "isHidden": false
    },
    "1a07d18b06e643ab9ed243ca8ea0613d": {
      "id": "1a07d18b06e643ab9ed243ca8ea0613d",
      "name": "execute_contextual_search",
      "label": "Execute_contextual_search",
      "defaultValue": "false",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "50e42592e1a246b58aadc7e397a1d70f",
      "isHidden": false
    },
    "4fc581a3b49d49b9a02f817be5f45ac6": {
      "id": "4fc581a3b49d49b9a02f817be5f45ac6",
      "name": "confirm_catalog_item",
      "label": "Confirm_catalog_item",
      "defaultValue": "true",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "50e42592e1a246b58aadc7e397a1d70f",
      "isHidden": false
    },
    "977939a5815444278f4dac93e5d8ed74": {
      "id": "977939a5815444278f4dac93e5d8ed74",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    return '';\n})()\n"
      },
      "name": "contextualSearchVariable",
      "label": "contextualSearchVariable",
      "varType": "script",
      "category": "vaVars"
    },
    "fb170beb6fa64cea94283b2ab450c627": {
      "id": "fb170beb6fa64cea94283b2ab450c627",
      "value": {
        "mode": "simple",
        "value": "2821675a5b30130070e4492c11f91a89"
      },
      "name": "contextualSearchContext",
      "label": "contextualSearchContext",
      "varType": "script",
      "category": "vaVars"
    },
    "49034567f5514db69c037803df8c0a6a": {
      "id": "49034567f5514db69c037803df8c0a6a",
      "value": {
        "mode": "simple",
        "value": "3"
      },
      "name": "contextualSearchResultLimit",
      "label": "contextualSearchResultLimit",
      "varType": "script",
      "category": "vaVars"
    },
    "1b7c65355f0e4549845bc2615dea5d99": {
      "id": "1b7c65355f0e4549845bc2615dea5d99",
      "value": {
        "mode": "simple",
        "value": "0"
      },
      "name": "contextualSearchIndex",
      "label": "contextualSearchIndex",
      "varType": "script",
      "category": "vaVars"
    },
    "f326f2bcc8634c598725b5d9f953ec1e": {
      "id": "f326f2bcc8634c598725b5d9f953ec1e",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "contextualSearchResultJsonString",
      "label": "contextualSearchResultJsonString",
      "varType": "script",
      "category": "vaVars"
    },
    "5dcee0136641470a8a3107cd473ef8a2": {
      "id": "5dcee0136641470a8a3107cd473ef8a2",
      "value": {
        "mode": "simple",
        "value": "0"
      },
      "name": "contextualSearchResultCount",
      "label": "contextualSearchResultCount",
      "varType": "script",
      "category": "vaVars"
    },
    "afbb4bd2c6444c4882ab840c0700ade9": {
      "id": "afbb4bd2c6444c4882ab840c0700ade9",
      "name": "did_articles_help",
      "label": "Did_articles_help",
      "varType": "boolean",
      "category": "vaInputs",
      "nodeId": "bcf6d035489743df8be064993e826274",
      "isHidden": false
    },
    "e131ab8e513049809aa9bf27e60d24b5": {
      "id": "e131ab8e513049809aa9bf27e60d24b5",
      "name": "proceed_with_default",
      "label": "Proceed With Default",
      "varType": "boolean",
      "secure": false,
      "category": "vaInputs",
      "nodeId": "9f1855b30c8445eca3e42559b5857e83",
      "isHidden": false
    },
    "df0de82d0e5041f183b4cf7ea725f146": {
      "id": "df0de82d0e5041f183b4cf7ea725f146",
      "name": "show_end_state_card",
      "label": "Show_end_state_card",
      "defaultValue": "false",
      "varType": "boolean",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "50e42592e1a246b58aadc7e397a1d70f",
      "isHidden": false
    },
    "e3bad7ee86e143cdb66f3b54e74661bc": {
      "id": "e3bad7ee86e143cdb66f3b54e74661bc",
      "name": "question_choice_other_channels",
      "label": "Question Choice Other Channels",
      "varType": "reference",
      "table": "",
      "category": "vaInputs",
      "nodeId": "cd4a158699bb435c9ddc7cdcb1422343",
      "isHidden": false
    },
    "016d9cd1e4a64839bcc5963b7933014a": {
      "id": "016d9cd1e4a64839bcc5963b7933014a",
      "name": "search_reference",
      "label": "Search Reference",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTY1MDQ4NTE4OTAxMCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "b195dcbb9d9d4fc98362e2e77e66b14d",
      "isHidden": false
    },
    "a0c1157862164fe79996d8a37afcb839": {
      "id": "a0c1157862164fe79996d8a37afcb839",
      "name": "question_reference_other_channels",
      "label": "Question Reference Other Channels",
      "varType": "reference",
      "table": "",
      "category": "vaInputs",
      "nodeId": "7c3b23f5020d46608d2aaac98964d3bb",
      "isHidden": false
    },
    "0a45a90d557948b889760ec6f4c8193e": {
      "id": "0a45a90d557948b889760ec6f4c8193e",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    /* return 'a default value'; */\n    return \"false\";\n})()\n"
      },
      "name": "no_records_found",
      "label": "no_records_found",
      "varType": "script",
      "category": "vaVars"
    },
    "22df45abcf814aab949983deb97bb30e": {
      "id": "22df45abcf814aab949983deb97bb30e",
      "name": "change_response",
      "label": "Change Response",
      "varType": "boolean",
      "secure": false,
      "category": "vaInputs",
      "nodeId": "1dd90e8e85a34170ac75f6f9d0f81ef2",
      "isHidden": false
    }
  }
}</graph>
        <name>Submit a Request</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-06-21 18:01:23</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>6e8509bf833202108ef61665eeaad34e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="NeedIt" source="x_58872_needit">6ead8e780f603200cd674f8ce1050ed1</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt">6ead8e780f603200cd674f8ce1050ed1</sys_scope>
        <sys_update_name>sys_cb_design_topic_6e8509bf833202108ef61665eeaad34e</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-06-21 18:01:23</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
